/*!
*  filename: ej2-calendars.umd.min.js
*  version : 26.2.12
*  Copyright Syncfusion Inc. 2001 - 2023. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@syncfusion/ej2-base"),require("@syncfusion/ej2-popups"),require("@syncfusion/ej2-inputs"),require("@syncfusion/ej2-buttons"),require("@syncfusion/ej2-lists")):"function"==typeof define&&define.amd?define(["exports","@syncfusion/ej2-base","@syncfusion/ej2-popups","@syncfusion/ej2-inputs","@syncfusion/ej2-buttons","@syncfusion/ej2-lists"],t):t((e=e||self).ej={},e.ej2Base,e.ej2Popups,e.ej2Inputs,e.ej2Buttons,e.ej2Lists)}(this,function(i,N,H,o,W,L){"use strict";F=function(e,t){return(F=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var F,B,j=function(e,t){function i(){this.constructor=e}F(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},e=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(r=(n<3?a(r):3<n?a(t,i,r):a(t,i))||r);return 3<n&&r&&Object.defineProperty(t,i,r),r},O="e-other-month",R="e-other-year",Y="e-calendar",z="e-device",q="e-rtl",K="e-calendar-content-table",_="e-year",G="e-month",Z="e-decade",X="e-icons",I="e-disabled",J="e-overlay",$="e-week-number",T="e-selected",g="e-focused-date",Q="e-focused-cell",ee="e-month-hide",te="e-today",ie="e-day",se="e-cell",ae="e-zoomin",ne="e-calendar-day-header-lg",re=864e5,le=(B=N.Component,j(t,B),t.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31))&&(this.max=new Date(2069,10,16)),this.globalize=new N.Internationalization(this.locale),(N.isNullOrUndefined(this.firstDayOfWeek)||6<this.firstDayOfWeek||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(Y),this.enableRtl&&this.element.classList.add(q),N.Browser.isDevice&&this.element.classList.add(z),N.attributes(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(Y),this.enableRtl&&this.calendarElement.classList.add(q),N.Browser.isDevice&&this.calendarElement.classList.add(z),N.attributes(this.calendarElement,{"data-role":"calendar"})),!N.isNullOrUndefined(N.closest(this.element,"fieldset"))&&N.closest(this.element,"fieldset").disabled&&(this.enabled=!1),this.createHeader(),this.createContent(),this.wireEvents()},t.prototype.rangeValidation=function(e,t){N.isNullOrUndefined(e)&&this.setProperties({min:new Date(1900,0,1)},!0),N.isNullOrUndefined(t)&&this.setProperties({max:new Date(2099,11,31)},!0)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs},t.prototype.validateDate=function(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate||new Date((new Date).setHours(0,0,0,0)),!N.isNullOrUndefined(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))},t.prototype.setOverlayIndex=function(e,t,i,s){!s||N.isNullOrUndefined(t)||N.isNullOrUndefined(i)||N.isNullOrUndefined(e)||(s=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3,i.style.zIndex=(s-1).toString(),e.style.zIndex=s.toString())},t.prototype.minMaxUpdate=function(e){+this.min<=+this.max?N.removeClass([this.element],J):(this.setProperties({min:this.min},!0),N.addClass([this.element],J)),this.min=N.isNullOrUndefined(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=N.isNullOrUndefined(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.createHeader=function(){var e={tabindex:"0"},t=(this.headerElement=this.createElement("div",{className:"e-header"}),this.createElement("div",{className:"e-icon-container"}));this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),N.rippleEffect(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),N.attributes(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),N.attributes(this.previousIcon,e),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),N.rippleEffect(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),"daterangepicker"===this.getModuleName()&&(N.attributes(this.previousIcon,{tabIndex:"-1"}),N.attributes(this.nextIcon,{tabIndex:"-1"})),N.attributes(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),N.attributes(this.nextIcon,e),this.headerTitleElement=this.createElement("div",{className:ie+" e-title"}),N.attributes(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),N.attributes(this.headerTitleElement,e),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev "+X})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  "+X})),t.appendChild(this.previousIcon),t.appendChild(this.nextIcon),this.headerElement.appendChild(t),("calendar"===this.getModuleName()?this.element:this.calendarElement).appendChild(this.headerElement),this.adjustLongHeaderSize()},t.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{class:K,tabIndex:"0",role:"grid","aria-activedescendant":"","aria-labelledby":this.element.id}}),("calendar"===this.getModuleName()?this.element:this.calendarElement).appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter(),"daterangepicker"!==this.getModuleName()&&(N.EventHandler.add(this.table,"focus",this.addContentFocus,this),N.EventHandler.add(this.table,"blur",this.removeContentFocus,this))},t.prototype.addContentFocus=function(e){var t=this.tableBodyElement.querySelector("tr td.e-focused-date"),i=this.tableBodyElement.querySelector("tr td.e-selected");N.isNullOrUndefined(i)?N.isNullOrUndefined(t)||t.classList.add(Q):i.classList.add(Q)},t.prototype.removeContentFocus=function(e){var t=N.isNullOrUndefined(this.tableBodyElement)?null:this.tableBodyElement.querySelector("tr td.e-focused-date"),i=N.isNullOrUndefined(this.tableBodyElement)?null:this.tableBodyElement.querySelector("tr td.e-selected");N.isNullOrUndefined(i)?N.isNullOrUndefined(t)||t.classList.remove(Q):i.classList.remove(Q)},t.prototype.getCultureValues=function(){var e=[],t="days.stand-alone."+this.dayHeaderFormat.toLowerCase(),i="en"===this.locale||"en-US"===this.locale?N.getValue(t,N.getDefaultDateObject()):this.getCultureObjects(N.cldrData,""+this.locale);if(!N.isNullOrUndefined(i))for(var s=0,a=Object.keys(i);s<a.length;s++){var n=a[s];e.push(N.getValue(n,i))}return e},t.prototype.toCapitalize=function(e){return!N.isNullOrUndefined(e)&&e.length?e[0].toUpperCase()+e.slice(1):e},t.prototype.createContentHeader=function(){"calendar"===this.getModuleName()?N.isNullOrUndefined(this.element.querySelectorAll(".e-content .e-week-header")[0])||N.detach(this.element.querySelectorAll(".e-content .e-week-header")[0]):N.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||N.detach(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var e="",t=((6<this.firstDayOfWeek||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(e+='<th class="e-week-number" aria-hidden="true"></th>',"calendar"===this.getModuleName()?N.addClass([this.element],$):N.addClass([this.calendarElement],$)),0<this.getCultureValues().length&&this.getCultureValues()?this.shiftArray(0<this.getCultureValues().length&&this.getCultureValues(),this.firstDayOfWeek):null);if(!N.isNullOrUndefined(t))for(var i=0;i<=6;i++)e+='<th  class="">'+this.toCapitalize(t[i])+"</th>";this.tableHeadElement.innerHTML=e="<tr>"+e+"</tr>",this.table.appendChild(this.tableHeadElement)},t.prototype.createContentBody=function(){switch("calendar"===this.getModuleName()?N.isNullOrUndefined(this.element.querySelectorAll(".e-content tbody")[0])||N.detach(this.element.querySelectorAll(".e-content tbody")[0]):N.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content tbody")[0])||N.detach(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},t.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today")),this.todayElement.setAttribute("tabindex","0")},t.prototype.createContentFooter=function(){var e,t;this.showTodayButton&&(e=new Date(+this.min),t=new Date(+this.max),this.globalize=new N.Internationalization(this.locale),this.l10=new N.L10n(this.getModuleName(),{today:"Today"},this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),N.rippleEffect(this.todayElement),this.updateFooter(),N.addClass([this.todayElement],["e-btn",te,"e-flat","e-primary","e-css"]),+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(t.setHours(0,0,0,0))&&!this.todayDisabled||N.addClass([this.todayElement],I),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(I)||N.EventHandler.add(this.todayElement,"click",this.todayButtonClick,this))},t.prototype.wireEvents=function(e,t,i,s){N.EventHandler.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=N.extend(this.defaultKeyConfigs,this.keyConfigs),"calendar"===this.getModuleName()?this.keyboardModule=new N.KeyboardEvents(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):this.keyboardModule=new N.KeyboardEvents(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.dateWireEvents=function(e,t,i,s){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=N.extend(this.defaultKeyConfigs,i),this.serverModuleName=s},t.prototype.todayButtonClick=function(e,t,i){this.showTodayButton&&(this.currentView()===this.depth?this.effect="":this.effect="e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(t)),i):this.navigateTo("Month",new Date(this.checkValue(t)),i))},t.prototype.resetCalendar=function(){this.calendarElement&&N.detach(this.calendarElement),this.tableBodyElement&&N.detach(this.tableBodyElement),this.table&&N.detach(this.table),this.tableHeadElement&&N.detach(this.tableHeadElement),this.nextIcon&&N.detach(this.nextIcon),this.previousIcon&&N.detach(this.previousIcon),this.footer&&N.detach(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null},t.prototype.keyActionHandle=function(e,t,i){if(null!==this.calendarElement||"escape"!==e.action){var s,a,n=this.tableBodyElement.querySelector("tr td.e-focused-date"),r=!i||N.isNullOrUndefined(n)||+t!==parseInt(n.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):n,l=this.getViewNumber(this.currentView()),i=this.getViewNumber(this.depth),o=l===i&&this.getViewNumber(this.start)>=i;switch(this.effect="",e.action){case"moveLeft":"daterangepicker"!==this.getModuleName()&&!N.isNullOrUndefined(e.target)&&0<e.target.classList.length&&e.target.classList.contains(K)&&(this.keyboardNavigate(-1,l,e,this.max,this.min),e.preventDefault());break;case"moveRight":"daterangepicker"!==this.getModuleName()&&!N.isNullOrUndefined(e.target)&&0<e.target.classList.length&&e.target.classList.contains(K)&&(this.keyboardNavigate(1,l,e,this.max,this.min),e.preventDefault());break;case"moveUp":"daterangepicker"!==this.getModuleName()&&!N.isNullOrUndefined(e.target)&&0<e.target.classList.length&&e.target.classList.contains(K)&&(0===l?this.keyboardNavigate(-7,l,e,this.max,this.min):this.keyboardNavigate(-4,l,e,this.max,this.min),e.preventDefault());break;case"moveDown":"daterangepicker"!==this.getModuleName()&&!N.isNullOrUndefined(e.target)&&0<e.target.classList.length&&e.target.classList.contains(K)&&(0===l?this.keyboardNavigate(7,l,e,this.max,this.min):this.keyboardNavigate(4,l,e,this.max,this.min),e.preventDefault());break;case"select":e.target===this.headerTitleElement?this.navigateTitle(e):e.target!==this.previousIcon||e.target.className.includes(I)?e.target!==this.nextIcon||e.target.className.includes(I)?e.target!==this.todayElement||e.target.className.includes(I)?(s=N.isNullOrUndefined(n)?r:n,N.isNullOrUndefined(s)||s.classList.contains(I)||(o?(a=new Date(parseInt(""+s.id,0)),this.selectDate(e,a,s),"datepicker"!==this.getModuleName()&&"datetimepicker"!==this.getModuleName()||this.element.focus()):e.target.className.includes(I)||this.contentClick(null,--l,s,t))):(this.todayButtonClick(e,t),"datepicker"!==this.getModuleName()&&"datetimepicker"!==this.getModuleName()||this.element.focus()):this.navigateNext(e):this.navigatePrevious(e);break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":(N.isNullOrUndefined(n)||o)&&(N.isNullOrUndefined(r)||o)||this.contentClick(null,--l,n||r,t),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),N.detach(this.tableBodyElement),0===l?this.renderMonths(e):1===l?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,l),N.detach(this.tableBodyElement),0===l?this.renderMonths(e):1===l?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault();break;case"tab":"datepicker"!==this.getModuleName()&&"datetimepicker"!==this.getModuleName()||e.target!==this.todayElement||(e.preventDefault(),(this.isAngular?this.inputElement:this.element).focus(),this.hide());break;case"shiftTab":"datepicker"!==this.getModuleName()&&"datetimepicker"!==this.getModuleName()||e.target!==this.headerTitleElement||(e.preventDefault(),this.element.focus(),this.hide());break;case"escape":"datepicker"!==this.getModuleName()&&"datetimepicker"!==this.getModuleName()||e.target!==this.headerTitleElement&&e.target!==this.previousIcon&&e.target!==this.nextIcon&&e.target!==this.todayElement||this.hide()}}},t.prototype.keyboardNavigate=function(e,t,i,s,a){var n=new Date(this.checkValue(this.currentDate));switch(t){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(N.detach(this.tableBodyElement),this.renderDecades(i)):this.currentDate=n;break;case 1:this.addMonths(this.currentDate,e),this.calendarMode,this.isMonthYearRange(this.currentDate)?(N.detach(this.tableBodyElement),this.renderYears(i)):this.currentDate=n;break;case 0:this.addDay(this.currentDate,e,i,s,a),this.isMinMaxRange(this.currentDate)?(N.detach(this.tableBodyElement),this.renderMonths(i)):this.currentDate=n}},t.prototype.preRender=function(e){var t=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=function(e){t.triggerNavigate(e)}},t.prototype.minMaxDate=function(e){var t=new Date(new Date(+e).setHours(0,0,0,0)),i=new Date(new Date(+this.min).setHours(0,0,0,0)),s=new Date(new Date(+this.max).setHours(0,0,0,0));return+t!=+i&&+t!=+s||+(e=+e<+this.min?new Date(+this.min):e)>+this.max&&(e=new Date(+this.max)),e},t.prototype.renderMonths=function(e,t,i){var s=this.weekNumber?8:7,i="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,t,null,null,i,e):this.islamicModule.islamicRenderDays(this.currentDate,t);this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(i,s,G,e,t):this.islamicModule.islamicRenderTemplate(i,s,G,e,t)},t.prototype.renderDays=function(e,t,i,s,a,n){for(var r=[],l=a?new Date(+e):this.getDate(new Date,this.timezone),o=(h=new Date(this.checkValue(e))).getMonth(),a=(this.titleUpdate(e,"days"),h),h=new Date(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());h.getDay()!==this.firstDayOfWeek;)this.setStartDate(h,-1*re);for(var u=0;u<42;++u){var d,p=this.createElement("td",{className:se}),c=this.createElement("span"),c=(u%7==0&&this.weekNumber&&(d="FirstDay"===this.weekRule?6:"FirstFourDayWeek"===this.weekRule?3:0,d=new Date(h.getFullYear(),h.getMonth(),h.getDate()+d),c.textContent=""+this.getWeek(d),p.appendChild(c),N.addClass([p],$),r.push(p)),d=new Date(+h),h=this.minMaxDate(h),{type:"dateTime",skeleton:"full"}),m=this.globalize.parseDate(this.globalize.formatDate(h,c),c),f=this.dayCell(h),p=this.globalize.formatDate(h,{type:"date",skeleton:"full"}),c=this.createElement("span"),v=(c.textContent=this.globalize.formatDate(h,{format:"d",type:"date",skeleton:"yMd"}),this.min>h||this.max<h),y=(v?(N.addClass([f],I),N.addClass([f],J)):c.setAttribute("title",""+p),o!==h.getMonth()&&(N.addClass([f],O),c.setAttribute("aria-disabled","true")),0!==h.getDay()&&6!==h.getDay()||N.addClass([f],"e-weekend"),f.appendChild(c),this.renderDayCellArgs={date:h,isDisabled:!1,element:f,isOutOfRange:v},this.renderDayCellArgs);if(this.renderDayCellEvent(y),y.isDisabled){p=new Date(this.checkValue(t)),v=new Date(this.checkValue(y.date));if(i){if(!N.isNullOrUndefined(s)&&0<s.length)for(var g=0;g<s.length;g++)+new Date(this.globalize.formatDate(y.date,{type:"date",skeleton:"yMd"}))===+new Date(this.globalize.formatDate(s[g],{type:"date",skeleton:"yMd"}))&&(s.splice(g,1),g=-1)}else p&&+p==+v&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!f.classList.contains(T)&&(N.addClass([f],I),N.addClass([f],J),c.setAttribute("aria-disabled","true"),+this.renderDayCellArgs.date==+this.todayDate)&&(this.todayDisabled=!0);var b=f.classList.contains(O),D=f.classList.contains(I),E=(D||N.EventHandler.add(f,"click",this.clickHandler,this),void 0);if(N.isNullOrUndefined(n)||"click"!==n.type||(E=n.currentTarget),!i||N.isNullOrUndefined(s)||D)!D&&this.getDateVal(h,t)&&N.addClass([f],T);else{for(var C=0;C<s.length;C++){var k={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if((this.globalize.formatDate(h,k)===this.globalize.formatDate(s[C],k)&&this.getDateVal(h,s[C])||this.getDateVal(h,t))&&N.addClass([f],T),!N.isNullOrUndefined(E)&&E.innerText===f.innerText&&this.previousDates&&f.classList.contains(T)&&E.classList.contains(T)){N.removeClass([f],T),this.previousDates=!1;for(var M=this.copyValues(s),w=0;w<M.length;w++){var V={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(m,V)===this.globalize.formatDate(M[w],V)&&(g=M.indexOf(M[w]),M.splice(g,1),s.splice(g,1))}this.setProperties({values:M},!0)}else this.updateFocus(b,D,h,f,e)}s.length<=0&&this.updateFocus(b,D,h,f,e)}this.updateFocus(b,D,h,f,e),N.isNullOrUndefined(m)||m.getFullYear()!==l.getFullYear()||m.getMonth()!==l.getMonth()||m.getDate()!==l.getDate()||N.addClass([f],te),r.push(this.renderDayCellArgs.element),h=new Date(+d),this.addDay(h,1,null,this.max,this.min)}return r},t.prototype.updateFocus=function(e,t,i,s,a){(a.getDate()===i.getDate()&&!e&&!t||(a>=this.max&&parseInt(s.id,0)===+this.max&&!e&&!t&&N.addClass([s],g),a<=this.min&&parseInt(s.id,0)===+this.min&&!e&&!t))&&N.addClass([s],g)},t.prototype.renderYears=function(e,t){this.removeTableHeadElement();var i=[],s=N.isNullOrUndefined(t),a=new Date(this.checkValue(this.currentDate)),n=a.getMonth(),r=a.getFullYear(),l=a,o=l.getFullYear(),h=new Date(this.checkValue(this.min)).getFullYear(),u=new Date(this.checkValue(this.min)).getMonth(),d=new Date(this.checkValue(this.max)).getFullYear(),p=new Date(this.checkValue(this.max)).getMonth();l.setMonth(0),this.titleUpdate(this.currentDate,"months"),l.setDate(1);for(var c=0;c<12;++c){var m=this.dayCell(l),f=this.createElement("span"),v=t&&t.getMonth()===l.getMonth(),v=t&&t.getFullYear()===r&&v,y=this.globalize.formatDate(l,{type:"date",format:"MMM y"});f.textContent=this.toCapitalize(this.globalize.formatDate(l,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(o<h||c<u&&o===h)||this.max&&(d<o||p<c&&d<=o)?N.addClass([m],I):!s&&v?N.addClass([m],T):l.getMonth()===n&&this.currentDate.getMonth()===n&&N.addClass([m],g),l.setDate(1),l.setMonth(l.getMonth()+1),m.classList.contains(I)||(N.EventHandler.add(m,"click",this.clickHandler,this),f.setAttribute("title",""+y)),m.appendChild(f),i.push(m)}this.renderTemplate(i,4,_,e,t)},t.prototype.renderDecades=function(e,t){this.removeTableHeadElement();var i=[],s=new Date(this.checkValue(this.currentDate)),a=(s.setMonth(0),s.setDate(1),s.getFullYear()),n=new Date(s.setFullYear(a-a%10)),r=new Date(s.setFullYear(a-a%10+9)),l=n.getFullYear(),o=r.getFullYear(),n=this.globalize.formatDate(n,{format:null,type:"dateTime",skeleton:"y"}),r=this.globalize.formatDate(r,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=n+" - "+r;for(var h=new Date(a-a%10-1,0,1).getFullYear(),u=0;u<12;++u){var d=h+u,p=(s.setFullYear(d),this.dayCell(s)),c=this.createElement("span");c.textContent=this.globalize.formatDate(s,{format:null,type:"dateTime",skeleton:"y"}),d<l||o<d?(N.addClass([p],R),c.setAttribute("aria-disabled","true"),N.isNullOrUndefined(t)||s.getFullYear()!==t.getFullYear()||N.addClass([p],T),(d<new Date(this.checkValue(this.min)).getFullYear()||d>new Date(this.checkValue(this.max)).getFullYear())&&N.addClass([p],I)):d<new Date(this.checkValue(this.min)).getFullYear()||d>new Date(this.checkValue(this.max)).getFullYear()?N.addClass([p],I):N.isNullOrUndefined(t)||s.getFullYear()!==t.getFullYear()?s.getFullYear()!==this.currentDate.getFullYear()||p.classList.contains(I)||N.addClass([p],g):N.addClass([p],T),p.classList.contains(I)||(N.EventHandler.add(p,"click",this.clickHandler,this),c.setAttribute("title",""+c.textContent)),p.appendChild(c),i.push(p)}this.renderTemplate(i,4,"e-decade",e,t)},t.prototype.dayCell=function(e){var t,i={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},e=this.globalize.parseDate(this.globalize.formatDate(e,i),i),i=(N.isNullOrUndefined(e)||(t=e.valueOf()),{className:se,attrs:{id:""+N.getUniqueID(""+t),"aria-selected":"false"}});return this.createElement("td",i)},t.prototype.firstDay=function(e){var t="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+O):this.tableBodyElement.querySelectorAll("td:not(."+R);if(t.length)for(var i=0;i<t.length;i++)if(!t[i].classList.contains(I)){e=new Date(parseInt(t[i].id,0));break}return e},t.prototype.lastDay=function(e,t){var i=new Date(e.getFullYear(),e.getMonth()+1,0);return 2!==t?((t=Math.abs(i.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset()))&&i.setHours(this.firstDay(e).getHours()+t/60),this.findLastDay(i)):this.findLastDay(this.firstDay(i))},t.prototype.checkDateValue=function(e){return!N.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.findLastDay=function(e){var t="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+R):this.tableBodyElement.querySelectorAll("td:not(."+O);if(t.length)for(var i=t.length-1;0<=i;i--)if(!t[i].classList.contains(I)){e=new Date(parseInt(t[i].id,0));break}return e},t.prototype.removeTableHeadElement=function(){"calendar"===this.getModuleName()?N.isNullOrUndefined(this.element.querySelectorAll(".e-content table thead")[0])||N.detach(this.tableHeadElement):N.isNullOrUndefined(this.calendarElement.querySelectorAll(".e-content table thead")[0])||N.detach(this.tableHeadElement)},t.prototype.renderTemplate=function(e,t,i,s,a){for(var n,r=this.getViewNumber(this.currentView()),l=(this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),N.removeClass([this.contentElement,this.headerElement],[G,Z,_]),N.addClass([this.contentElement,this.headerElement],[i]),t),o=0,h=0;h<e.length/t;++h){for(n=this.createElement("tr"),o=0+o;o<l;o++)e[o].classList.contains("e-week-number")||N.isNullOrUndefined(e[o].children[0])||(N.addClass([e[o].children[0]],[ie]),N.rippleEffect(e[o].children[0],{duration:600,isCenterRipple:!0})),n.appendChild(e[o]),this.weekNumber&&7===o&&e[7].classList.contains(O)&&N.addClass([n],ee),!this.weekNumber&&6===o&&e[6].classList.contains(O)&&N.addClass([n],ee),this.weekNumber?41===o&&e[41].classList.contains(O)&&N.addClass([n],ee):35===o&&e[35].classList.contains(O)&&N.addClass([n],ee);l+=t,o+=0,this.tableBodyElement.appendChild(n)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(r!==this.getViewNumber(this.currentView())||0===r&&r!==this.getViewNumber(this.currentView()))&&this.navigateHandler(s),this.setAriaActiveDescendant()},t.prototype.clickHandler=function(e,t){this.clickEventEmitter(e);var i=e.currentTarget,s=this.getViewNumber(this.currentView());i.classList.contains(O)?this.contentClick(e,0,null,t):s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)||2===s?this.contentClick(e,1,null,t):i.classList.contains(O)||0!==s?this.contentClick(e,0,i,t):this.selectDate(e,this.getIdValue(e,null),null),"calendar"===this.getModuleName()&&this.table.focus()},t.prototype.clickEventEmitter=function(e){e.preventDefault()},t.prototype.contentClick=function(e,t,i,s){var a,n=this.getViewNumber(this.currentView()),r=this.getIdValue(e,i);switch(t){case 0:n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(N.detach(this.tableBodyElement),this.currentDate=r,this.effect=ae):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(r.getMonth()),0<r.getMonth()&&this.currentDate.getMonth()!==r.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(r.getFullYear())):this.currentDate=r,this.effect=ae,N.detach(this.tableBodyElement)),this.renderMonths(e);break;case 1:n===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.selectDate(e,r,null):("Gregorian"===this.calendarMode?this.currentDate.setFullYear(r.getFullYear()):(this.islamicPreviousHeader=this.headerElement.textContent,a=this.islamicModule.getIslamicDate(r),this.currentDate=this.islamicModule.toGregorian(a.year,a.month,1)),this.effect=ae,N.detach(this.tableBodyElement),this.renderYears(e))}},t.prototype.switchView=function(e,t,i,s){switch(e){case 0:N.detach(this.tableBodyElement),this.renderMonths(t,null,s);break;case 1:N.detach(this.tableBodyElement),this.renderYears(t);break;case 2:N.detach(this.tableBodyElement),this.renderDecades(t)}},t.prototype.getModuleName=function(){return"calendar"},t.prototype.requiredModules=function(){var e=[];return"Islamic"===this.calendarMode&&e.push({args:[this],member:"islamic",name:"Islamic"}),e},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,t,i,s){this.effect="";for(var a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];switch(r){case"enableRtl":e.enableRtl?("calendar"===this.getModuleName()?this.element:this.calendarElement).classList.add("e-rtl"):("calendar"===this.getModuleName()?this.element:this.calendarElement).classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),"min"===r?this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0):this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&N.detach(this.tableBodyElement),this.minMaxUpdate(),i&&this.validateValues(i,s),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(N.detach(this.todayElement),N.detach(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(N.removeClass([this.todayElement],I),N.detach(this.todayElement),N.detach(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody());break;case"locale":this.globalize=new N.Internationalization(this.locale),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody()),"calendar"===this.getModuleName()&&(this.l10=new N.L10n(this.getModuleName(),{today:"Today"},this.locale)),this.l10.setLocale(this.locale),this.showTodayButton&&this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():N.isNullOrUndefined(this.todayElement)||N.isNullOrUndefined(this.footer)||(N.detach(this.todayElement),N.detach(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0)}}},t.prototype.validateValues=function(e,t){if(e&&!N.isNullOrUndefined(t)&&0<t.length){for(var i=this.copyValues(t),s=0;s<i.length;s++){var a=i[s],n="Gregorian"===this.calendarMode?"gregorian":"islamic",r=void 0,r="Gregorian"===this.calendarMode?this.globalize.formatDate(a,{type:"date",skeleton:"yMd"}):this.globalize.formatDate(a,{type:"dateTime",skeleton:"full",calendar:"islamic"}),a=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:n}),n=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:n});(+new Date(r)<+new Date(a)||+new Date(r)>+new Date(n))&&(i.splice(s,1),s=-1)}this.setProperties({values:i},!0)}},t.prototype.setValueUpdate=function(){N.isNullOrUndefined(this.tableBodyElement)||(N.detach(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())},t.prototype.copyValues=function(e){var t=[];if(!N.isNullOrUndefined(e)&&0<e.length)for(var i=0;i<e.length;i++)t.push(new Date(+e[i]));return t},t.prototype.titleUpdate=function(e,t){var i,s=new N.Internationalization(this.locale),a="Gregorian"===this.calendarMode?"gregorian":"islamic",n="Gregorian"===this.calendarMode?(i=s.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:a}),s.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:a})):(i=s.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:a}),s.formatDate(e,{type:"dateTime",format:"y",calendar:a}));switch(t){case"days":this.headerTitleElement.textContent=this.toCapitalize(i);break;case"months":this.headerTitleElement.textContent=n}},t.prototype.setActiveDescendant=function(){var e,t=this.tableBodyElement.querySelector("tr td.e-focused-date"),i=this.tableBodyElement.querySelector("tr td.e-selected"),s="Gregorian"===this.calendarMode?"gregorian":"islamic",a=this.currentView(),a="Month"===a?this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"full",calendar:s}):"Year"===a?"islamic"!=s?this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"yMMMM",calendar:s}):this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"GyMMM",calendar:s}):this.globalize.formatDate(this.currentDate,{format:null,type:"date",skeleton:"y",calendar:s});return(i||t)&&(N.isNullOrUndefined(i)||i.setAttribute("aria-selected","true"),(t||i).setAttribute("aria-label",a),e=(t||i).getAttribute("id")),e},t.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(-1<this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max));break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(-1<this.compareYear(new Date(this.checkValue(this.currentDate)),this.max));break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(-1<this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max))}},t.prototype.destroy=function(){("calendar"===this.getModuleName()&&this.element||this.calendarElement&&this.element)&&N.removeClass([this.element],[Y]),"calendar"===this.getModuleName()&&this.element&&(N.isNullOrUndefined(this.headerTitleElement)||N.EventHandler.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&N.EventHandler.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),N.isNullOrUndefined(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),this.todayElement=null,this.tableBodyElement=null,this.todayButtonEvent=null,this.renderDayCellArgs=null,this.headerElement=null,this.nextIcon=null,this.table=null,this.tableHeadElement=null,this.previousIcon=null,this.headerTitleElement=null,this.footer=null,this.contentElement=null,B.prototype.destroy.call(this)},t.prototype.title=function(e){var t=this.getViewNumber(this.currentView());this.effect=ae,this.switchView(++t,e)},t.prototype.getViewNumber=function(e){return"Month"===e?0:"Year"===e?1:2},t.prototype.navigateTitle=function(e){e.preventDefault(),this.title(e)},t.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e)}},t.prototype.navigatePrevious=function(e){N.Browser.isDevice||e.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e)},t.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e)}},t.prototype.navigateNext=function(e){N.Browser.isDevice||e.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e)},t.prototype.navigateTo=function(e,t,i){+t>=+this.min&&+t<=+this.max&&(this.currentDate=t),+t<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+t>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e),null,null,i)},t.prototype.currentView=function(){return!N.isNullOrUndefined(this.contentElement)&&this.contentElement.classList.contains(_)?"Year":!N.isNullOrUndefined(this.contentElement)&&this.contentElement.classList.contains(Z)?"Decade":"Month"},t.prototype.getDateVal=function(e,t){return!N.isNullOrUndefined(t)&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},t.prototype.getCultureObjects=function(e,t){var i=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),s=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return"Gregorian"===this.calendarMode?N.getValue("main."+this.locale+i,e):N.getValue("main."+this.locale+s,e)},t.prototype.getWeek=function(e){var t=new Date(this.checkValue(e)).valueOf(),e=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil((t-e+re)/re/7)},t.prototype.setStartDate=function(e,t){var i=e.getTimezoneOffset(),t=new Date(e.getTime()+t),i=t.getTimezoneOffset()-i;e.setTime(t.getTime()+6e4*i)},t.prototype.addMonths=function(e,t){var i;"Gregorian"===this.calendarMode?(i=e.getDate(),e.setDate(1),e.setMonth(e.getMonth()+t),e.setDate(Math.min(i,this.getMaxDays(e)))):(i=this.islamicModule.getIslamicDate(e),this.currentDate=this.islamicModule.toGregorian(i.year,i.month+t,1))},t.prototype.addYears=function(e,t){var i;"Gregorian"===this.calendarMode?(i=e.getDate(),e.setDate(1),e.setFullYear(e.getFullYear()+t),e.setDate(Math.min(i,this.getMaxDays(e)))):(i=this.islamicModule.getIslamicDate(e),this.currentDate=this.islamicModule.toGregorian(i.year+t,i.month,1))},t.prototype.getIdValue=function(e,t){e=e?e.currentTarget:t,t={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},e=this.globalize.formatDate(new Date(parseInt(""+e.getAttribute("id"),0)),t),e=this.globalize.parseDate(e,t),t=e.valueOf()-e.valueOf()%1e3;return new Date(t)},t.prototype.adjustLongHeaderSize=function(){N.removeClass([this.element],ne),"Wide"===this.dayHeaderFormat&&N.addClass(["calendar"===this.getModuleName()?this.element:this.calendarElement],ne)},t.prototype.selectDate=function(e,t,i,s,a){var n=i||e.currentTarget,r=(this.isDateSelected=!1,"Decade"===this.currentView()?this.setDateDecade(this.currentDate,t.getFullYear()):"Year"===this.currentView()?this.setDateYear(this.currentDate,t):(s&&!this.checkPresentDate(t,a)?(l=this.copyValues(a),!N.isNullOrUndefined(a)&&0<l.length?(l.push(new Date(this.checkValue(t))),this.setProperties({values:l},!0),this.setProperties({value:a[a.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(t))]},!0)):this.setProperties({value:new Date(this.checkValue(t))},!0),this.currentDate=new Date(this.checkValue(t))),N.closest(n,"."+Y));if(N.isNullOrUndefined(r)&&(r=this.tableBodyElement),s||N.isNullOrUndefined(r.querySelector("."+T))||N.removeClass([r.querySelector("."+T)],T),s||N.isNullOrUndefined(r.querySelector("."+g))||N.removeClass([r.querySelector("."+g)],g),s||N.isNullOrUndefined(r.querySelector("."+Q))||N.removeClass([r.querySelector("."+Q)],Q),s){for(var l=this.copyValues(a),o=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),h=0;h<o.length;h++){var u=r.querySelectorAll("td."+g)[0],d=r.querySelectorAll("td."+T)[0];o[h]===u&&N.removeClass([o[h]],g),o[h]!==d||this.checkPresentDate(new Date(parseInt(d.getAttribute("id").split("_")[0],10)),a)||N.removeClass([o[h]],T)}if(n.classList.contains(T)){N.removeClass([n],T);for(var p=0;p<l.length;p++){var c={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(t,c)===this.globalize.formatDate(l[p],c)&&(h=l.indexOf(l[p]),l.splice(h,1),N.addClass([n],g))}this.setProperties({values:l},!0)}else N.addClass([n],T)}else N.addClass([n],T);this.isDateSelected=!0},t.prototype.checkPresentDate=function(e,t){var i=!1;if(!N.isNullOrUndefined(t))for(var s=0;s<t.length;s++){var a="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(e,{format:null,type:"date",skeleton:"short",calendar:a})===this.globalize.formatDate(t[s],{format:null,type:"date",skeleton:"short",calendar:a})&&(i=!0)}return i},t.prototype.setAriaActiveDescendant=function(){N.attributes(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},t.prototype.previousIconHandler=function(e){e?N.isNullOrUndefined(this.previousIcon)||(N.EventHandler.remove(this.previousIcon,"click",this.navigatePreviousHandler),N.addClass([this.previousIcon],I),N.addClass([this.previousIcon],J),this.previousIcon.setAttribute("aria-disabled","true")):(N.EventHandler.add(this.previousIcon,"click",this.navigatePreviousHandler),N.removeClass([this.previousIcon],I),N.removeClass([this.previousIcon],J),this.previousIcon.setAttribute("aria-disabled","false"))},t.prototype.renderDayCellEvent=function(e){N.extend(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.navigatedEvent=function(e){N.extend(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},t.prototype.nextIconHandler=function(e){e?N.isNullOrUndefined(this.previousIcon)||(N.EventHandler.remove(this.nextIcon,"click",this.navigateNextHandler),N.addClass([this.nextIcon],I),N.addClass([this.nextIcon],J),this.nextIcon.setAttribute("aria-disabled","true")):(N.EventHandler.add(this.nextIcon,"click",this.navigateNextHandler),N.removeClass([this.nextIcon],I),N.removeClass([this.nextIcon],J),this.nextIcon.setAttribute("aria-disabled","false"))},t.prototype.compare=function(e,t,i){var t=t.getFullYear(),s=t,a=0;return i&&(s=(t-=t%i)-t%i+i-1),e.getFullYear()>s?a=1:e.getFullYear()<t&&(a=-1),a},t.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},t.prototype.isMonthYearRange=function(e){return"Gregorian"===this.calendarMode?e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear():(e=this.islamicModule.getIslamicDate(e)).month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&e.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&e.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&e.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year},t.prototype.compareYear=function(e,t){return this.compare(e,t,0)},t.prototype.compareDecade=function(e,t){return this.compare(e,t,10)},t.prototype.shiftArray=function(e,t){return e.slice(t).concat(e.slice(0,t))},t.prototype.addDay=function(e,t,i,s,a){var n=t,r=new Date(+e);if(!N.isNullOrUndefined(this.tableBodyElement)&&!N.isNullOrUndefined(i)){for(;this.findNextTD(new Date(+e),n,s,a);)n+=t;i=new Date(r.setDate(r.getDate()+n)),n=+s<+i||+i<+a?n===t?t-t:t:n}e.setDate(e.getDate()+n)},t.prototype.findNextTD=function(e,t,i,s){var a=new Date(e.setDate(e.getDate()+t)),n=[],r=!1;if(n=(!N.isNullOrUndefined(a)&&a.getMonth())===(!N.isNullOrUndefined(this.currentDate)&&this.currentDate.getMonth())?("Gregorian"===this.calendarMode?this.renderDays(a):this.islamicModule.islamicRenderDays(this.currentDate,a)).filter(function(e){return e.classList.contains(I)}):this.tableBodyElement.querySelectorAll("td."+I),+a<=+i&&+s<=+a&&n.length)for(var l=0;l<n.length&&!(r=+a==+new Date(parseInt(n[l].id,0)));l++);return r},t.prototype.getMaxDays=function(e){for(var t=new Date(this.checkValue(e)),i=28,s=t.getMonth();t.getMonth()===s;)t.setDate(++i);return i-1},t.prototype.setDateDecade=function(e,t){e.setFullYear(t),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.setDateYear=function(e,t){e.setFullYear(t.getFullYear(),t.getMonth(),e.getDate()),t.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(t))),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.compareMonth=function(e,t){e=e.getFullYear()>t.getFullYear()?1:e.getFullYear()<t.getFullYear()?-1:e.getMonth()===t.getMonth()?0:e.getMonth()>t.getMonth()?1:-1;return e},t.prototype.checkValue=function(e){return e instanceof Date?e.toUTCString():""+e},t.prototype.checkView=function(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},t.prototype.getDate=function(e,t){return e=t?new Date(e.toLocaleString("en-US",{timeZone:t})):e},e([N.Property(new Date(1900,0,1))],t.prototype,"min",void 0),e([N.Property(!0)],t.prototype,"enabled",void 0),e([N.Property(null)],t.prototype,"cssClass",void 0),e([N.Property(new Date(2099,11,31))],t.prototype,"max",void 0),e([N.Property(null)],t.prototype,"firstDayOfWeek",void 0),e([N.Property("Gregorian")],t.prototype,"calendarMode",void 0),e([N.Property("Month")],t.prototype,"start",void 0),e([N.Property("Month")],t.prototype,"depth",void 0),e([N.Property(!1)],t.prototype,"weekNumber",void 0),e([N.Property("FirstDay")],t.prototype,"weekRule",void 0),e([N.Property(!0)],t.prototype,"showTodayButton",void 0),e([N.Property("Short")],t.prototype,"dayHeaderFormat",void 0),e([N.Property(!1)],t.prototype,"enablePersistence",void 0),e([N.Property(null)],t.prototype,"keyConfigs",void 0),e([N.Property(null)],t.prototype,"serverTimezoneOffset",void 0),e([N.Event()],t.prototype,"created",void 0),e([N.Event()],t.prototype,"destroyed",void 0),e([N.Event()],t.prototype,"navigated",void 0),e([N.Event()],t.prototype,"renderDayCell",void 0),e([N.NotifyPropertyChanges],t));function t(e,t){e=B.call(this,e,t)||this;return e.effect="",e.isPopupClicked=!1,e.isDateSelected=!0,e.isTodayClicked=!1,e.preventChange=!1,e.previousDates=!1,e}j(s,l=le),s.prototype.render=function(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&N.throwError("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!N.isNullOrUndefined(this.values)&&0<this.values.length){for(var e=[],t=[],i=0;i<this.values.length;i++)-1===e.indexOf(+this.values[i])&&(e.push(+this.values[i]),t.push(this.values[i]));this.setProperties({values:t},!0);for(var s,a=0;a<this.values.length;a++)this.checkDateValue(this.values[a])||("string"==typeof this.values[a]&&this.checkDateValue(new Date(this.checkValue(this.values[a])))?(s=new Date(this.checkValue(this.values[a])),this.values.splice(a,1),this.values.splice(a,0,s)):this.values.splice(a,1));this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}var n;this.validateDate(),this.minMaxUpdate(),"calendar"===this.getModuleName()&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),l.prototype.render.call(this),"calendar"===this.getModuleName()&&((n=N.closest(this.element,"form"))&&N.EventHandler.add(n,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)),this.renderComplete()},s.prototype.setEnable=function(e){e?N.removeClass([this.element],I):N.addClass([this.element],I)},s.prototype.setClass=function(e,t){N.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),N.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),N.isNullOrUndefined(t)||""===t||N.removeClass([this.element],t.split(" ")),N.isNullOrUndefined(e)||N.addClass([this.element],e.split(" "))},s.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(t,e)},s.prototype.setTimeZone=function(e){!N.isNullOrUndefined(this.serverTimezoneOffset)&&this.value&&(e=e+(new Date).getTimezoneOffset()/60,e=this.isDayLightSaving()?e--:e,this.value=new Date(this.value.getTime()+60*e*60*1e3))},s.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},s.prototype.validateDate=function(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),l.prototype.validateDate.call(this,this.value),!N.isNullOrUndefined(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},s.prototype.minMaxUpdate=function(){"calendar"===this.getModuleName()&&(!N.isNullOrUndefined(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!N.isNullOrUndefined(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||N.isNullOrUndefined(this.value)?l.prototype.minMaxUpdate.call(this,this.value):!N.isNullOrUndefined(this.value)&&this.value<this.min&&this.min<=this.max?l.prototype.minMaxUpdate.call(this,this.min):!N.isNullOrUndefined(this.value)&&this.value>this.max&&this.min<=this.max&&l.prototype.minMaxUpdate.call(this,this.max)},s.prototype.generateTodayVal=function(e){var t=new Date;return N.isNullOrUndefined(this.timezone)||(t=l.prototype.getDate.call(this,t,this.timezone)),e&&N.isNullOrUndefined(this.timezone)?(t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t.setSeconds(e.getSeconds()),t.setMilliseconds(e.getMilliseconds())):t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0),t},s.prototype.todayButtonClick=function(e){var t,i;this.showTodayButton&&(t=this.generateTodayVal(this.value),this.setProperties({value:t},!0),this.isTodayClicked=!0,this.todayButtonEvent=e,this.isMultiSelection&&(i=this.copyValues(this.values),l.prototype.checkPresentDate.call(this,t,this.values)||(i.push(t),this.setProperties({values:i}))),l.prototype.todayButtonClick.call(this,e,new Date(+this.value)))},s.prototype.keyActionHandle=function(e){l.prototype.keyActionHandle.call(this,e,this.value,this.isMultiSelection)},s.prototype.preRender=function(){var t=this;this.changeHandler=function(e){t.triggerChange(e)},this.checkView(),l.prototype.preRender.call(this,this.value)},s.prototype.createContent=function(){this.previousDate=this.value,this.previousDateTime=this.value,l.prototype.createContent.call(this)},s.prototype.minMaxDate=function(e){return l.prototype.minMaxDate.call(this,e)},s.prototype.renderMonths=function(e,t,i){l.prototype.renderMonths.call(this,e,this.value,i)},s.prototype.renderDays=function(e,t,i,s,a,n){e=l.prototype.renderDays.call(this,e,this.value,this.isMultiSelection,this.values,a,n);return this.isMultiSelection&&l.prototype.validateValues.call(this,this.isMultiSelection,this.values),e},s.prototype.renderYears=function(e){"Gregorian"===this.calendarMode?l.prototype.renderYears.call(this,e,this.value):this.islamicModule.islamicRenderYears(e,this.value)},s.prototype.renderDecades=function(e){"Gregorian"===this.calendarMode?l.prototype.renderDecades.call(this,e,this.value):this.islamicModule.islamicRenderDecade(e,this.value)},s.prototype.renderTemplate=function(e,t,i,s){"Gregorian"===this.calendarMode?l.prototype.renderTemplate.call(this,e,t,i,s,this.value):this.islamicModule.islamicRenderTemplate(e,t,i,s,this.value),this.changedArgs={value:this.value,values:this.values},s&&"click"===s.type&&s.currentTarget.classList.contains(O)?this.changeHandler(s):this.changeHandler()},s.prototype.clickHandler=function(e){var t=e.currentTarget,t=(this.isPopupClicked=!0,t.classList.contains(O)&&(this.isMultiSelection?-1===(t=this.copyValues(this.values)).toString().indexOf(this.getIdValue(e,null).toString())?(t.push(this.getIdValue(e,null)),this.setProperties({values:t},!0),this.setProperties({value:this.values[this.values.length-1]},!0)):this.previousDates=!0:this.setProperties({value:this.getIdValue(e,null)},!0)),this.currentView());l.prototype.clickHandler.call(this,e,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!N.isNullOrUndefined(this.tableBodyElement.querySelectorAll("."+g)[0])&&"Year"===t&&this.tableBodyElement.querySelectorAll("."+g)[0].classList.remove(g)},s.prototype.switchView=function(e,t,i,s){l.prototype.switchView.call(this,e,t,this.isMultiSelection,s)},s.prototype.getModuleName=function(){return l.prototype.getModuleName.call(this),"calendar"},s.prototype.getPersistData=function(){l.prototype.getPersistData.call(this);return this.addOnPersist(["value","values"])},s.prototype.onPropertyChanged=function(e,t){this.effect="",this.rangeValidation(this.min,this.max);for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"value":this.isDateSelected&&("string"==typeof e.value?this.setProperties({value:new Date(this.checkValue(e.value))},!0):e.value=new Date(this.checkValue(e.value)),isNaN(+this.value)&&this.setProperties({value:t.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof e.values||"number"==typeof e.values)this.setProperties({values:null},!0);else{for(var a=this.copyValues(this.values),n=0;n<a.length;n++){var r=a[n];this.checkDateValue(r)&&!l.prototype.checkPresentDate.call(this,r,a)&&a.push(r)}this.setProperties({values:a},!0),0<this.values.length&&this.setProperties({value:e.values[e.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:e.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":"calendar"===this.getModuleName()&&this.setClass(e.cssClass,t.cssClass);break;default:l.prototype.onPropertyChanged.call(this,e,t,this.isMultiSelection,this.values)}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange},s.prototype.destroy=function(){var e;l.prototype.destroy.call(this),"calendar"===this.getModuleName()&&(this.changedArgs=null,e=N.closest(this.element,"form"))&&N.EventHandler.remove(e,"reset",this.formResetHandler.bind(this))},s.prototype.navigateTo=function(e,t,i){this.minMaxUpdate(),l.prototype.navigateTo.call(this,e,t,i)},s.prototype.currentView=function(){return l.prototype.currentView.call(this)},s.prototype.addDate=function(e){if("string"!=typeof e&&"number"!=typeof e){var t=this.copyValues(this.values);if("object"==typeof e&&0<e.length)for(var i=e,s=0;s<i.length;s++)this.checkDateValue(i[s])&&!l.prototype.checkPresentDate.call(this,i[s],t)&&(!N.isNullOrUndefined(t)&&0<t.length?t.push(i[s]):t=[new Date(+i[s])]);else this.checkDateValue(e)&&!l.prototype.checkPresentDate.call(this,e,t)&&(!N.isNullOrUndefined(t)&&0<t.length?t.push(e):t=[new Date(+e)]);this.setProperties({values:t},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,t),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},s.prototype.removeDate=function(e){if("string"!=typeof e&&"number"!=typeof e&&!N.isNullOrUndefined(this.values)&&0<this.values.length){var t=this.copyValues(this.values);if("object"==typeof e&&0<e.length)for(var i=e,s=0;s<i.length;s++)for(var a=0;a<t.length;a++)+t[a]==+i[s]&&t.splice(a,1);else for(a=0;a<t.length;a++)+t[a]==+e&&t.splice(a,1);this.setProperties({values:t},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},s.prototype.setTodayDate=function(e){e=new Date(+e);this.setProperties({value:e},!0),l.prototype.todayButtonClick.call(this,null,e,!0)},s.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),l.prototype.setValueUpdate.call(this)},s.prototype.selectDate=function(e,t,i){l.prototype.selectDate.call(this,e,t,i,this.isMultiSelection,this.values),this.isMultiSelection&&!N.isNullOrUndefined(this.values)&&0<this.values.length&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(e)},s.prototype.changeEvent=function(e){(this.value&&this.value.valueOf())===(this.previousDate&&+this.previousDate.valueOf())&&!this.isMultiSelection||(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))},s.prototype.triggerChange=function(e){!N.isNullOrUndefined(this.todayButtonEvent)&&this.isTodayClicked&&(e=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=e||null,this.changedArgs.isInteracted=!N.isNullOrUndefined(e),N.isNullOrUndefined(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||(N.isNullOrUndefined(this.value)||N.isNullOrUndefined(this.previousDate))&&(null!==this.previousDate||isNaN(+this.value))?N.isNullOrUndefined(this.values)||this.previousValues===this.values.length||(this.changeEvent(e),this.previousValues=this.values.length):this.changeEvent(e)},e([N.Property(null)],s.prototype,"value",void 0),e([N.Property(null)],s.prototype,"values",void 0),e([N.Property(!1)],s.prototype,"isMultiSelection",void 0),e([N.Event()],s.prototype,"change",void 0);var l,j=e([N.NotifyPropertyChanges],s);function s(e,t){return l.call(this,e,t)||this}var oe="e-other-month",he="e-year",ue="e-disabled",de="e-overlay",pe="e-selected",ce="e-focused-date",me="e-month-hide",e=(a.prototype.getModuleName=function(){return"islamic"},a.prototype.islamicTitleUpdate=function(e,t){var i=new N.Internationalization(this.calendarInstance.locale);switch(t){case"days":this.calendarInstance.headerTitleElement.textContent=i.formatDate(e,{type:"dateTime",format:"MMMMyyyy",calendar:"islamic"});break;case"months":this.calendarInstance.headerTitleElement.textContent=i.formatDate(e,{type:"dateTime",format:"yyyy",calendar:"islamic"})}},a.prototype.islamicRenderDays=function(e,t,i,s){for(var a=[],n=new Date(this.islamicInValue(e)),r=(this.islamicTitleUpdate(e,"days"),this.getIslamicDate(n)),l=this.toGregorian(r.year,r.month,1),o=r.month,n=l;n.getDay()!==this.calendarInstance.firstDayOfWeek;)this.calendarInstance.setStartDate(n,-864e5);for(var h=0;h<42;++h){var u=this.calendarInstance.createElement("td",{className:"e-cell"}),d=this.calendarInstance.createElement("span"),u=(h%7==0&&this.calendarInstance.weekNumber&&(d.textContent=""+this.calendarInstance.getWeek(n),u.appendChild(d),N.addClass([u],"e-week-number"),a.push(u)),d=new Date(+n),n=this.calendarInstance.minMaxDate(n),{type:"dateTime",skeleton:"full",calendar:"islamic"}),u=this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(n,u),u),p=this.islamicDayCell(n),c=this.calendarInstance.globalize.formatDate(n,{type:"date",skeleton:"full",calendar:"islamic"}),m=this.calendarInstance.createElement("span"),f=(m.textContent=this.calendarInstance.globalize.formatDate(n,{type:"date",skeleton:"d",calendar:"islamic"}),this.calendarInstance.min>n||this.calendarInstance.max<n);f?(N.addClass([p],ue),N.addClass([p],de)):m.setAttribute("title",""+c);o!==this.getIslamicDate(n).month&&N.addClass([p],oe),0!==n.getDay()&&6!==n.getDay()||N.addClass([p],"e-weekend"),p.appendChild(m),this.calendarInstance.renderDayCellArgs={date:n,isDisabled:!1,element:p,isOutOfRange:f};var v=this.calendarInstance.renderDayCellArgs;if(this.calendarInstance.renderDayCellEvent(v),v.isDisabled)if(this.calendarInstance.isMultiSelection){if(!N.isNullOrUndefined(this.calendarInstance.values)&&0<this.calendarInstance.values.length)for(var y=0;y<s.length;y++)+new Date(this.calendarInstance.globalize.formatDate(v.date,{type:"date",skeleton:"yMd",calendar:"islamic"}))===+new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[y],{type:"date",skeleton:"yMd",calendar:"islamic"}))&&(this.calendarInstance.values.splice(y,1),y=-1)}else t&&+t==+v.date&&this.calendarInstance.setProperties({value:null},!0);this.calendarInstance.renderDayCellArgs.isDisabled&&!p.classList.contains(pe)&&(N.addClass([p],ue),N.addClass([p],de),+this.calendarInstance.renderDayCellArgs.date==+this.calendarInstance.todayDate)&&(this.calendarInstance.todayDisabled=!0);var g=p.classList.contains(oe),b=p.classList.contains(ue);if(b||N.EventHandler.add(p,"click",this.calendarInstance.clickHandler,this.calendarInstance),!this.calendarInstance.isMultiSelection||N.isNullOrUndefined(this.calendarInstance.values)||g||b)g||b||!this.calendarInstance.getDateVal(n,t)?this.calendarInstance.updateFocus(g,b,n,p,e):N.addClass([p],pe);else{for(var D=0;D<this.calendarInstance.values.length;D++)this.calendarInstance.globalize.formatDate(n,{type:"date",skeleton:"short",calendar:"islamic"})===this.calendarInstance.globalize.formatDate(this.calendarInstance.values[D],{type:"date",skeleton:"short",calendar:"islamic"})&&this.calendarInstance.getDateVal(n,this.calendarInstance.values[D])?N.addClass([p],pe):this.calendarInstance.updateFocus(g,b,n,p,e);this.calendarInstance.values.length<=0&&this.calendarInstance.updateFocus(g,b,n,p,e)}u.getDate()===(new Date).getDate()&&u.getMonth()===(new Date).getMonth()&&u.getFullYear()===(new Date).getFullYear()&&N.addClass([p],"e-today"),n=new Date(+d),a.push(this.calendarInstance.renderDayCellArgs.element),this.calendarInstance.addDay(n,1,null,this.calendarInstance.max,this.calendarInstance.min)}return a},a.prototype.islamicIconHandler=function(){new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);var e=new Date(this.islamicInValue(this.calendarInstance.currentDate));switch(this.calendarInstance.currentView()){case"Month":var t=this.islamicCompareMonth(e,this.calendarInstance.min)<1,i=-1<this.islamicCompareMonth(e,this.calendarInstance.max);this.calendarInstance.previousIconHandler(t),this.calendarInstance.nextIconHandler(i);break;case"Year":t=this.hijriCompareYear(e,this.calendarInstance.min)<1,i=-1<this.hijriCompareYear(e,this.calendarInstance.max);this.calendarInstance.previousIconHandler(t),this.calendarInstance.nextIconHandler(i);break;case"Decade":var t=N.HijriParser.toGregorian(1361,1,1),i=this.hijriCompareDecade(e,this.calendarInstance.min)<1,s=-1<this.hijriCompareDecade(e,this.calendarInstance.max),i=N.HijriParser.toGregorian(this.calendarInstance.headerTitleElement.textContent.split("-")[0].trim(),1,1).getFullYear()===t.getFullYear()||i;this.calendarInstance.previousIconHandler(i),this.calendarInstance.nextIconHandler(s)}},a.prototype.islamicNext=function(){this.calendarInstance.effect="";var e=this.calendarInstance.getViewNumber(this.calendarInstance.currentView()),t=this.getIslamicDate(this.calendarInstance.currentDate);switch(this.calendarInstance.currentView()){case"Year":this.calendarInstance.currentDate=this.toGregorian(t.year+1,t.month,1),this.calendarInstance.switchView(e);break;case"Month":this.calendarInstance.currentDate=this.toGregorian(t.year,t.month+1,1),this.calendarInstance.switchView(e);break;case"Decade":this.calendarInstance.nextIconClicked=!0,t.year-this.calendarInstance.headerElement.textContent.split("-")[0].trim()==1&&(t.year=t.year-this.calendarInstance.headerElement.textContent.split("-")[0].trim()==1?t.year+1:t.year),this.calendarInstance.currentDate=this.toGregorian(t.year+10,t.month,1),this.calendarInstance.switchView(e)}},a.prototype.islamicPrevious=function(){var e=this.calendarInstance.getViewNumber(this.calendarInstance.currentView()),t=(this.calendarInstance.effect="",this.getIslamicDate(this.calendarInstance.currentDate));switch(this.calendarInstance.currentView()){case"Month":this.calendarInstance.currentDate=this.toGregorian(t.year,t.month-1,1),this.calendarInstance.switchView(e);break;case"Year":this.calendarInstance.currentDate=this.toGregorian(t.year-1,t.month,1),this.calendarInstance.switchView(e);break;case"Decade":this.calendarInstance.previousIconClicked=!0,this.calendarInstance.currentDate=this.toGregorian(t.year-10,t.month-1,1),this.calendarInstance.switchView(e)}},a.prototype.islamicRenderYears=function(e,t){this.calendarInstance.removeTableHeadElement();var i=[],s=N.isNullOrUndefined(t),a=new Date(this.islamicInValue(this.calendarInstance.currentDate)),n=this.getIslamicDate(a),r=(a=N.HijriParser.toGregorian(n.year,1,1),n.month),l=n.year,o=n.year,h=this.getIslamicDate(this.calendarInstance.min).year,u=this.getIslamicDate(this.calendarInstance.min).month,d=this.getIslamicDate(this.calendarInstance.max).year,p=this.getIslamicDate(this.calendarInstance.max).month;this.islamicTitleUpdate(this.calendarInstance.currentDate,"months");for(var c=1;c<=12;++c){var m=this.getIslamicDate(a),a=N.HijriParser.toGregorian(m.year,c,1),m=this.islamicDayCell(a),f=this.calendarInstance.createElement("span"),v=t&&this.getIslamicDate(t).month===this.getIslamicDate(a).month,v=t&&this.getIslamicDate(t).year===l&&v;f.textContent=this.calendarInstance.globalize.formatDate(a,{type:"dateTime",format:"MMM",calendar:"islamic"}),this.calendarInstance.min&&(o<h||c<u&&o===h)||this.calendarInstance.max&&(d<o||p<c&&d<=o)?N.addClass([m],ue):!s&&v?N.addClass([m],pe):this.getIslamicDate(a).month===r&&this.getIslamicDate(this.calendarInstance.currentDate).month===r&&N.addClass([m],ce),m.classList.contains(ue)||N.EventHandler.add(m,"click",this.calendarInstance.clickHandler,this.calendarInstance),m.appendChild(f),i.push(m)}this.islamicRenderTemplate(i,4,he,e,t)},a.prototype.islamicRenderDecade=function(e,t){this.calendarInstance.removeTableHeadElement();var i=[],s=new Date(this.islamicInValue(this.calendarInstance.currentDate)),a=this.getIslamicDate(s),n=(s=N.HijriParser.toGregorian(a.year,1,1)).getFullYear(),r=new Date(this.islamicInValue(n-n%10)),n=new Date(this.islamicInValue(n-n%10+9)),l=(r.getFullYear(),n.getFullYear(),this.calendarInstance.globalize.formatDate(r,{type:"dateTime",format:"y",calendar:"islamic"})),o=this.calendarInstance.globalize.formatDate(n,{type:"dateTime",format:"y",calendar:"islamic"}),h=("ar"===this.calendarInstance.locale&&(l=Number(l.replace(/[]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-1632+48)})),o=Number(o.replace(/[]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-1632+48)}))),this.calendarInstance.headerElement.textContent.split("-"));if((!N.isNullOrUndefined(e)&&h[0]!==l&&"home"===e.action||!N.isNullOrUndefined(e)&&"keydown"===e.type&&"end"===e.action)&&(l=this.calendarInstance.headerElement.textContent.split("-")[0].trim(),o=this.calendarInstance.headerElement.textContent.split("-")[1].trim()),this.calendarInstance.islamicPreviousHeader&&(l=this.calendarInstance.islamicPreviousHeader.split("-")[0].trim(),o=this.calendarInstance.islamicPreviousHeader.split("-")[1].trim(),this.calendarInstance.islamicPreviousHeader=null),this.calendarInstance.previousIconClicked){var u=0;for(u=0;u<=h.length;u++)(o=o-h[u]==2||h[u]-o==2?(parseInt(o,10)+1).toString():o-h[u]==3||h[u]-o==3?(parseInt(o,10)+2).toString():o-h[u]==4||h[u]-o==4?(parseInt(o,10)+3).toString():o-h[u]==5||h[u]-o==5?(parseInt(o,10)+4).toString():o)-h[u]!=0&&h[u]-o!=0||(o=(parseInt(o,10)-1).toString());o-h[u]!=8&&h[u]-o!=8||(o=(parseInt(o,10)-9).toString(),l=(parseInt(o,10)-9).toString()),o-h[u]!=7&&h[u]-o!=7||(o=(parseInt(o,10)-8).toString(),l=(parseInt(o,10)-9).toString()),o-(l=o-l==10?(parseInt(l,10)+1).toString():o-l==11?(parseInt(l,10)+2).toString():o-l==12?(parseInt(l,10)+3).toString():l)==8&&(l=(parseInt(l,10)-1).toString())}if(this.calendarInstance.nextIconClicked){for(u=0;u<=h.length;u++)(l=l-h[u]!=0&&h[u]-l!=0?l:(parseInt(l,10)+1).toString())-h[u]==2&&l>h[u].trim()&&(l=(parseInt(l,10)-1).toString()),h[u]-l==1&&l<h[u].trim()&&(l=(parseInt(l,10)+2).toString());1<l-this.calendarInstance.headerTitleElement.textContent.split("-")[1].trim()&&(l=(parseInt(this.calendarInstance.headerTitleElement.textContent.split("-")[1].trim(),10)+1).toString(),o=(parseInt(l,10)+9).toString()),o=(o=o-l==10?(parseInt(o,10)-1).toString():o)-l==7?(parseInt(o,10)+2).toString():o-l==8?(parseInt(o,10)+1).toString():o}"ar"===this.calendarInstance.locale?(r=this.calendarInstance.globalize.formatDate(r,{type:"dateTime",format:"y",calendar:"islamic"}),n=this.calendarInstance.globalize.formatDate(n,{type:"dateTime",format:"y",calendar:"islamic"}),this.calendarInstance.headerTitleElement.textContent=r+" - "+n):this.calendarInstance.headerTitleElement.textContent=l+" - "+o,this.calendarInstance.nextIconClicked=this.calendarInstance.previousIconClicked=!1;for(var r=(parseInt(l,10)-2).toString(),d=Math.round(.97*parseInt(l,10)+622),p=Math.round(.97*parseInt(o,10)+622),c=Math.round(.97*parseInt(r,10)+622),m=1;m<=12;++m){var f,v,y=c+m,a=(s.setFullYear(y),s.setDate(1),s.setMonth(0),1<this.getIslamicDate(s).year-a.year&&(s.setMonth(1),m-=1,s.setFullYear(s.getFullYear()-1)),this.getIslamicDate(s)),s=N.HijriParser.toGregorian(a.year,1,1);(a.year===parseInt(l,10)-1||a.year>=l&&a.year<=p||a.year===parseInt(o,10)+1)&&(f=this.islamicDayCell(s),N.attributes(f,{role:"gridcell"}),(v=this.calendarInstance.createElement("span")).textContent=this.calendarInstance.globalize.formatDate(s,{type:"dateTime",format:"y",calendar:"islamic"}),a.year===parseInt(l,10)-1||y<d||p<y&&a.year!==parseInt(o,10)?N.addClass([f],oe):y<new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()||y>new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()?N.addClass([f],ue):N.isNullOrUndefined(t)||this.getIslamicDate(s).year!==this.getIslamicDate(t).year?s.getFullYear()!==this.calendarInstance.currentDate.getFullYear()||f.classList.contains(ue)||N.addClass([f],ce):N.addClass([f],pe),f.classList.contains(ue)||N.EventHandler.add(f,"click",this.calendarInstance.clickHandler,this.calendarInstance),f.appendChild(v),(!N.isNullOrUndefined(e)&&"home"===e.action&&a.year.toString()===l||!N.isNullOrUndefined(e)&&"end"===e.action&&a.year.toString()===o)&&N.addClass([f],ce),i.push(f))}this.islamicRenderTemplate(i,4,"e-decade",e,t)},a.prototype.islamicDayCell=function(e){var t={skeleton:"full",type:"dateTime",calendar:"islamic"},e=this.calendarInstance.globalize.formatDate(e,t),e=this.calendarInstance.globalize.parseDate(e,t).valueOf(),t={className:"e-cell",attrs:{id:""+N.getUniqueID(""+e),"aria-selected":"false",role:"gridcell"}};return this.calendarInstance.createElement("td",t)},a.prototype.islamicRenderTemplate=function(e,t,i,s,a){for(var n,r=this.calendarInstance.getViewNumber(this.calendarInstance.currentView()),l=(this.calendarInstance.tableBodyElement=this.calendarInstance.createElement("tbody"),this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement),N.removeClass([this.calendarInstance.contentElement,this.calendarInstance.headerElement],["e-month","e-decade",he]),N.addClass([this.calendarInstance.contentElement,this.calendarInstance.headerElement],[i]),t),o=0,h=0;h<Math.round(e.length/t);++h){for(n=this.calendarInstance.createElement("tr",{attrs:{role:"row"}}),o=0+o;o<l;o++)e[o].classList.contains("e-week-number")||N.isNullOrUndefined(e[o].children[0])||(N.addClass([e[o].children[0]],["e-day"]),N.rippleEffect(e[o].children[0],{duration:600,isCenterRipple:!0})),n.appendChild(e[o]),this.calendarInstance.weekNumber&&7===o&&e[7].classList.contains(oe)&&N.addClass([n],me),!this.calendarInstance.weekNumber&&6===o&&e[6].classList.contains(oe)&&N.addClass([n],me),this.calendarInstance.weekNumber?41===o&&e[41].classList.contains(oe)&&N.addClass([n],me):35===o&&e[35].classList.contains(oe)&&N.addClass([n],me);l+=t,o+=0,this.calendarInstance.tableBodyElement.appendChild(n)}this.calendarInstance.table.querySelector("tbody").className=this.calendarInstance.effect,this.islamicIconHandler(),(r!==this.calendarInstance.getViewNumber(this.calendarInstance.currentView())||0===r&&r!==this.calendarInstance.getViewNumber(this.calendarInstance.currentView()))&&this.calendarInstance.navigateHandler(s),this.calendarInstance.setAriaActiveDescendant(),this.calendarInstance.changedArgs={value:this.calendarInstance.value,values:this.calendarInstance.values},this.calendarInstance.changeHandler()},a.prototype.islamicCompareMonth=function(e,t){e=this.getIslamicDate(e),t=this.getIslamicDate(t),e=e.year>t.year?1:e.year<t.year?-1:e.month===t.month?0:e.month>t.month?1:-1;return e},a.prototype.islamicCompare=function(e,t,i){var s=this.getIslamicDate(e),t=this.getIslamicDate(t).year,a=t,n=0;return i&&(a=(t-=t%i)-t%i+i-1),s.year>a?n=1:("Decade"===this.calendarInstance.currentView()&&s.year<t&&!(2060<=e.getFullYear()&&e.getFullYear()<=2069)||s.year<t&&"Year"===this.calendarInstance.currentView())&&(n=-1),n},a.prototype.getIslamicDate=function(e){return N.HijriParser.getHijriDate(e)},a.prototype.toGregorian=function(e,t,i){return N.HijriParser.toGregorian(e,t,i)},a.prototype.hijriCompareYear=function(e,t){return this.islamicCompare(e,t,0)},a.prototype.hijriCompareDecade=function(e,t){return this.islamicCompare(e,t,10)},a.prototype.destroy=function(){this.calendarInstance=null},a.prototype.islamicInValue=function(e){return e instanceof Date?e.toUTCString():""+e},a);function a(e){this.calendarInstance=e}fe=function(e,t){return(fe=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var fe,n,r=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(r=(n<3?a(r):3<n?a(t,i,r):a(t,i))||r);return 3<n&&r&&Object.defineProperty(t,i,r),r},ve="e-datepicker",ye="e-popup-wrapper",ge="e-input-focus",be="e-error",De="e-active",Ee="e-date-overflow",Ce="e-selected",ke="e-non-edit",Me=["title","class","style"],r=(function(e,t){function i(){this.constructor=e}fe(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(h,n=j),h.prototype.render=function(){this.initialize(),this.bindEvents(),"Never"!==this.floatLabelType&&o.Input.calculateWidth(this.inputElement,this.inputWrapper.container),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!N.isNullOrUndefined(N.closest(this.element,"fieldset"))&&N.closest(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)},h.prototype.setTimeZone=function(e){!N.isNullOrUndefined(this.serverTimezoneOffset)&&this.value&&(e=e+(new Date).getTimezoneOffset()/60,e=this.isDayLightSaving()?e--:e,this.value=new Date(this.value.getTime()+60*e*60*1e3),this.updateInput())},h.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)},h.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):N.attributes(this.inputElement,{readonly:""}),this.updateIconState()},h.prototype.updateIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&N.removeClass([this.inputWrapper.container],[ke]):""===this.inputElement.value?N.removeClass([this.inputWrapper.container],[ke]):N.addClass([this.inputWrapper.container],[ke])},h.prototype.initialize=function(){this.checkInvalidValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder?this.enableMask||this.updateInput(!0):(this.updateInput(!0),this.updateInputValue(this.maskedDateValue)),this.previousElementValue=this.inputElement.value,this.previousDate=N.isNullOrUndefined(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},h.prototype.createInput=function(){var e={"aria-atomic":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false","aria-label":this.getModuleName()},t=("datepicker"===this.getModuleName()&&(t={placeholder:this.placeholder},this.globalize=new N.Internationalization(this.locale),this.l10n=new N.L10n("datepicker",t,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)),this.fullScreenMode&&N.Browser.isDevice&&(this.cssClass+=" e-popup-expand"),this.cssClass),i=(N.isNullOrUndefined(this.cssClass)||""===this.cssClass||(t=this.cssClass.replace(/\s+/g," ").trim()),!this.enableMask);this.inputWrapper=o.Input.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:i,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),""!==this.inputElement.name?this.inputElement.setAttribute("name",""+this.inputElement.getAttribute("name")):this.inputElement.setAttribute("name",""+this.element.id),N.attributes(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),o.Input.addAttributes({"aria-label":"select",role:"button"},this.inputWrapper.buttons[0]),N.addClass([this.inputWrapper.container],"e-date-wrapper")},h.prototype.updateInput=function(e,t){var i;void 0===e&&(e=!1),void 0===t&&(t=!1),this.value&&!this.isCalendar()&&this.disabledDates(e,t),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(n.prototype.validateDate.call(this),this.minMaxUpdates(),n.prototype.minMaxUpdate.call(this)),!N.isNullOrUndefined(this.value)&&(e=this.value,t=void 0,i=N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,t="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?this.globalize.formatDate(this.value,{format:i,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(this.value,{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(this.value,i)),+e<=+this.max&&+e>=+this.min||(i=+e>=+this.max||!+this.value||!+this.value||+e<=+this.min,!this.strictMode&&i))&&this.updateInputValue(t),N.isNullOrUndefined(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&N.isNullOrUndefined(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},h.prototype.minMaxUpdates=function(){!N.isNullOrUndefined(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!N.isNullOrUndefined(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},h.prototype.checkStringValue=function(e){var t,i=null,s=null,a=null;return"datetimepicker"===this.getModuleName()?(t=new N.Internationalization(this.locale),a="Gregorian"===this.calendarMode?(s={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},{format:t.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(s={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},{format:t.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})):s="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.checkDateValue(this.globalize.parseDate(e,s)),i=N.isNullOrUndefined(i)&&"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(e,a)):i},h.prototype.checkInvalidValue=function(e){var t,i,s;e instanceof Date||N.isNullOrUndefined(e)||(t=null,"number"==typeof(i=e)&&(i=e.toString()),"datetimepicker"===this.getModuleName()?(e=new N.Internationalization(this.locale),"Gregorian"===this.calendarMode?(this.dateTimeFormat,e.getDatePattern({skeleton:"yMd"})):(this.dateTimeFormat,e.getDatePattern({skeleton:"yMd"}))):"Gregorian"===this.calendarMode?this.formatString:this.formatString,e=!1,"string"!=typeof i?e=!(i=null):("string"==typeof i&&(i=i.trim()),(t=this.checkStringValue(i))||(s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(i)&&!s.test(i)||/^[a-zA-Z0-9- ]*$/.test(i)||isNaN(+new Date(this.checkValue(i)))?e=!0:t=new Date(i))),e?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0)):this.setProperties({value:t},!0))},h.prototype.bindInputEvent=function(){N.isNullOrUndefined(this.formatString)&&!this.enableMask||(this.enableMask||-1===this.formatString.indexOf("y")?N.EventHandler.add(this.inputElement,"input",this.inputHandler,this):N.EventHandler.remove(this.inputElement,"input",this.inputHandler))},h.prototype.bindEvents=function(){N.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.dateIconHandler,this),N.EventHandler.add(this.inputElement,"mouseup",this.mouseUpHandler,this),N.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),N.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),N.EventHandler.add(this.inputElement,"keyup",this.keyupHandler,this),this.enableMask&&N.EventHandler.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),N.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&N.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&N.EventHandler.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=N.extend(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new N.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},h.prototype.keydownHandler=function(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Delete":!this.enableMask||this.popupObj||this.readonly||("Delete"!==e.code&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}))}},h.prototype.unBindEvents=function(){N.isNullOrUndefined(this.inputWrapper)||N.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown",this.dateIconHandler),N.EventHandler.remove(this.inputElement,"mouseup",this.mouseUpHandler),N.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),N.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),N.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),N.EventHandler.remove(this.inputElement,"keyup",this.keyupHandler),this.enableMask&&N.EventHandler.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&N.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&N.EventHandler.remove(this.formElement,"reset",this.resetFormHandler)},h.prototype.resetFormHandler=function(){var e;this.enabled&&!this.inputElement.disabled&&(e=this.inputElement.getAttribute("value"),"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement)&&(this.updateInputValue(e),this.errorClass())},h.prototype.restoreValue=function(){this.currentDate=this.value||new Date,this.previousDate=this.value,this.previousElementValue=N.isNullOrUndefined(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})},h.prototype.inputChangeHandler=function(e){this.enabled&&e.stopPropagation()},h.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&N.EventHandler.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},h.prototype.resetHandler=function(e){this.enabled&&(e.preventDefault(),this.clear(e))},h.prototype.mouseUpHandler=function(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))},h.prototype.clear=function(e){var t;this.setProperties({value:null},!0),this.enableMask||this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),N.closest(this.element,"form")&&(e=this.element,(t=document.createEvent("KeyboardEvent")).initEvent("keyup",!1,!0),e.dispatchEvent(t))},h.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")},h.prototype.updateInputValue=function(e){o.Input.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},h.prototype.dateIconHandler=function(e){this.enabled&&(this.isIconClicked=!0,N.Browser.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),N.addClass([this.inputWrapper.container],[ge]),N.addClass(this.inputWrapper.buttons,De))),this.isIconClicked=!1)},h.prototype.updateHtmlAttributeToWrapper=function(){if(!N.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i,s=t[e];N.isNullOrUndefined(this.htmlAttributes[""+s])||-1<Me.indexOf(s)&&("class"===s?""!==(i=this.htmlAttributes[""+s].replace(/\s+/g," ").trim())&&N.addClass([this.inputWrapper.container],i.split(" ")):"style"===s?(i=this.inputWrapper.container.getAttribute(s),N.isNullOrUndefined(i)?i=this.htmlAttributes[""+s]:";"===i.charAt(i.length-1)?i+=this.htmlAttributes[""+s]:i=i+";"+this.htmlAttributes[""+s],this.inputWrapper.container.setAttribute(s,i)):this.inputWrapper.container.setAttribute(s,this.htmlAttributes[""+s]))}},h.prototype.updateHtmlAttributeToElement=function(){if(!N.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];Me.indexOf(i)<0&&this.inputElement.setAttribute(i,this.htmlAttributes[""+i])}},h.prototype.updateCssClass=function(e,t){N.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),N.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),o.Input.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&o.Input.setCssClass(e,[this.popupWrapper],t)},h.prototype.calendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value==+this.currentDate||this.isCalendar()||this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus()}},h.prototype.inputFocusHandler=function(){var e;this.isFocused=!0,this.enabled&&(this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.isDateIconClicked=!(e={model:this}),this.trigger("focus",e),this.updateIconState(),this.openOnFocus)&&!this.isIconClicked&&this.show()},h.prototype.inputHandler=function(){this.isPopupClicked=!1,this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},h.prototype.inputBlurHandler=function(e){this.enabled&&(this.strictModeUpdate(),""===this.inputElement.value&&N.isNullOrUndefined(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.isBlur=!0,this.updateInput(!1,!0),this.isBlur=!1,this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&(this.inputElement.value!==this.maskedDateValue||this.value||"Auto"!==this.floatLabelType&&"Never"!==this.floatLabelType&&!this.placeholder||this.updateInputValue("")),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=N.extend(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new N.KeyboardEvents(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1)},h.prototype.documentHandler=function(e){N.isNullOrUndefined(this.popupObj)||N.isNullOrUndefined(this.inputWrapper)||!(this.inputWrapper.container.contains(e.target)&&"mousedown"!==e.type||this.popupObj.element&&this.popupObj.element.contains(e.target))||"touchstart"===e.type||e.preventDefault();var t=e.target;N.closest(t,".e-datepicker.e-popup-wrapper")||N.isNullOrUndefined(this.inputWrapper)||N.closest(t,".e-input-group")===this.inputWrapper.container||t.classList.contains("e-day")||t.classList.contains("e-dlg-overlay")?N.closest(t,".e-datepicker.e-popup-wrapper")&&(t.classList.contains("e-day")&&!N.isNullOrUndefined(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&N.closest(t,".e-content")&&N.closest(t,".e-content").classList.contains("e-"+this.depth.toLowerCase())||N.closest(t,".e-footer-container")&&t.classList.contains("e-today")&&t.classList.contains("e-btn")&&+new Date(+this.value)==+n.prototype.generateTodayVal.call(this,this.value))&&this.hide(e):(this.hide(e),this.focusOut())},h.prototype.inputKeyActionHandle=function(e){var t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),"datepicker"===this.getModuleName()&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.isCalendar()||document.activeElement!==this.inputElement||this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":var i,s=this.inputElement.selectionStart,a=this.inputElement.selectionEnd;!this.enableMask||this.popupObj||this.readonly||(i=this.inputElement.value.length,(0===s&&a===i||a!==i&&"tab"===e.action||0!==s&&"shiftTab"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}),s=this.inputElement.selectionStart,a=this.inputElement.selectionEnd),this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=s,this.inputElement.selectionEnd=a),"tab"===e.action&&e.target===this.inputElement&&this.isCalendar()&&document.activeElement===this.inputElement&&(e.preventDefault(),this.headerTitleElement.focus()),"shiftTab"===e.action&&e.target===this.inputElement&&this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}},h.prototype.defaultAction=function(e){this.previousDate=!N.isNullOrUndefined(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(n.prototype.keyActionHandle.call(this,e),this.isCalendar())&&N.attributes(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})},h.prototype.popupUpdate=function(){var e;(N.isNullOrUndefined(this.value)&&!N.isNullOrUndefined(this.previousDate)||"datetimepicker"!==this.getModuleName()&&+this.value!=+this.previousDate||"datetimepicker"===this.getModuleName()&&+this.value!=+this.previousDateTime)&&(this.popupObj&&0<this.popupObj.element.querySelectorAll("."+Ce).length&&N.removeClass(this.popupObj.element.querySelectorAll("."+Ce),[Ce]),N.isNullOrUndefined(this.value)||+this.value>=+this.min&&+this.value<=+this.max&&(e=new Date(this.checkValue(this.value)),n.prototype.navigateTo.call(this,"Month",e)))},h.prototype.strictModeUpdate=function(){var e,t,i,s;"datetimepicker"===this.getModuleName()?e=N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString:/^y/.test(this.formatString)&&!/[^a-zA-Z]/.test(this.formatString)||(e=N.isNullOrUndefined(this.formatString)?this.formatString:this.formatString.replace("dd","d")),N.isNullOrUndefined(e)?e=this.formatString:e.split("M").length-1<3&&(e=e.replace("MM","M")),i="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?s=this.checkDateValue(this.globalize.parseDate(this.inputElement.value,i))?(s=this.inputElement.value.replace(/(am|pm|Am|aM|pM|Pm)/g,function(e){return e.toLocaleUpperCase()}),this.globalize.parseDate(s,i)):(t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.parseDate(this.inputElement.value,t)):(s=this.globalize.parseDate(this.inputElement.value,i),s=!N.isNullOrUndefined(s)&&isNaN(+s)?null:s,!N.isNullOrUndefined(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&s.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&s&&s.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&s?(this.updateInputValue(this.globalize.formatDate(s,i)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:s},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:s},!0),this.strictMode&&!s&&this.inputElement.value===(this.enableMask?this.maskedDateValue:"")&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),N.isNullOrUndefined(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))},h.prototype.createCalendar=function(){var e=this;this.popupWrapper=this.createElement("div",{className:ve+" "+ye,id:this.inputElement.id+"_options"}),this.popupWrapper.setAttribute("aria-label",this.element.id),this.popupWrapper.setAttribute("role","dialog"),N.isNullOrUndefined(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),N.Browser.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=ve+" e-date-modal",document.body.className+=" "+Ee,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new H.Popup(this.popupWrapper,{content:this.calendarElement,relateTo:N.Browser.isDevice?document.body:this.inputWrapper.container,position:N.Browser.isDevice?{X:"center",Y:"center"}:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:N.Browser.isDevice?{X:"fit",Y:"fit"}:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},open:function(){N.Browser.isDevice&&e.fullScreenMode&&(e.iconRight=16<parseInt(window.getComputedStyle(e.calendarElement.querySelector(".e-header.e-month .e-prev")).marginRight,10),e.touchModule=new N.Touch(e.calendarElement.querySelector(".e-content.e-month"),{swipe:e.CalendarSwipeHandler.bind(e)}),N.EventHandler.add(e.calendarElement.querySelector(".e-content.e-month"),"touchstart",e.TouchStartHandler,e)),"datetimepicker"!==e.getModuleName()&&document.activeElement!==e.inputElement&&(e.defaultKeyConfigs=N.extend(e.defaultKeyConfigs,e.keyConfigs),e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new N.KeyboardEvents(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}),e.calendarKeyboardModules=new N.KeyboardEvents(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}))},close:function(){e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),e.resetCalendar(),N.detach(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.preventArgs=null,e.calendarKeyboardModules=null,e.setAriaAttributes()},targetExitViewport:function(){N.Browser.isDevice||e.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()},h.prototype.CalendarSwipeHandler=function(e){var t=0;if(this.iconRight)switch(e.swipeDirection){case"Left":t=1;break;case"Right":t=-1}else switch(e.swipeDirection){case"Up":t=1;break;case"Down":t=-1}this.touchStart&&(1===t?this.navigateNext(e):-1===t&&this.navigatePrevious(e),this.touchStart=!1)},h.prototype.TouchStartHandler=function(e){this.touchStart=!0},h.prototype.setAriaDisabled=function(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)},h.prototype.modelHeader=function(){var e,t=this.createElement("div",{className:"e-model-header"}),i=this.createElement("h1",{className:"e-model-year"}),s=this.createElement("div"),a=this.createElement("span",{className:"e-model-day"}),n=this.createElement("span",{className:"e-model-month"}),r="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"};i.textContent=""+this.globalize.formatDate(this.value||new Date,r),r="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},a.textContent=this.globalize.formatDate(this.value||new Date,r)+", ",r="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,r),this.fullScreenMode&&(r=this.createElement("span",{className:"e-popup-close"}),N.EventHandler.add(r,"mousedown touchstart",this.modelCloseHandler,this),e=this.calendarElement.querySelector("button.e-today"),s.classList.add("e-day-wrapper"),e.classList.add("e-outline"),t.appendChild(r),t.appendChild(e)),this.fullScreenMode||t.appendChild(i),s.appendChild(a),s.appendChild(n),t.appendChild(s),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)},h.prototype.modelCloseHandler=function(e){this.hide()},h.prototype.changeTrigger=function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!N.isNullOrUndefined(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0),this.isKeyAction=!1},h.prototype.navigatedEvent=function(){this.trigger("navigated",this.navigatedArgs)},h.prototype.keyupHandler=function(e){this.isKeyAction=this.inputElement.value!==this.previousElementValue},h.prototype.changeEvent=function(e){this.isIconClicked||this.isBlur||this.isKeyAction||this.selectCalendar(e),(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())?(this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass()):e&&this.hide(e),this.isKeyAction=!1},h.prototype.requiredModules=function(){var e=[];return"Islamic"===this.calendarMode&&e.push({args:[this],member:"islamic",name:"Islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},h.prototype.selectCalendar=function(e){var t,i="datetimepicker"===this.getModuleName()&&N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString;this.value&&(t=(i="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:i,type:"dateTime",skeleton:"yMd"}:{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(this.changedArgs.value,i)),this.enableMask)&&this.notify("createMask",{module:"MaskedDateTime"}),N.isNullOrUndefined(t)||(this.updateInputValue(t),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))},h.prototype.isCalendar=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(ye))},h.prototype.setWidth=function(e){this.inputWrapper.container.style.width="number"==typeof e?N.formatUnit(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:N.formatUnit(this.width):"100%"},h.prototype.show=function(e,t){var i,s,a=this;this.enabled&&this.readonly||!this.enabled||this.popupObj||(i=!0,s=void 0,N.isNullOrUndefined(this.value)||+this.value>=+new Date(this.checkValue(this.min))&&+this.value<=+new Date(this.checkValue(this.max))?s=this.value||null:(s=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(n.prototype.render.call(this),this.setProperties({value:s||null},!0),this.previousDate=s,this.createCalendar()),N.Browser.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){i=!1},popup:this.popupObj,event:t||null,cancel:!1,appendTo:N.Browser.isDevice?this.mobilePopupWrapper:document.body},s=this.preventArgs,this.trigger("open",s,function(e){a.preventArgs=e,i&&!a.preventArgs.cancel?(N.addClass(a.inputWrapper.buttons,De),a.preventArgs.appendTo.appendChild(a.popupWrapper),a.popupObj.refreshPosition(a.inputElement),e={name:"FadeIn",duration:N.Browser.isDevice?0:300},1e3===a.zIndex?a.popupObj.show(new N.Animation(e),a.element):a.popupObj.show(new N.Animation(e),null),n.prototype.setOverlayIndex.call(a,a.mobilePopupWrapper,a.popupObj.element,a.modal,N.Browser.isDevice),a.setAriaAttributes()):(a.popupObj.destroy(),a.popupWrapper=a.popupObj=null),N.isNullOrUndefined(a.inputElement)||""!==a.inputElement.value||!N.isNullOrUndefined(a.tableBodyElement)&&0<a.tableBodyElement.querySelectorAll("td.e-selected").length&&(N.addClass([a.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),N.removeClass(a.tableBodyElement.querySelectorAll("td.e-selected"),Ce)),N.EventHandler.add(document,"mousedown touchstart",a.documentHandler,a)}),N.Browser.isDevice&&((t=this.createElement("div",{className:"e-dlg-overlay"})).style.zIndex=(this.zIndex-1).toString(),this.mobilePopupWrapper.appendChild(t)))},h.prototype.hide=function(e){var t,i=this;N.isNullOrUndefined(this.popupWrapper)?(N.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()):(t=!0,this.preventArgs={preventDefault:function(){t=!1},popup:this.popupObj,event:e||null,cancel:!1},N.removeClass(this.inputWrapper.buttons,De),N.removeClass([document.body],Ee),e=this.preventArgs,this.isCalendar()?this.trigger("close",e,function(e){i.closeEventCallback(t,e)}):this.closeEventCallback(t,e))},h.prototype.closeEventCallback=function(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),N.removeClass(this.inputWrapper.buttons,De)),this.setAriaAttributes(),N.Browser.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),!N.Browser.isDevice||N.isNullOrUndefined(this.mobilePopupWrapper)||!e||!N.isNullOrUndefined(this.preventArgs)&&this.preventArgs.cancel||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null),N.EventHandler.remove(document,"mousedown touchstart",this.documentHandler),N.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},h.prototype.focusIn=function(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),N.addClass([this.inputWrapper.container],[ge]))},h.prototype.focusOut=function(){document.activeElement===this.inputElement&&(N.removeClass([this.inputWrapper.container],[ge]),this.inputElement.blur())},h.prototype.currentView=function(){var e;return e=this.calendarElement?n.prototype.currentView.call(this):e},h.prototype.navigateTo=function(e,t){this.calendarElement&&n.prototype.navigateTo.call(this,e,t)},h.prototype.destroy=function(){this.unBindEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.hide(null),n.prototype.destroy.call(this),o.Input.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),N.isNullOrUndefined(this.keyboardModules)||this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&n.prototype.destroy.call(this);var e={"aria-atomic":"true","aria-disabled":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-label":this.getModuleName()};this.inputElement&&(o.Input.removeAttributes(e,this.inputElement),N.isNullOrUndefined(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),N.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),N.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&N.detach(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(N.isNullOrUndefined(this.inputWrapper)||this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),N.removeClass([this.inputElement],["e-input"])),N.removeClass([this.element],[ve]),N.isNullOrUndefined(this.inputWrapper)||N.detach(this.inputWrapper.container)),this.formElement&&N.EventHandler.remove(this.formElement,"reset",this.resetFormHandler),this.inputWrapper=null,this.keyboardModules=null},h.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)N.isNullOrUndefined(this.inputElementCopy.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.inputElementCopy.getAttribute(e[t])))},h.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),N.removeClass([this.inputElementCopy],[ve,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=N.closest(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,"EJS-DATEPICKER"!==this.element.tagName&&"EJS-DATETIMEPICKER"!==this.element.tagName||(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):("datetimepicker"===this.getModuleName()?this.element.id=N.getUniqueID("ej2-datetimepicker"):this.element.id=N.getUniqueID("ej2-datepicker"),null!==this.ngTag&&N.attributes(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),n.prototype.preRender.call(this)},h.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs},h.prototype.validationAttribute=function(e,t){for(var i,s=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id"),a=(t.setAttribute("name",s),e.removeAttribute("name"),["required","aria-required","form"]),n=0;n<a.length;n++)N.isNullOrUndefined(e.getAttribute(a[n]))||(i=e.getAttribute(a[n]),t.setAttribute(a[n],i),e.removeAttribute(a[n]))},h.prototype.checkFormat=function(){var e,t=new N.Internationalization(this.locale);this.format?"string"==typeof this.format?this.formatString=this.format:""===this.format.skeleton||N.isNullOrUndefined(this.format.skeleton)?"datetimepicker"===this.getModuleName()?this.formatString=this.dateTimeFormat:this.formatString=null:(e=this.format.skeleton,"datetimepicker"===this.getModuleName()?this.formatString=t.getDatePattern({skeleton:e,type:"dateTime"}):this.formatString=t.getDatePattern({skeleton:e,type:"date"})):this.formatString=null},h.prototype.checkHtmlAttributes=function(e){this.globalize=new N.Internationalization(this.locale),this.checkFormat(),this.checkView();for(var t=e?N.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"],i="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s=0,a=t;s<a.length;s++){var n,r,l,o=a[s];if(!N.isNullOrUndefined(this.inputElement.getAttribute(o)))switch(o){case"disabled":(N.isNullOrUndefined(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e)&&(n="disabled"!==this.inputElement.getAttribute(o)&&""!==this.inputElement.getAttribute(o)&&"true"!==this.inputElement.getAttribute(o),this.setProperties({enabled:n},!e));break;case"readonly":(N.isNullOrUndefined(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e)&&(n="readonly"===this.inputElement.getAttribute(o)||""===this.inputElement.getAttribute(o)||"true"===this.inputElement.getAttribute(o),this.setProperties({readonly:n},!e));break;case"placeholder":(N.isNullOrUndefined(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(o)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(o));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(o));break;case"value":(N.isNullOrUndefined(this.datepickerOptions)||void 0===this.datepickerOptions.value||e)&&(r=this.inputElement.getAttribute(o),this.setProperties(N.setValue(o,this.globalize.parseDate(r,i),{}),!e));break;case"min":+this.min!=+new Date(1900,0,1)&&!e||(r=this.inputElement.getAttribute(o),this.setProperties(N.setValue(o,this.globalize.parseDate(r,i),{}),!e));break;case"max":+this.max!=+new Date(2099,11,31)&&!e||(l=this.inputElement.getAttribute(o),this.setProperties(N.setValue(o,this.globalize.parseDate(l,i),{}),!e));break;case"type":"text"!==this.inputElement.getAttribute(o)&&this.inputElement.setAttribute("type","text")}}},h.prototype.getModuleName=function(){return"datepicker"},h.prototype.disabledDates=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value)),s=this.previousDate;this.minMaxUpdates(),e&&N.isNullOrUndefined(this.renderDayCell)||n.prototype.render.call(this),this.previousDate=s;var e='*[id^="/id"]'.replace("/id",""+(i&&+i));this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+i)&&this.setProperties({value:i},!0),N.isNullOrUndefined(this.calendarElement)||N.isNullOrUndefined(this.calendarElement.querySelectorAll(e)[0])||!this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled")||this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0))),e="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?this.globalize.formatDate(i,{format:N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(i,{format:N.isNullOrUndefined(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(s="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(i,s)),this.popupObj||(this.updateInputValue(e),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime",isBlur:t})))},h.prototype.setAriaAttributes=function(){this.isCalendar()?(o.Input.addAttributes({"aria-expanded":"true"},this.inputElement),N.attributes(this.inputElement,{"aria-owns":this.inputElement.id+"_options"}),N.attributes(this.inputElement,{"aria-controls":this.inputElement.id}),this.value&&N.attributes(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(o.Input.addAttributes({"aria-expanded":"false"},this.inputElement),this.inputElement.removeAttribute("aria-owns"),this.inputElement.removeAttribute("aria-controls"),this.inputElement.removeAttribute("aria-activedescendant"))},h.prototype.errorClass=function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),e=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!(N.isNullOrUndefined(this.value)||N.isNullOrUndefined(this.min)||N.isNullOrUndefined(this.max)||new Date(this.value).setMilliseconds(0)>=new Date(this.min).setMilliseconds(0)&&new Date(this.value).setMilliseconds(0)<=new Date(this.max).setMilliseconds(0))||!this.strictMode&&""!==this.inputElement.value&&this.inputElement.value!==this.maskedDateValue&&N.isNullOrUndefined(this.value)||e?(N.addClass([this.inputWrapper.container],be),N.attributes(this.inputElement,{"aria-invalid":"true"})):N.isNullOrUndefined(this.inputWrapper)||(N.removeClass([this.inputWrapper.container],be),N.attributes(this.inputElement,{"aria-invalid":"false"}))},h.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){var a=s[i];switch(0<["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell"].indexOf(a)&&this.isReact&&(this.isDynamicValueChanged=!0),a){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,N.isNullOrUndefined(this.value)&&(this.enableMask?this.updateInputValue(this.maskedDateValue):this.updateInputValue(""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!=+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"allowEdit":this.setAllowEdit();break;case"placeholder":o.Input.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":o.Input.setReadonly(this.readonly,this.inputElement);break;case"enabled":o.Input.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new N.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.datepickerOptions&&null==this.datepickerOptions.placeholder&&(this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),o.Input.setPlaceholder(this.placeholder,this.inputElement)),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":o.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&n.prototype.onPropertyChanged.call(this,e,t);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"showClearButton":o.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width),o.Input.calculateWidth(this.inputElement,this.inputWrapper.container),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"floatLabelType":this.floatLabelType=e.floatLabelType,o.Input.removeFloating(this.inputWrapper),o.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&n.prototype.onPropertyChanged.call(this,e,t)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},r([N.Property(null)],h.prototype,"width",void 0),r([N.Property(null)],h.prototype,"value",void 0),r([N.Property(null)],h.prototype,"cssClass",void 0),r([N.Property(!1)],h.prototype,"strictMode",void 0),r([N.Property(null)],h.prototype,"format",void 0),r([N.Property(!0)],h.prototype,"enabled",void 0),r([N.Property(!1)],h.prototype,"fullScreenMode",void 0),r([N.Property({})],h.prototype,"htmlAttributes",void 0),r([N.Property(null)],h.prototype,"values",void 0),r([N.Property(!1)],h.prototype,"isMultiSelection",void 0),r([N.Property(!0)],h.prototype,"showClearButton",void 0),r([N.Property(!0)],h.prototype,"allowEdit",void 0),r([N.Property(null)],h.prototype,"keyConfigs",void 0),r([N.Property(!1)],h.prototype,"enablePersistence",void 0),r([N.Property(1e3)],h.prototype,"zIndex",void 0),r([N.Property(!1)],h.prototype,"readonly",void 0),r([N.Property(null)],h.prototype,"placeholder",void 0),r([N.Property("Never")],h.prototype,"floatLabelType",void 0),r([N.Property(null)],h.prototype,"serverTimezoneOffset",void 0),r([N.Property(!1)],h.prototype,"openOnFocus",void 0),r([N.Property(!1)],h.prototype,"enableMask",void 0),r([N.Property({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],h.prototype,"maskPlaceholder",void 0),r([N.Event()],h.prototype,"open",void 0),r([N.Event()],h.prototype,"cleared",void 0),r([N.Event()],h.prototype,"close",void 0),r([N.Event()],h.prototype,"blur",void 0),r([N.Event()],h.prototype,"focus",void 0),r([N.Event()],h.prototype,"created",void 0),r([N.Event()],h.prototype,"destroyed",void 0),r([N.NotifyPropertyChanges],h));function h(e,t){t=n.call(this,e,t)||this;return t.isDateIconClicked=!1,t.isAltKeyPressed=!1,t.isInteracted=!0,t.invalidValueString=null,t.checkPreviousValue=null,t.maskedDateValue="",t.preventChange=!1,t.isIconClicked=!1,t.isDynamicValueChanged=!1,t.moduleName=t.getModuleName(),t.isFocused=!1,t.isBlur=!1,t.isKeyAction=!1,t.datepickerOptions=e,t}we=function(e,t){return(we=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var we,Ve,Ne=function(e,t){function i(){this.constructor=e}we(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},u=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(r=(n<3?a(r):3<n?a(t,i,r):a(t,i))||r);return 3<n&&r&&Object.defineProperty(t,i,r),r},Oe="e-input-group",Ie="e-popup",b="e-left-calendar",D="e-right-calendar",Te="e-daterangepicker",xe="e-error",v="e-active",E="e-start-date",C="e-end-date",Se="e-start-btn",Pe="e-input-focus",Ae="e-range-hover",Ue="e-other-month",He="e-start-label",We="e-end-label",k="e-disabled",y="e-selected",d="e-calendar",Le="e-next",Fe="e-prev",p="e-header",Be="e-title",je="e-icon-container",Re="e-date-range-container",Ye="e-presets",ze="e-today",qe="e-focused-date",Ke="e-content",_e="e-day-span",Ge="e-week-number",Ze="e-date-disabled",c="e-icon-disabled",Xe="e-device",m="e-overlay",Je="e-list-item",f="e-hover",$e="e-range-overflow",Qe="e-non-edit",et="e-daterange-hidden",tt=["title","class","style"],it=(Ve=N.ChildProperty,Ne(st,Ve),u([N.Property()],st.prototype,"label",void 0),u([N.Property()],st.prototype,"start",void 0),u([N.Property()],st.prototype,"end",void 0),st);function st(){return null!==Ve&&Ve.apply(this,arguments)||this}Ne(w,M=le),w.prototype.render=function(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue(),this.setDataAttribute(!1),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),"Never"!==this.floatLabelType&&o.Input.calculateWidth(this.inputElement,this.inputWrapper.container),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!N.isNullOrUndefined(N.closest(this.element,"fieldset"))&&N.closest(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete()},w.prototype.preRender=function(){var e;this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow",moveUp:"uparrow",moveDown:"downarrow",spacebar:"space"},this.defaultConstant={placeholder:this.placeholder,startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=!!N.Browser.isDevice||window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),N.removeClass([this.cloneElement],[Te,"e-control","e-lib"]),this.updateHtmlAttributeToElement(),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=N.getUniqueID("ej2-datetimepicker"),null!==this.angularTag&&N.attributes(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),this.invalidValueString||"string"!=typeof this.value||(e=this.value.split(" "+this.separator+" "),this.value=[new Date(e[0]),new Date(e[1])]),this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),M.prototype.preRender.call(this),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=N.closest(this.element,"form")},w.prototype.updateValue=function(){this.value&&0<this.value.length?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"!=typeof this.value[0]||0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):("string"!=typeof this.value[1]||0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1]))),this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):("string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end))):(this.setProperties({endDate:null},!0),this.endValue=null),this.setValue())):N.isNullOrUndefined(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())},w.prototype.initProperty=function(){this.globalize=new N.Internationalization(this.locale),this.checkFormat(),this.checkView(),(N.isNullOrUndefined(this.firstDayOfWeek)||6<this.firstDayOfWeek||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()},w.prototype.checkFormat=function(){var e;this.format?"string"==typeof this.format?this.formatString=this.format:""===this.format.skeleton||N.isNullOrUndefined(this.format.skeleton)?this.formatString=null:(e=this.format.skeleton,this.formatString=this.globalize.getDatePattern({skeleton:e,type:"date"})):this.formatString=null},w.prototype.initialize=function(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(!1),N.merge(this.defaultKeyConfigs,{shiftTab:"shift+tab",tab:"tab"});var e=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:e},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new N.L10n("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setRangeAllowEdit(),this.bindEvents()},w.prototype.setDataAttribute=function(e){var t={};if(e)t=this.htmlAttributes;else for(var i=0;i<this.element.attributes.length;i++)t[this.element.attributes[i].name]=this.element.getAttribute(this.element.attributes[i].name);for(var s=0,a=Object.keys(t);s<a.length;s++){var n=a[s];0===n.indexOf("data")&&(this.firstHiddenChild.setAttribute(n,t[""+n]),this.secondHiddenChild.setAttribute(n,t[""+n]))}},w.prototype.setRangeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):N.attributes(this.inputElement,{readonly:""}),this.updateClearIconState()},w.prototype.updateClearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&N.removeClass([this.inputWrapper.container],[Qe]):""===this.inputElement.value?N.removeClass([this.inputWrapper.container],[Qe]):N.addClass([this.inputWrapper.container],[Qe])},w.prototype.validationAttribute=function(e,t){for(var i,s=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id"),a=(t.setAttribute("name",s),e.removeAttribute("name"),["required","aria-required","form"]),n=0;n<a.length;n++)N.isNullOrUndefined(e.getAttribute(a[n]))||(i=e.getAttribute(a[n]),t.setAttribute(a[n],i),e.removeAttribute(a[n]))},w.prototype.updateHtmlAttributeToWrapper=function(){if(!N.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i,s=t[e];-1<tt.indexOf(s)&&("class"===s?""!==(i=this.htmlAttributes[""+s].replace(/\s+/g," ").trim())&&N.addClass([this.inputWrapper.container],i.split(" ")):"style"===s?(i=this.inputWrapper.container.getAttribute(s),i=N.isNullOrUndefined(i)?this.htmlAttributes[""+s]:i+this.htmlAttributes[""+s],this.inputWrapper.container.setAttribute(s,i)):this.inputWrapper.container.setAttribute(s,this.htmlAttributes[""+s]))}},w.prototype.updateHtmlAttributeToElement=function(){if(!N.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];tt.indexOf(i)<0&&this.inputElement.setAttribute(i,this.htmlAttributes[""+i])}},w.prototype.updateCssClass=function(e,t){N.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),N.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),o.Input.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&o.Input.setCssClass(e,[this.popupWrapper],t)},w.prototype.processPresets=function(){this.presetsItem=[];var e=0;if(!N.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(var t=0,i=this.presets;t<i.length;t++){var s=i[t],a=s.label.replace(/\s+/g,"")+"_"+ ++e;"string"==typeof s.end?this.presetsItem.push({id:a,text:s.label,end:new Date(this.checkValue(s.end)),start:new Date(this.checkValue(s.start))}):this.presetsItem.push({id:a,text:s.label,start:s.start,end:s.end})}var n=N.isNullOrUndefined(this.startValue)?null:new Date(+this.startValue),r=N.isNullOrUndefined(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:n,end:r}),N.isNullOrUndefined(this.startValue)||N.isNullOrUndefined(this.endValue)||(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}},w.prototype.bindEvents=function(){N.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),N.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),N.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),N.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&N.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.keyInputConfigs=N.extend(this.keyInputConfigs,this.keyConfigs),this.inputKeyboardModule=new N.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&N.EventHandler.add(this.formElement,"reset",this.formResetHandler,this),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1},w.prototype.unBindEvents=function(){N.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),N.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),N.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),N.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&N.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||N.isNullOrUndefined(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&N.EventHandler.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1},w.prototype.updateHiddenInput=function(){var e;this.firstHiddenChild&&this.secondHiddenChild&&(e={format:this.formatString,type:"datetime",skeleton:"yMd"},"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,e)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,e)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change"))},w.prototype.inputChangeHandler=function(e){this.enabled&&(e.stopPropagation(),this.updateHiddenInput())},w.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&N.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},w.prototype.resetHandler=function(e){var t;this.enabled&&(this.valueType=this.value,e.preventDefault(),this.clear(),t={event:e},this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.trigger("cleared",t),this.changeTrigger(e),this.clearRange(),this.hide(e),N.closest(this.element,"form"))&&(t=this.firstHiddenChild,(e=document.createEvent("KeyboardEvent")).initEvent("keyup",!1,!0),t.dispatchEvent(e))},w.prototype.restoreValue=function(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()},w.prototype.formResetHandler=function(e){this.enabled&&this.formElement&&e.target===this.formElement&&!this.inputElement.disabled&&(e=this.inputElement.getAttribute("value"),N.isNullOrUndefined(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(N.isNullOrUndefined(this.value)||N.isNullOrUndefined(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),e="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement)&&(o.Input.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())},w.prototype.clear=function(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&0<this.value.length&&this.setProperties({value:null},!0),o.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),N.isNullOrUndefined(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()},w.prototype.rangeIconHandler=function(e){this.enabled&&(this.isMobile&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.targetElement=null,this.isPopupOpen()&&document.body.contains(this.popupObj.element)?this.applyFunction(e):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,e),this.isMobile||N.isNullOrUndefined(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),N.addClass([this.inputWrapper.container],[Pe])))},w.prototype.checkHtmlAttributes=function(e){this.globalize=new N.Internationalization(this.locale);for(var t=e?N.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type","value"],i={format:this.formatString,type:"date",skeleton:"yMd"},s=0,a=t;s<a.length;s++){var n,r,l,o=a[s];if(!N.isNullOrUndefined(this.inputElement.getAttribute(o)))switch(o){case"disabled":(N.isNullOrUndefined(this.dateRangeOptions)||void 0===this.dateRangeOptions.enabled||e)&&(n="disabled"===this.inputElement.getAttribute(o)||""===this.inputElement.getAttribute(o)||"true"===this.inputElement.getAttribute(o),this.setProperties({enabled:!n},!e));break;case"readonly":(N.isNullOrUndefined(this.dateRangeOptions)||void 0===this.dateRangeOptions.readonly||e)&&(n="readonly"===this.inputElement.getAttribute(o)||"true"===this.inputElement.getAttribute(o)||""===this.inputElement.getAttribute(o),this.setProperties({readonly:n},!e));break;case"placeholder":(N.isNullOrUndefined(this.dateRangeOptions)||void 0===this.dateRangeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(o)},!e);break;case"value":(N.isNullOrUndefined(this.dateRangeOptions)||void 0===this.dateRangeOptions.value||e)&&(r=this.inputElement.getAttribute(o),this.setProperties(N.setValue(o,r,{}),!e));break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(o));break;case"min":(N.isNullOrUndefined(this.min)||+this.min==+new Date(1900,0,1)||e)&&(l=this.globalize.parseDate(this.inputElement.getAttribute(o),i),this.setProperties(N.setValue(o,l,{}),!e));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(o));break;case"max":(N.isNullOrUndefined(this.max)||+this.max==+new Date(2099,11,31)||e)&&(l=this.globalize.parseDate(this.inputElement.getAttribute(o),i),this.setProperties(N.setValue(o,l,{}),!e));break;case"startDate":N.isNullOrUndefined(this.startDate)&&(l=this.globalize.parseDate(this.inputElement.getAttribute(o),i),this.startValue=l,this.setValue());break;case"endDate":N.isNullOrUndefined(this.endDate)&&(l=this.globalize.parseDate(this.inputElement.getAttribute(o),i),this.endValue=l,this.setValue());break;case"minDays":N.isNullOrUndefined(this.minDays)&&this.setProperties(N.setValue(o,parseInt(this.inputElement.getAttribute(o),10),{}),!0);break;case"maxDays":N.isNullOrUndefined(this.maxDays)&&this.setProperties(N.setValue(o,parseInt(this.inputElement.getAttribute(o),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(o)&&this.inputElement.setAttribute("type","text")}}},w.prototype.createPopup=function(){for(var e=0;e<this.presetsItem.length;e++)e!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[e].id&&this.presetsItem.splice(e,1);this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0;for(e=0;e<=this.presetsItem.length-2;e++){var t=this.presetsItem[e].start,i=this.presetsItem[e].end;this.startValue&&this.endValue&&t.getDate()===this.startValue.getDate()&&t.getMonth()===this.startValue.getMonth()&&t.getFullYear()===this.startValue.getFullYear()&&i.getDate()===this.endValue.getDate()&&i.getMonth()===this.endValue.getMonth()&&i.getFullYear()===this.endValue.getFullYear()&&(this.activeIndex=e,this.isCustomRange=!1)}this.popupWrapper=N.createElement("div",{id:this.element.id+"_popup",className:Te+" "+Ie}),this.popupWrapper.setAttribute("aria-label",this.element.id),this.popupWrapper.setAttribute("role","dialog"),this.adjustLongHeaderWidth();var s=!this.isCustomRange||this.isMobile;!N.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&s?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())},w.prototype.renderControl=function(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)||N.isNullOrUndefined(this.renderDayCellArgs)||!this.renderDayCellArgs.isDisabled||this.disabledDateRender(),this.updateHeader()},w.prototype.clearCalendarEvents=function(){this.leftCalPrevIcon&&this.leftCalNextIcon&&this.rightCalPrevIcon&&this.rightCalNextIcon&&(N.EventHandler.clearEvents(this.leftCalPrevIcon),N.EventHandler.clearEvents(this.leftCalNextIcon),N.EventHandler.clearEvents(this.rightCalPrevIcon),N.EventHandler.clearEvents(this.rightCalNextIcon))},w.prototype.updateNavIcons=function(){M.prototype.iconHandler.call(this)},w.prototype.calendarIconEvent=function(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(k)&&N.EventHandler.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(k)&&N.EventHandler.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(k)&&N.EventHandler.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(k)&&N.EventHandler.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)},w.prototype.bindCalendarEvents=function(){this.isMobile?(this.deviceCalendarEvent(),N.EventHandler.add(this.startButton.element,"click",this.deviceHeaderClick,this),N.EventHandler.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector("."+D+" ."+p+" ."+Be),this.headerTitleElement=this.popupObj.element.querySelector("."+b+" ."+p+" ."+Be),this.defaultKeyConfigs=N.extend(this.defaultKeyConfigs,this.keyConfigs),this.leftKeyboardModule=new N.KeyboardEvents(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs}),this.rightKeyboardModule=new N.KeyboardEvents(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},w.prototype.calendarIconRipple=function(){N.rippleEffect(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),N.rippleEffect(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),N.rippleEffect(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),N.rippleEffect(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})},w.prototype.deviceCalendarEvent=function(){N.EventHandler.clearEvents(this.nextIcon),N.EventHandler.clearEvents(this.previousIcon),N.rippleEffect(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),N.rippleEffect(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(k)&&N.EventHandler.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(k)&&N.EventHandler.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)},w.prototype.deviceNavNext=function(e){var t=N.closest(e.target,"."+d);this.updateDeviceCalendar(t),this.navigateNext(e),this.deviceNavigation()},w.prototype.deviceNavPrevious=function(e){var t=N.closest(e.target,"."+d);this.updateDeviceCalendar(t),this.navigatePrevious(e),this.deviceNavigation()},w.prototype.updateDeviceCalendar=function(e){e&&(this.previousIcon=e.querySelector("."+Fe),this.nextIcon=e.querySelector("."+Le),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector("."+Ke),this.tableBodyElement=N.select("."+Ke+" tbody",e),this.table=e.querySelector("."+Ke).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+p+" ."+Be),this.headerElement=e.querySelector("."+p))},w.prototype.deviceHeaderClick=function(e){var t;e.currentTarget.classList.contains(Se)&&!N.isNullOrUndefined(this.startValue)?(this.endButton.element.classList.remove(v),this.startButton.element.classList.add(v),t=this.popupObj.element.querySelector("."+d),this.updateDeviceCalendar(t),N.isNullOrUndefined(this.calendarElement.querySelector("."+E+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),N.remove(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()):N.isNullOrUndefined(this.startValue)||N.isNullOrUndefined(this.endValue)||(this.startButton.element.classList.remove(v),this.endButton.element.classList.add(v),t=this.popupObj.element.querySelector("."+d),this.updateDeviceCalendar(t),N.isNullOrUndefined(this.calendarElement.querySelector("."+C+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),N.remove(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+d)),this.selectableDates())},w.prototype.inputFocusHandler=function(){this.enabled&&(this.preventBlur=!1,this.preventFocus||this.trigger("focus",{model:this}),this.updateClearIconState(),this.openOnFocus&&!this.preventFocus?(this.preventFocus=!0,this.show()):this.preventFocus=!0)},w.prototype.inputBlurHandler=function(e){if(this.enabled){if(!this.preventBlur){var t=this.inputElement.value;if(N.isNullOrUndefined(this.presetsItem)||0<this.presetsItem.length&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!N.isNullOrUndefined(t)&&""!==t.trim()){var i=t.split(" "+this.separator+" ");if(1<i.length){this.invalidValueString=null;var s={format:this.formatString,type:"date",skeleton:"yMd"},a=this.globalize.parseDate(i[0],s),n=this.globalize.parseDate(i[1],s),a=this.getStartEndDate(a,!1,i,s),n=this.getStartEndDate(n,!0,i,s);if(!(N.isNullOrUndefined(a)||isNaN(+a)||N.isNullOrUndefined(n)||isNaN(+n)))return i=this.startValue,this.startValue=a,s=this.endValue,this.endValue=n,this.setValue(),this.refreshControl(),t!==this.previousEleValue&&this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this})),this.updateHiddenInput(),void(this.isMobile&&this.isPopupOpen()&&(this.startValue=i,this.endValue=s))}this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}this.strictMode?(N.isNullOrUndefined(t)||""!==t.trim()||(this.startValue=null,this.endValue=null),o.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(N.isNullOrUndefined(this.popupObj)&&(this.currentDate=null),this.previousStartValue=this.previousEndValue=null,this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this}))}this.updateHiddenInput()}},w.prototype.getStartEndDate=function(e,t,i,s){return"Month"===this.depth?this.globalize.parseDate(i[t?1:0].trim(),s):"Year"!==this.depth||N.isNullOrUndefined(e)?N.isNullOrUndefined(e)?null:new Date(e.getFullYear(),t?11:0,t?31:1):new Date(e.getFullYear(),e.getMonth()+(t?1:0),t?0:1)},w.prototype.clearRange=function(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null},w.prototype.errorClass=function(){var e=this.inputElement.value.trim();(N.isNullOrUndefined(this.endValue)&&N.isNullOrUndefined(this.startValue)&&""!==e||!N.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min||!N.isNullOrUndefined(this.startValue)&&!N.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue||!N.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==e?(N.addClass([this.inputWrapper.container],xe),N.attributes(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(N.removeClass([this.inputWrapper.container],xe),N.attributes(this.inputElement,{"aria-invalid":"false"}))},w.prototype.keyCalendarUpdate=function(e,t,i){return(i=void 0===i?!0:i)&&this.removeFocusedDate(),t=e?(this.leftCalCurrentDate=new Date(+this.currentDate),this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t},w.prototype.navInCalendar=function(e,t,i,s,a){var n,r=this.getViewNumber(this.currentView()),l=this.min,o=N.isNullOrUndefined(this.maxDays)||!this.isMaxDaysClicked||N.isNullOrUndefined(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1)));switch(e.action){case"moveRight":n=new Date(+this.currentDate),this.addDay(n,1,e,o,l),t&&+n==+s&&(a=this.keyCalendarUpdate(!1,a)),this.keyboardNavigate(1,r,e,o,l),this.keyNavigation(a,e);break;case"moveLeft":n=new Date(+this.currentDate),this.addDay(n,-1,e,o,l),t||+n==+i&&(a=this.keyCalendarUpdate(!0,a)),this.keyboardNavigate(-1,r,e,o,l),this.keyNavigation(a,e);break;case"moveUp":0===r?(n=new Date(+this.currentDate),this.addDay(n,-7,e,o,l),+n<=+i&&!t&&(a=this.keyCalendarUpdate(!0,a)),this.keyboardNavigate(-7,r,e,o,l)):this.keyboardNavigate(-4,r,e,this.max,this.min),this.keyNavigation(a,e);break;case"moveDown":0===r?(n=new Date(+this.currentDate),this.addDay(n,7,e,o,l),t&&+s<=+n&&(a=this.keyCalendarUpdate(!1,a)),this.keyboardNavigate(7,r,e,o,l)):this.keyboardNavigate(4,r,e,this.max,this.min),this.keyNavigation(a,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),N.remove(this.tableBodyElement),0===r?this.renderMonths(e):1===r?this.renderYears(e):this.renderDecades(e),this.keyNavigation(a,e);break;case"end":this.currentDate=this.lastDay(this.currentDate,r),N.remove(this.tableBodyElement),0===r?this.renderMonths(e):1===r?this.renderYears(e):this.renderDecades(e),this.keyNavigation(a,e);break;case"tab":this.tabKeyValidation(a,b)&&(a=this.keyCalendarUpdate(!1,a,!1),this.currentDate=this.firstCellToFocus(this.rightCalendar),r=this.getViewNumber(this.currentView()),this.keyboardNavigate(0,r,e,o,l),this.keyNavigation(a,e));break;case"shiftTab":this.tabKeyValidation(a,D)&&(a=this.keyCalendarUpdate(!0,a,!1),this.currentDate=this.firstCellToFocus(this.leftCalendar),this.keyboardNavigate(0,r,e,o,l),this.keyNavigation(a,e))}},w.prototype.firstCellToFocus=function(e){var e=2===this.getViewNumber(this.currentView())?e.children[1].firstElementChild.querySelector("td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-year)"):e.children[1].firstElementChild.querySelector("td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)"),e=e&&e.id?e.id.split("_")[0]:null,t=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),1);return e?new Date(+e):t},w.prototype.keyInputHandler=function(e,t){var i,s,a=this.getViewNumber(this.currentView()),n=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),r=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0),l=N.closest(e.target,"."+D),o=(l=N.isNullOrUndefined(l)?this.leftCalendar:l).classList.contains(b),h=(this.updateCalendarElement(l),this.tableBodyElement.querySelector("tr td.e-selected")),u=l.querySelector("tr td."+qe),d=l.querySelector("tr td."+E),p=l.querySelector("tr td."+C),c=this.getViewNumber(this.depth),m=a===c&&this.getViewNumber(this.start)>=c,f=N.closest(e.target,"."+b),v=N.closest(e.target,"."+D),y=N.closest(e.target,"."+Ye);switch(N.isNullOrUndefined(u)?N.isNullOrUndefined(p)||this.dateDisabled?N.isNullOrUndefined(d)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.inputElement.focus(),N.addClass([this.inputWrapper.container],[Pe]));break;case"select":m?(s=N.isNullOrUndefined(u)?d:u,N.isNullOrUndefined(s)||s.classList.contains(k)||this.selectRange(null,s)):(N.isNullOrUndefined(h)||m)&&N.isNullOrUndefined(u)||(N.isNullOrUndefined(this.value)||(t=this.calendarElement.classList.contains(b)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--a,u||h,t)),e.preventDefault();break;case"controlHome":var g=new Date(this.currentDate.getFullYear(),0,1);!o&&+g<+r&&(l=this.keyCalendarUpdate(!0,l)),M.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(l,e);break;case"altRightArrow":N.isNullOrUndefined(f)?N.isNullOrUndefined(v)?N.isNullOrUndefined(y)||this.cancelButton.element.focus():N.isNullOrUndefined(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault();break;case"altLeftArrow":N.isNullOrUndefined(f)?N.isNullOrUndefined(v)||this.leftCalendar.children[1].firstElementChild.focus():(!0!==this.applyButton.element.disabled?this.applyButton:this.cancelButton).element.focus(),e.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(b),this.calendarNavigation(e,this.calendarElement),e.preventDefault();break;case"controlDown":N.isNullOrUndefined(h)&&N.isNullOrUndefined(u)||m||(N.isNullOrUndefined(this.value)||(t=this.calendarElement.classList.contains(b)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--a,h||u,t)),e.preventDefault();break;case"controlEnd":g=new Date(this.currentDate.getFullYear(),11,31);o&&+n<+g&&(l=this.keyCalendarUpdate(!1,l)),M.prototype.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(l,e);break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!o&&+i<=+r&&(l=this.keyCalendarUpdate(!0,l)),this.addMonths(this.currentDate,-1),M.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),o&&+n<=+i&&(l=this.keyCalendarUpdate(!1,l)),this.addMonths(this.currentDate,1),M.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!o&&+i<=+r&&(l=this.keyCalendarUpdate(!0,l)),this.addYears(this.currentDate,-1),M.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),o&&+n<=+i&&(l=this.keyCalendarUpdate(!1,l)),this.addYears(this.currentDate,1),M.prototype.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(l,e);break;case"shiftTab":N.isNullOrUndefined(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),o&&e.preventDefault(),this.tabKeyValidation(l,D)&&(this.currentDate=new Date(+this.leftCalCurrentDate),this.navInCalendar(e,o,r,n,l));break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;case"tab":this.tabKeyValidation(l,b)&&(this.currentDate=new Date(+this.rightCalCurrentDate),this.navInCalendar(e,o,r,n,l));break;default:this.navInCalendar(e,o,r,n,l),this.checkMinMaxDays()}this.presetHeight()},w.prototype.tabKeyValidation=function(e,t){var e=e.classList.contains(t),t=this.rightCalendar.querySelector(".e-header"),i=this.leftCalendar.querySelector(".e-header"),s=!!t&&t.classList.contains("e-month"),a=!!i&&i.classList.contains("e-month"),n=!!t&&t.classList.contains("e-year"),r=!!i&&i.classList.contains("e-year"),t=!!t&&t.classList.contains("e-decade"),i=!!i&&i.classList.contains("e-decade");return e&&(a||r||i)&&(s||n||t)&&!this.isMobile},w.prototype.keyNavigation=function(e,t){this.bindCalendarCellEvents(e),e.classList.contains(b)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),t.preventDefault()},w.prototype.inputHandler=function(e){switch(e.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(e),this.clearRange()),this.show(null,e),this.isRangeIconClicked=!1,this.isMobile||N.isNullOrUndefined(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(e);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(e),this.hide(e));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(e),e.preventDefault())}},w.prototype.bindCalendarCellEvents=function(e){for(var e=(e||this.popupObj.element).querySelectorAll("."+d+" td"),t=0,i=e;t<i.length;t++){var s=i[t];N.EventHandler.clearEvents(s),s.classList.contains(k)||s.classList.contains(Ze)||s.classList.contains(Ge)||(this.isMobile||N.EventHandler.add(s,"mouseover",this.hoverSelection,this),N.EventHandler.add(s,"mousedown",this.selectRange,this))}},w.prototype.removeFocusedDate=function(){for(var e=!N.isNullOrUndefined(this.startValue)||!N.isNullOrUndefined(this.endValue),t=0,i=this.popupObj.element.querySelectorAll("."+d+" ."+qe);t<i.length;t++){var s=i[t],a=new Date,n=this.getIdValue(null,s);("Month"===this.depth&&"Month"===this.currentView()&&(!s.classList.contains(ze)||s.classList.contains(ze)&&e)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(a,n)&&!this.isSameYear(a,n)||e)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(a,n)||e))&&(s.classList.remove(qe),s.classList.contains(E)||s.classList.contains(C)||s.removeAttribute("aria-label"))}},w.prototype.hoverSelection=function(e,t){var t=t||e.currentTarget,i=this.getIdValue(null,t);if(!N.isNullOrUndefined(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&N.isNullOrUndefined(this.endValue)&&N.isNullOrUndefined(this.startValue)||!N.isNullOrUndefined(this.startValue)&&N.isNullOrUndefined(this.endValue)))for(var s=0,a=this.popupObj.element.querySelectorAll("."+d+" td");s<a.length;s++){var n,r=a[s],l=!r.classList.contains(k)||r.classList.contains(Ze);!r.classList.contains(Ge)&&l&&(l=this.getIdValue(null,r),n=new Date(+this.startValue),new Date(+l).setHours(0,0,0,0)>=n.setHours(0,0,0,0)&&+l<=+i?N.addClass([r],Ae):N.removeClass([r],[Ae]))}},w.prototype.isSameStartEnd=function(e,t){var i=!1;return"Month"===this.depth?e.setHours(0,0,0,0)===t.setHours(0,0,0,0)&&(i=!0):"Year"===this.depth?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&(i=!0):"Decade"===this.depth&&e.getFullYear()===t.getFullYear()&&(i=!0),i},w.prototype.updateRange=function(e){if(!N.isNullOrUndefined(this.startValue))for(var t=0,i=e;t<i.length;t++)for(var s=0,a=i[t].querySelectorAll("."+d+" td");s<a.length;s++){var n,r,l,o=a[s];o.classList.contains(Ge)||o.classList.contains(k)||(n=this.getIdValue(null,o),l=this.getIdValue(null,o),N.isNullOrUndefined(this.endValue)?N.removeClass([o],[Ae]):this.currentView()===this.depth&&+l.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+l.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&N.addClass([o],Ae),o.classList.contains(y)&&o.classList.contains(C)&&+l!=+this.endValue&&(N.removeClass([o],[y]),N.removeClass([o],[C])),o.classList.contains(Ae)&&+l>+this.endValue&&N.removeClass([o],[Ae]),o.classList.contains(Ue))||(l=new Date(+this.startValue),r=new Date(+n),this.currentView()===this.depth&&+r.setHours(0,0,0,0)==+l.setHours(0,0,0,0)&&+r.setHours(0,0,0,0)>=+l.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(N.addClass([o],[E,y]),this.addSelectedAttributes(o,this.startValue,!0)),l=new Date(+this.endValue),"Year"===this.currentView()?r=new Date(r.getFullYear(),r.getMonth()+1,0):"Decade"===this.currentView()&&(r=new Date(r.getFullYear(),11,31)),this.currentView()===this.depth&&!N.isNullOrUndefined(this.endValue)&&+r.setHours(0,0,0,0)==+l.setHours(0,0,0,0)&&+r.setHours(0,0,0,0)<=+l.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(N.addClass([o],[C,y]),this.addSelectedAttributes(o,this.startValue,!1)),+n!=+this.startValue)||N.isNullOrUndefined(this.endValue)||+n!=+this.endValue||this.addSelectedAttributes(o,this.endValue,!1,!0)}},w.prototype.checkMinMaxDays=function(){(!N.isNullOrUndefined(this.minDays)&&0<this.minDays||!N.isNullOrUndefined(this.maxDays)&&0<this.maxDays)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+d)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+b)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+D))))},w.prototype.rangeArgs=function(e){var t,i=N.isNullOrUndefined(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:"yMd"}),s=N.isNullOrUndefined(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:"yMd"}),i=N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)?(t="",0):(t=i+" "+this.separator+" "+s,Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1);return{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:i,event:e||null,element:this.element,isInteracted:!N.isNullOrUndefined(e),text:t}},w.prototype.otherMonthSelect=function(e,t,i){var s=+this.getIdValue(null,e),s='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+s),s=this.popupObj&&this.popupObj.element.querySelector(s);N.isNullOrUndefined(s)||(t?(N.addClass([s],[E,y]),this.addSelectedAttributes(s,this.startValue,!0)):(N.addClass([s],[C,y]),this.addSelectedAttributes(s,this.endValue,!0)),i&&this.addSelectedAttributes(e,this.endValue,!1,!0))},w.prototype.selectRange=function(e,t){e&&e.preventDefault();var i,s,a=N.isNullOrUndefined(e)?this.getIdValue(null,t):this.getIdValue(e,null),n=a.getFullYear(),r=a.getMonth(),l=new Date(n,r,1),r=new Date(n,r+1,0),o=new Date(n,0,1),n=new Date(n,11,31),h=(N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)?this.isMobile&&this.startButton.element.classList.contains(v)&&this.removeSelection():this.isMobile&&(!this.isMobile||this.endButton.element.classList.contains(v))||this.removeSelection(),t||e.currentTarget);if(N.isNullOrUndefined(this.startValue))N.isNullOrUndefined(this.previousStartValue)||(a.setHours(this.previousStartValue.getHours()),a.setMinutes(this.previousStartValue.getMinutes()),a.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(a)):"Year"===this.depth?l:o,this.endValue=null,this.setValue(),N.addClass([h],E),this.addSelectedAttributes(h,this.startValue,!0),h.classList.contains(Ue)&&this.otherMonthSelect(h,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add(v),this.startButton.element.classList.remove(v),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(e));else if(+a==+this.startValue||+a>+this.startValue){if(+a==+this.startValue&&!N.isNullOrUndefined(this.minDays)&&1<this.minDays)return;this.endValue=null,this.setValue(),(this.isMobile||t)&&this.hoverSelection(e,t),N.isNullOrUndefined(this.previousEndValue)||(a.setHours(this.previousEndValue.getHours()),a.setMinutes(this.previousEndValue.getMinutes()),a.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(a)):"Year"===this.depth?r:n,this.setValue();t=this.popupObj.element.querySelectorAll("."+C);if(this.isMobile){this.startButton.element.classList.remove(v),this.endButton.element.classList.add(v);for(var u=0,d=t;u<d.length;u++){var p=d[u];p.removeAttribute("aria-label"),p.classList.contains(E)?(this.addSelectedAttributes(p,this.startValue,!0),N.removeClass([p],[C])):(p.setAttribute("aria-selected","false"),N.removeClass([p],[C,y]))}}N.addClass([h],C),+this.endValue==+this.startValue?this.addSelectedAttributes(h,this.endValue,!1,!0):this.addSelectedAttributes(h,this.endValue,!1),h.classList.contains(Ue)&&(+this.endValue==+this.startValue?this.otherMonthSelect(h,!1,!0):this.otherMonthSelect(h,!1));for(var c=0,m=this.popupObj.element.querySelectorAll("."+C);c<m.length;c++){var f=m[c];f.classList.contains(E)&&N.removeClass([f],[Ae])}this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),!N.isNullOrUndefined(this.renderDayCellArgs)&&this.renderDayCellArgs.isDisabled&&this.disabledDateRender(),this.trigger("select",this.rangeArgs(e))}else+a<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(a)):"Year"===this.depth?l:o,this.setValue(),this.removeSelectedAttributes(),N.removeClass(this.popupObj.element.querySelectorAll("."+E),[E,y]),N.addClass([h],E),this.addSelectedAttributes(h,this.startValue,!0),h.classList.contains(Ue)&&this.otherMonthSelect(h,!0),this.checkMinMaxDays());e&&(i=N.closest(e.target,"."+b)),N.isNullOrUndefined(i)?(e&&(s=e&&N.closest(e.target,"."+D)),N.isNullOrUndefined(s)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),N.addClass([h],y),this.calendarIconEvent(),this.updateHeader(),this.removeFocusedDate()},w.prototype.selectableDates=function(){if(!N.isNullOrUndefined(this.startValue)){var e=this.calendarElement.querySelectorAll("."+d+" td"),t=!1;if(this.currentView()===this.depth){for(var i=0,s=e;i<s.length;i++){var a=s[i];if(!a.classList.contains(E)&&!a.classList.contains(Ge)&&!a.classList.contains(k)){if(+this.getIdValue(null,a)<+this.startValue){N.addClass([a],[Ze,k,m]),N.EventHandler.clearEvents(a);continue}break}if(a.classList.contains(E)&&!a.classList.contains(Ue)){t=!0;break}}!t||this.previousIcon.classList.contains(k)||N.addClass([this.previousIcon],[c,k,m])}else{for(var n=0,r=e;n<r.length;n++){var a=r[n],l=this.startValue.getMonth(),o=this.startValue.getFullYear(),h=this.getIdValue(null,a);if(this.startButton.element.classList.contains(v)||!("Year"===this.currentView()&&h.getMonth()<l&&h.getFullYear()<=o||"Decade"===this.currentView()&&h.getMonth()<=l&&h.getFullYear()<o))break;N.addClass([a],[k])}e[0].classList.contains(k)?this.previousIconHandler(!0):e[e.length-1].classList.contains(k)&&this.nextIconHandler(!0)}}},w.prototype.updateMinMaxDays=function(e){if(!N.isNullOrUndefined(this.startValue)&&N.isNullOrUndefined(this.endValue)||this.isMobile&&this.endButton&&this.endButton.element.classList.contains(v)){if(!N.isNullOrUndefined(this.minDays)&&0<this.minDays||!N.isNullOrUndefined(this.maxDays)&&0<this.maxDays){var t=this.removeTimeValueFromDate(this.startValue),i=new Date(new Date(+t).setDate(t.getDate()+(this.minDays-1))),s=new Date(new Date(+t).setDate(t.getDate()+(this.maxDays-1))),i=!N.isNullOrUndefined(this.minDays)&&0<this.minDays?i:null,s=!N.isNullOrUndefined(this.maxDays)&&0<this.maxDays?s:null;"Year"===this.currentView()?(i=N.isNullOrUndefined(i)?null:new Date(i.getFullYear(),i.getMonth(),0),s=N.isNullOrUndefined(s)?null:new Date(s.getFullYear(),s.getMonth(),1)):"Decade"===this.currentView()&&(i=N.isNullOrUndefined(i)?null:new Date(i.getFullYear()-1,11,1),s=N.isNullOrUndefined(s)?null:new Date(s.getFullYear(),0,1));for(var a=void 0,n=0,r=e.querySelectorAll("."+d+" td");n<r.length;n++){var l,o=r[n];o.classList.contains(E)||o.classList.contains(Ge)||(l=this.getIdValue(null,o),l=this.removeTimeValueFromDate(l),!N.isNullOrUndefined(i)&&+l==+i&&o.classList.contains(k)&&i.setDate(i.getDate()+1),o.classList.contains(k))||+l<=+t||(!N.isNullOrUndefined(i)&&+l<+i&&(N.addClass([o],[Ze,k,m]),N.EventHandler.clearEvents(o)),!N.isNullOrUndefined(s)&&+s<+l&&(N.addClass([o],[Ze,k,m]),this.isMaxDaysClicked=!0,N.EventHandler.clearEvents(o),N.isNullOrUndefined(a))&&!o.classList.contains(Ue)&&(a=o))}N.isNullOrUndefined(a)||(this.isMobile?this.nextIcon.classList.contains(k)||N.addClass([this.nextIcon],[c,k,m]):(e=N.closest(a,"."+D),(e=N.isNullOrUndefined(e)?this.leftCalendar:e).classList.contains(b)?(this.rightCalNextIcon.classList.contains(k)||N.addClass([this.rightCalNextIcon],[c,k,m]),this.leftCalNextIcon.classList.contains(k)||N.addClass([this.leftCalNextIcon],[c,k,m]),this.rightCalPrevIcon.classList.contains(k)||N.addClass([this.rightCalPrevIcon],[c,k,m])):this.rightCalNextIcon.classList.contains(k)||N.addClass([this.rightCalNextIcon],[c,k,m])))}}else this.isMaxDaysClicked=!1},w.prototype.removeTimeValueFromDate=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},w.prototype.removeClassDisabled=function(){for(var e=0,t=this.popupObj.element.querySelectorAll("."+d+" td."+Ze);e<t.length;e++){var i=t[e];i.classList.contains(Ze)&&(N.removeClass([i],[Ze,k,m]),N.EventHandler.add(i,"click",this.selectRange,this),this.isMobile||N.EventHandler.add(i,"mouseover",this.hoverSelection,this))}this.isMobile?(this.nextIcon.classList.contains(c)&&N.removeClass([this.nextIcon],[c,k,m]),this.previousIcon.classList.contains(c)&&N.removeClass([this.previousIcon],[c,k,m])):(this.rightCalNextIcon.classList.contains(c)&&N.removeClass([this.rightCalNextIcon],[c,k,m]),this.rightCalPrevIcon.classList.contains(c)&&N.removeClass([this.rightCalPrevIcon],[c,k,m]),this.leftCalNextIcon.classList.contains(c)&&N.removeClass([this.leftCalNextIcon],[c,k,m]))},w.prototype.updateHeader=function(){var e,t={type:"date",skeleton:"yMMMd"};N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)?this.popupObj.element.querySelector("."+_e).textContent=this.l10n.getConstant("selectedDays"):(e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1,N.isNullOrUndefined(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+_e).textContent=e.toString()+" "+this.l10n.getConstant("days")),this.isMobile?(N.isNullOrUndefined(this.startValue)?this.startButton.element.textContent=this.l10n.getConstant("startLabel"):this.startButton.element.textContent=this.globalize.formatDate(this.startValue,t),N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)?this.endButton.element.textContent=this.l10n.getConstant("endLabel"):this.endButton.element.textContent=this.globalize.formatDate(this.endValue,t)):(N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)?this.popupObj.element.querySelector("."+We).textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector("."+We).textContent=this.globalize.formatDate(this.endValue,t),N.isNullOrUndefined(this.startValue)?this.popupObj.element.querySelector("."+He).textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector("."+He).textContent=this.globalize.formatDate(this.startValue,t)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!N.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min||!N.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!N.isNullOrUndefined(this.startValue)&&!N.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+_e).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+_e).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector("."+He).textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector("."+We).textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")},w.prototype.removeSelection=function(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(0<this.popupObj.element.querySelectorAll("."+y).length&&N.removeClass(this.popupObj.element.querySelectorAll("."+y),[E,C,y]),0<this.popupObj.element.querySelectorAll("."+qe).length&&N.removeClass(this.popupObj.element.querySelectorAll("."+qe),qe),0<this.popupObj.element.querySelectorAll("."+Ae).length)&&N.removeClass(this.popupObj.element.querySelectorAll("."+Ae),[Ae])},w.prototype.addSelectedAttributes=function(e,t,i,s){e&&(t=this.globalize.formatDate(t,{type:"date",skeleton:"full"}),!N.isNullOrUndefined(s)&&s?e.setAttribute("aria-label","The current start and end date is "+t):e.setAttribute("aria-label","The current "+(i?"start":"end")+" date is "+t),e.setAttribute("aria-selected","true"))},w.prototype.removeSelectedAttributes=function(){if(this.popupObj){for(var e=0,t=this.popupObj.element.querySelectorAll("."+E);e<t.length;e++)(i=t[e]).setAttribute("aria-selected","false"),i.removeAttribute("aria-label");for(var i,s=0,a=this.popupObj.element.querySelectorAll("."+C);s<a.length;s++)(i=a[s]).setAttribute("aria-selected","false"),i.removeAttribute("aria-label")}},w.prototype.updateCalendarElement=function(e){e.classList.contains(b)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector("."+Ke),this.tableBodyElement=N.select("."+Ke+" tbody",e),this.table=e.querySelector("."+Ke).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+p+" ."+Be),this.headerElement=e.querySelector("."+p)},w.prototype.navPrevMonth=function(e){e.preventDefault();var t=N.closest(e.target,"."+b),t=N.isNullOrUndefined(t)?N.closest(e.target,"."+D):t;this.updateCalendarElement(t),this.navigatePrevious(e),!N.isNullOrUndefined(this.startValue)&&N.isNullOrUndefined(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)},w.prototype.deviceNavigation=function(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+d)]),this.endButton.element.classList.contains(v)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+d)),this.endButton.element.classList.contains(v)&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()},w.prototype.updateControl=function(e,t){void 0===t&&(t=null),e.classList.contains(D)?this.rightCalCurrentDate=new Date(+(t||this.currentDate)):this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e])},w.prototype.navNextMonth=function(e){e.preventDefault();var t=N.closest(e.target,"."+b),t=N.isNullOrUndefined(t)?N.closest(e.target,"."+D):t;this.updateCalendarElement(t),this.navigateNext(e),!N.isNullOrUndefined(this.startValue)&&N.isNullOrUndefined(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)},w.prototype.isPopupOpen=function(){return!(N.isNullOrUndefined(this.popupObj)||!this.popupObj.element.classList.contains(Ie))},w.prototype.createRangeHeader=function(){var e,t,i,s=this.createElement("div",{className:"e-start-end"});return this.isMobile?(t=this.createElement("button",{className:"e-end-btn"}),e=this.createElement("button",{className:Se}),this.startButton=new W.Button({content:this.l10n.getConstant("startLabel")},e),this.endButton=new W.Button({content:this.l10n.getConstant("endLabel")},t),s.appendChild(e),s.appendChild(t)):(e=this.createElement("a",{className:He}),t=this.createElement("a",{className:We}),i=this.createElement("span",{className:"e-change-icon e-icons"}),N.attributes(e,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),N.attributes(t,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),s.appendChild(e),s.appendChild(i),s.appendChild(t),e.textContent=this.l10n.getConstant("startLabel"),t.textContent=this.l10n.getConstant("endLabel")),s},w.prototype.disableInput=function(){this.strictMode?N.isNullOrUndefined(this.previousStartValue)||N.isNullOrUndefined(this.previousEndValue)||(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),o.Input.setEnabled(this.enabled,this.inputElement),this.bindEvents()},w.prototype.validateMinMax=function(){this.min=N.isNullOrUndefined(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=N.isNullOrUndefined(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(N.isNullOrUndefined(this.minDays)||N.isNullOrUndefined(this.maxDays)||0<this.maxDays&&0<this.minDays&&this.minDays>this.maxDays&&(this.maxDays=null),!N.isNullOrUndefined(this.minDays)&&this.minDays<0&&(this.minDays=null),!N.isNullOrUndefined(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()},w.prototype.validateRangeStrict=function(){N.isNullOrUndefined(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),N.isNullOrUndefined(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()},w.prototype.validateRange=function(){this.validateMinMaxDays()},w.prototype.validateMinMaxDays=function(){var e,t;N.isNullOrUndefined(this.startValue)||N.isNullOrUndefined(this.endValue)||(e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1,N.isNullOrUndefined(this.minDays)||!(0<this.minDays)||e>=this.minDays||(this.strictMode?((t=new Date(+this.startValue)).setDate(t.getDate()+(this.minDays-1)),+t>+this.max?this.endValue=this.max:this.endValue=t):(this.startValue=null,this.endValue=null),this.setValue()),N.isNullOrUndefined(this.maxDays))||!(0<this.maxDays)||e<=this.maxDays||(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1))):(this.startValue=null,this.endValue=null),this.setValue())},w.prototype.renderCalendar=function(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(d),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),N.attributes(this.calendarElement,{"data-role":"calendar"}),M.prototype.createHeader.call(this),M.prototype.createContent.call(this)},w.prototype.isSameMonth=function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},w.prototype.isSameYear=function(e,t){return e.getFullYear()===t.getFullYear()},w.prototype.isSameDecade=function(e,t){e=e.getFullYear(),t=t.getFullYear();return e-e%10==t-t%10},w.prototype.startMonthCurrentDate=function(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},w.prototype.selectNextMonth=function(){var e;N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)?(this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()+1)):(this.currentDate=new Date(+this.endValue),(!N.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min||!N.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!N.isNullOrUndefined(this.startValue)&&!N.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1),e=this.currentDate.getMonth()+1,this.currentDate.setMonth(e)))},w.prototype.selectNextYear=function(){var e;N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)?(this.currentDate.setMonth(0),e=this.currentDate.getFullYear()+1,this.currentDate.setFullYear(e)):(this.currentDate=new Date(+this.endValue),(!N.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!N.isNullOrUndefined(this.startValue)&&!N.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue||!N.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1)))},w.prototype.selectNextDecade=function(){var e;N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)?(e=this.currentDate.getFullYear()+10,this.currentDate.setFullYear(e)):(this.currentDate=new Date(+this.endValue),(!N.isNullOrUndefined(this.startValue)&&!N.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue||!N.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!N.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10)))},w.prototype.selectStartMonth=function(){N.isNullOrUndefined(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!N.isNullOrUndefined(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?this.currentDate=new Date(+this.startValue):this.currentDate=new Date((new Date).setHours(0,0,0,0)),(!N.isNullOrUndefined(this.endValue)&&+this.endValue>+this.max||!N.isNullOrUndefined(this.startValue)&&+this.startValue<+this.min||!N.isNullOrUndefined(this.startValue)&&!N.isNullOrUndefined(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()},w.prototype.createCalendar=function(){var e,t,i=this.createElement("div",{className:"e-calendar-container"});return this.isMobile?(N.isNullOrUndefined(this.startValue)||(this.currentDate=new Date(+this.startValue)),M.prototype.validateDate.call(this),M.prototype.minMaxUpdate.call(this),M.prototype.render.call(this),t=this.calendarElement.querySelector("."+d+" ."+Fe),e=this.calendarElement.querySelector("."+d+" ."+Le),N.remove(this.calendarElement.querySelector("."+d+" ."+je)),this.calendarElement.querySelector("."+d+" ."+p).appendChild(e),this.calendarElement.querySelector("."+d+" ."+p).appendChild(t),N.prepend([t],this.calendarElement.querySelector("."+d+" ."+p)),this.deviceCalendar=this.calendarElement,i.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector("."+d+" ."+p+" ."+Be)):(this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(b),this.leftCalPrevIcon=this.calendarElement.querySelector("."+b+" ."+Fe),this.leftCalNextIcon=this.calendarElement.querySelector("."+b+" ."+Le),this.leftTitle=this.calendarElement.querySelector("."+b+" ."+Be),N.remove(this.calendarElement.querySelector("."+b+" ."+je)),this.calendarElement.querySelector("."+b+" ."+p).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector("."+b+" ."+p).appendChild(this.leftCalPrevIcon),N.prepend([this.leftCalPrevIcon],this.calendarElement.querySelector("."+b+" ."+p)),this.leftCalendar=this.calendarElement,e=this.createElement("div",{className:"e-left-container"}),t=this.createElement("div",{className:"e-right-container"}),e.appendChild(this.leftCalendar),i.appendChild(e),this.isMobile||N.EventHandler.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),N.addClass([this.calendarElement],D),this.rightCalendar=this.calendarElement,N.removeClass([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),N.removeClass([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector("."+D+" ."+Fe),this.rightCalNextIcon=this.calendarElement.querySelector("."+D+" ."+Le),this.rightTitle=this.calendarElement.querySelector("."+D+" ."+Be),N.remove(this.calendarElement.querySelector("."+D+" ."+je)),this.calendarElement.querySelector("table").setAttribute("tabindex","0"),this.calendarElement.querySelector("."+D+" ."+p).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector("."+D+" ."+p).appendChild(this.rightCalPrevIcon),N.prepend([this.rightCalPrevIcon],this.calendarElement.querySelector("."+D+" ."+p)),t.appendChild(this.rightCalendar),i.appendChild(t),this.isMobile||N.EventHandler.add(this.rightTitle,"click",this.rightNavTitle,this)),i},w.prototype.leftNavTitle=function(e){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(e,this.calendarElement))},w.prototype.calendarNavigation=function(e,t){this.table=t.querySelector("table"),this.headerTitleElement=t.querySelector(".e-title"),this.tableBodyElement=t.querySelector("tbody"),this.tableHeadElement=t.querySelector("thead"),this.contentElement=t.querySelector(".e-content"),this.updateCalendarElement(t),M.prototype.navigateTitle.call(this,e),this.updateNavIcons()},w.prototype.rightNavTitle=function(e){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(e,this.calendarElement))},w.prototype.clickEventEmitter=function(e){this.isMobile||(N.closest(e.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))},w.prototype.currentView=function(){return M.prototype.currentView.call(this)},w.prototype.getCalendarView=function(e){return"Year"===e?"Year":"Decade"===e?"Decade":"Month"},w.prototype.navigatedEvent=function(e){var t;this.trigger("navigated",this.navigatedArgs),N.isNullOrUndefined(this.popupObj)||(t=this.getCalendarView(this.currentView()),this.isMobile?t===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates():this.isMobile||t!==this.depth?(this.updateNavIcons(),this.calendarIconEvent()):((this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar)!==this.leftCalendar||(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&N.isNullOrUndefined(this.controlDown)?(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&N.isNullOrUndefined(this.controlDown)||(this.rightCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&N.isNullOrUndefined(this.endValue)&&("Month"===t&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()||"Year"===t&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear())?M.prototype.navigateTo.call(this,t,new Date(+this.startValue)):M.prototype.navigateTo.call(this,t,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null):(this.leftCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),M.prototype.navigateTo.call(this,t,this.rightCalCurrentDate),e=this.rightCalCurrentDate||this.currentDate,this.updateControl(this.rightCalendar,e),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null),this.checkMinMaxDays()))},w.prototype.createControl=function(){var e=this.createElement("div",{className:Re}),t=this.createElement("div",{className:"e-range-header"}),i=(this.isMobile&&this.fullScreenMode&&(a=this.createElement("div",{className:"e-model-header-wrapper"}),i=this.createElement("span",{className:"e-popup-close"}),N.EventHandler.add(i,"mousedown touchstart",this.modelRangeCloseHandler,this),s=this.createElement("span",{className:"e-apply"}),N.EventHandler.add(s,"mousedown touchstart",this.applyFunction,this),a.appendChild(i),a.appendChild(s),t.appendChild(a)),this.createRangeHeader()),s=(t.appendChild(i),this.createElement("div",{className:_e})),a=(N.attributes(s,{"aria-label":"Selected Days"}),s.textContent=this.l10n.getConstant("selectedDays"),t.appendChild(s),this.createElement("div",{className:"e-separator"})),i=this.createCalendar(),s=(e.appendChild(t),e.appendChild(a),e.appendChild(i),this.createElement("div",{className:"e-footer"})),t=this.createElement("button",{className:"e-cancel e-flat e-css"}),a=this.createElement("button"),i=(N.addClass([a],["e-apply","e-flat","e-primary","e-css"]),s.appendChild(a),s.appendChild(t),!N.isNullOrUndefined(this.startValue)&&!N.isNullOrUndefined(this.endValue));this.cancelButton=new W.Button({content:this.l10n.getConstant("cancelText")},t),this.applyButton=new W.Button({content:this.l10n.getConstant("applyText"),disabled:!i},a),N.EventHandler.add(a,"click",this.applyFunction,this),N.EventHandler.add(t,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),this.isMobile||N.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),N.addClass([e],"e-range-border"),N.addClass([this.popupWrapper],"e-preset-wrapper"),this.popupWrapper.querySelector("."+Ye).style.height=this.popupWrapper.querySelector("."+Re).getBoundingClientRect().height+"px"),this.popupWrapper.appendChild(s),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()},w.prototype.modelRangeCloseHandler=function(e){this.hide()},w.prototype.cancelFunction=function(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),N.addClass([this.inputWrapper.container],[Pe])),e.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(e)},w.prototype.deviceHeaderUpdate=function(){N.isNullOrUndefined(this.startValue)&&N.isNullOrUndefined(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add(v)):N.isNullOrUndefined(this.startValue)||this.startButton.element.classList.add(v)},w.prototype.applyFunction=function(e){var t=!1;"touchstart"!==e.type&&e.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),N.addClass([this.inputWrapper.container],[Pe])),"touchstart"!==e.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&e.preventDefault(),N.isNullOrUndefined(this.startValue)||N.isNullOrUndefined(this.endValue)?this.hide(e||null):(this.previousStartValue&&this.previousEndValue&&this.startValue.getDate()===this.previousStartValue.getDate()&&this.startValue.getMonth()===this.previousStartValue.getMonth()&&this.startValue.getFullYear()===this.previousStartValue.getFullYear()&&this.endValue.getDate()===this.previousEndValue.getDate()&&this.endValue.getMonth()===this.previousEndValue.getMonth()&&this.endValue.getFullYear()===this.previousEndValue.getFullYear()||o.Input.setValue(this.rangeArgs(e).text,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(t=!0),this.changeTrigger(e),this.hide(e||null),this.errorClass(),t=!0),N.closest(e.target,"."+Oe)||t||this.focusOut(),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.keyInputConfigs=N.extend(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new N.KeyboardEvents(this.inputWrapper.container.children[1],{eventName:"keydown",keyConfigs:this.keyInputConfigs,keyAction:this.popupKeyActionHandle.bind(this)})))},w.prototype.onMouseClick=function(e,t){var i;"touchstart"===e.type||(t=t||e.target,i=(t=N.closest(t,"."+Je))&&t.classList.contains(v),t&&t.classList.contains(Je)&&this.setListSelection(t,e),this.preventFocus=!0,this.inputElement.focus(),this.isMobile)||(this.preventFocus=!0,t&&t.classList.contains(Je)&&"custom_range"===t.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():i||"keydown"!==e.type||this.inputElement.focus())},w.prototype.onMouseOver=function(e){e=N.closest(e.target,"."+Je);e&&e.classList.contains(Je)&&!e.classList.contains(f)&&N.addClass([e],f)},w.prototype.onMouseLeave=function(e){e=N.closest(e.target,"."+f);N.isNullOrUndefined(e)||N.removeClass([e],f)},w.prototype.setListSelection=function(e,t){if(e&&(!e.classList.contains(v)||this.isMobile&&e.classList.contains(v))){if(this.isMobile&&e.classList.contains(v))return this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),"custom_range"===this.presetsItem[this.activeIndex].id?void this.renderCustomPopup():void 0;this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),N.addClass([e],v),e.setAttribute("aria-selected","true");e=this.presetsItem[this.activeIndex];"custom_range"===e.id?this.renderCustomPopup():this.applyPresetRange(e,t)}},w.prototype.removeListSelection=function(){var e=this.presetElement.querySelector("."+v);N.isNullOrUndefined(e)||(N.removeClass([e],v),e.removeAttribute("aria-selected"))},w.prototype.setValue=function(){this.modelValue=[this.startValue,this.endValue]},w.prototype.applyPresetRange=function(e,t){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=e.start,this.endValue=e.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(t)),this.changeTrigger(t),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())},w.prototype.showPopup=function(e,t){this.presetHeight(),1e3===this.zIndex?this.popupObj.show(null,this.element):this.popupObj.show(null,null),this.isMobile&&this.popupObj.refreshPosition()},w.prototype.renderCustomPopup=function(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:Te+" "+Ie}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()},w.prototype.listRippleEffect=function(){for(var e=0,t=this.liCollections;e<t.length;e++){var i=t[e];N.rippleEffect(i)}},w.prototype.createPresets=function(){var e,t,i,s,a;N.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.presetElement=this.createElement("div",{className:Ye,attrs:{tabindex:"0"}}),e=L.ListBase.createList(this.createElement,this.presetsItem,null,!0),N.attributes(e,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options",tabindex:"0","aria-label":"daterangepicker-preset"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement),e=this.presetElement.querySelector("#custom_range"),N.isNullOrUndefined(e)||(e.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+Je),this.wireListEvents(),this.isMobile&&(this.fullScreenMode?(e=N.createElement("div",{className:"e-range-mob-popup-wrap"}),t=this.createElement("div",{className:"e-model-header"}),(i=this.createElement("span",{className:"e-model-title"})).textContent="Select Preset",s=this.createElement("span",{className:"e-popup-close"}),N.EventHandler.add(s,"mousedown touchstart",this.modelRangeCloseHandler,this),a=this.presetElement,t.appendChild(s),t.appendChild(i),e.appendChild(t),e.appendChild(a),this.popupWrapper.insertBefore(e,this.popupWrapper.firstElementChild),this.presetElement.style.width="100%"):this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!N.isNullOrUndefined(this.activeIndex)&&-1<this.activeIndex&&N.addClass([this.liCollections[this.activeIndex]],v))},w.prototype.wireListEvents=function(){N.EventHandler.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(N.EventHandler.add(this.presetElement,"mouseover",this.onMouseOver,this),N.EventHandler.add(this.presetElement,"mouseout",this.onMouseLeave,this))},w.prototype.unWireListEvents=function(){N.isNullOrUndefined(this.presetElement)||(N.EventHandler.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile)||(N.EventHandler.remove(this.presetElement,"mouseover",this.onMouseOver),N.EventHandler.remove(this.presetElement,"mouseout",this.onMouseLeave))},w.prototype.renderPopup=function(){var t=this,e=(this.popupWrapper.classList.add("e-control"),this.popupWrapper.getBoundingClientRect().width);N.isNullOrUndefined(this.cssClass)||""===this.cssClass.trim()||(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new H.Popup(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:N.isNullOrUndefined(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?N.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-e,offsetY:4,collision:this.isMobile?N.isUndefined(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:function(){t.isMobile&&t.fullScreenMode&&(t.iconRangeRight=t.calendarElement&&window.getComputedStyle(t.calendarElement.querySelector(".e-header.e-month .e-prev")).cssFloat,t.iconRangeRight)&&(t.touchRangeModule=new N.Touch(t.calendarElement.querySelector(".e-content.e-month"),{swipe:t.dateRangeSwipeHandler.bind(t)}),N.EventHandler.add(t.calendarElement.querySelector(".e-content.e-month"),"touchstart",t.touchStartRangeHandler,t)),N.attributes(t.inputElement,{"aria-expanded":"true","aria-owns":t.element.id,"aria-controls":t.inputElement.id}),t.value?N.attributes(t.inputElement,{"aria-activedescendant":t.inputElement.id}):t.inputElement.removeAttribute("aria-activedescendant"),N.addClass([t.inputWrapper.buttons[0]],v),t.isMobile||(t.cancelButton&&(t.btnKeyboardModule=new N.KeyboardEvents(t.cancelButton.element,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),t.btnKeyboardModule=new N.KeyboardEvents(t.applyButton.element,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),N.isNullOrUndefined(t.leftCalendar)||t.isRangeIconClicked||t.calendarFocus(),N.isNullOrUndefined(t.presetElement)||(t.keyInputConfigs=N.extend(t.keyInputConfigs,t.keyConfigs),t.presetKeyboardModule=new N.KeyboardEvents(t.presetElement,{eventName:"keydown",keyAction:t.presetKeyActionHandler.bind(t),keyConfigs:t.keyInputConfigs}),t.presetKeyboardModule=new N.KeyboardEvents(t.presetElement,{eventName:"keydown",keyAction:t.popupKeyActionHandle.bind(t),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),N.isNullOrUndefined(t.leftCalendar)?(t.preventBlur=!0,t.presetElement.focus()):t.presetElement.setAttribute("tabindex","-1")),t.popupKeyBoardHandler()),t.isMobile&&!N.Browser.isDevice&&N.EventHandler.add(document,"keydown",t.popupCloseHandler,t)},close:function(){N.attributes(t.inputElement,{"aria-expanded":"false"}),t.inputElement.removeAttribute("aria-owns"),t.inputElement.removeAttribute("aria-controls"),t.inputElement.removeAttribute("aria-activedescendant"),N.removeClass([t.inputWrapper.buttons[0]],v),t.isRangeIconClicked&&t.inputWrapper.container.children[1].focus(),N.isUndefined(t.presets[0].start&&t.presets[0].end&&t.presets[0].label)||t.unWireListEvents(),t.applyButton&&t.applyButton.destroy(),t.cancelButton&&t.cancelButton.destroy(),t.isMobile&&t.endButton&&t.endButton.destroy(),t.isMobile&&t.startButton&&t.startButton.destroy(),N.isNullOrUndefined(t.popupObj)||(N.isNullOrUndefined(t.popupObj.element.parentElement)||N.detach(t.popupObj.element),t.popupObj.destroy(),t.popupObj=null),t.isMobile&&!N.Browser.isDevice&&N.EventHandler.remove(document,"keydown",t.popupCloseHandler)},targetExitViewport:function(){var e=t.popupObj&&t.popupObj.element;!N.Browser.isDevice&&e&&e.getBoundingClientRect().height<window.innerHeight&&t.hide()}}),this.isMobile&&(this.popupObj.element.classList.add(Xe),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(N.addClass([this.modal],[Xe,Te,"e-range-modal"]),document.body.className+=" "+$e,this.modal.style.display="block"),N.EventHandler.add(document,"mousedown touchstart",this.documentHandler,this)},w.prototype.dateRangeSwipeHandler=function(e){var t=0;if("left"===this.iconRangeRight)switch(e.swipeDirection){case"Left":t=1;break;case"Right":t=-1}else switch(e.swipeDirection){case"Up":t=1;break;case"Down":t=-1}this.touchRangeStart&&(1===t?this.navigateNext(e):-1===t&&this.navigatePrevious(e),this.touchRangeStart=!1)},w.prototype.touchStartRangeHandler=function(e){this.touchRangeStart=!0},w.prototype.popupCloseHandler=function(e){27===e.keyCode&&this.hide(e)},w.prototype.calendarFocus=function(){var e,t=this.popupObj&&this.popupObj.element.querySelector("."+E);t?(e=N.closest(t,"."+D),e=N.isNullOrUndefined(e)?this.leftCalendar:e,(this.isRangeIconClicked?this.inputWrapper.container:(this.preventBlur=!0,e.children[1].firstElementChild)).focus(),N.addClass([t],qe)):(this.isRangeIconClicked?this.inputWrapper.container:(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild)).focus()},w.prototype.presetHeight=function(){var e=this.popupObj&&this.popupObj.element.querySelector("."+Ye),t=this.popupObj&&this.popupObj.element.querySelector("."+Re);N.isNullOrUndefined(e)||N.isNullOrUndefined(t)||(e.style.height=t.getBoundingClientRect().height+"px")},w.prototype.presetKeyActionHandler=function(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":var t=this.getHoverLI(),i=this.getActiveLI();if(!N.isNullOrUndefined(this.leftCalendar)&&!N.isNullOrUndefined(i))if(N.isNullOrUndefined(t)||!N.isNullOrUndefined(i)&&i===t)if(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(i),"custom_range"===this.presetsItem[this.activeIndex].id)return this.calendarFocus(),i.classList.remove(f),void e.preventDefault();N.isNullOrUndefined(t)&&N.isNullOrUndefined(i)||this.onMouseClick(e,t||i),e.preventDefault();break;case"tab":this.leftCalendar?(t=this.getHoverLI(),N.isNullOrUndefined(t)||t.classList.remove(f)):(this.hide(e),e.preventDefault())}},w.prototype.listMoveDown=function(e){var t,i=this.getHoverLI(),s=this.getActiveLI();N.isNullOrUndefined(i)?N.isNullOrUndefined(s)?N.addClass([this.liCollections[0]],f):(t=s.nextElementSibling,!N.isNullOrUndefined(t)&&t.classList.contains(Je)&&N.addClass([t],f)):(t=i.nextElementSibling,!N.isNullOrUndefined(t)&&t.classList.contains(Je)&&(N.removeClass([i],f),N.addClass([t],f)))},w.prototype.listMoveUp=function(e){var t,i=this.getHoverLI(),s=this.getActiveLI();N.isNullOrUndefined(i)?N.isNullOrUndefined(s)||(t=s.previousElementSibling,!N.isNullOrUndefined(t)&&t.classList.contains(Je)&&N.addClass([t],f)):(t=i.previousElementSibling,!N.isNullOrUndefined(t)&&t.classList.contains(Je)&&(N.removeClass([i],f),N.addClass([t],f)))},w.prototype.getHoverLI=function(){return this.presetElement.querySelector("."+f)},w.prototype.getActiveLI=function(){return this.presetElement.querySelector("."+v)},w.prototype.popupKeyBoardHandler=function(){this.popupKeyboardModule=new N.KeyboardEvents(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.keyInputConfigs=N.extend(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new N.KeyboardEvents(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})},w.prototype.setScrollPosition=function(){var e,t,i=this.presetElement.getBoundingClientRect().height,s=this.presetElement.querySelector("."+f),a=this.presetElement.querySelector("."+v),a=N.isNullOrUndefined(s)?a:s;N.isNullOrUndefined(a)||(e=((s=a.nextElementSibling)||a).offsetTop,t=a.getBoundingClientRect().height,e+a.offsetTop>i?this.presetElement.scrollTop=s?e-(i/2+t/2):e:this.presetElement.scrollTop=0)},w.prototype.popupKeyActionHandle=function(e){var t=N.closest(e.target,"."+Ye);switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(e)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,e);break;case"tab":this.hide(e);break;case"altRightArrow":(N.isNullOrUndefined(t)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element:this.leftCalendar.children[1].firstElementChild:this.cancelButton.element).focus(),e.preventDefault();break;case"altLeftArrow":(N.isNullOrUndefined(t)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element:N.isNullOrUndefined(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild:this.presetElement:this.rightCalendar.children[1].firstElementChild).focus(),e.preventDefault()}},w.prototype.documentHandler=function(e){var t;N.isNullOrUndefined(this.popupObj)||(t=e.target,this.inputWrapper.container.contains(t)&&(N.isNullOrUndefined(this.popupObj)||N.closest(t,'[id="'+this.popupWrapper.id+'"]')||"mousedown"===e.type)||"touchstart"!==e.type&&("mousedown"===e.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&e.preventDefault(),!N.isNullOrUndefined(this.targetElement)&&(N.isNullOrUndefined(this.targetElement)||t===this.targetElement))||N.closest(t,'[id="'+this.popupWrapper.id+'"]')||N.closest(t,"."+Oe)===this.inputWrapper.container||N.closest(t,".e-daterangepicker.e-popup")&&!t.classList.contains("e-day")||t.classList.contains("e-dlg-overlay")||(this.preventBlur=!1,this.isPopupOpen()&&document.body.contains(this.popupObj.element)&&(this.applyFunction(e),this.isMobile||(this.isRangeIconClicked=!1)))},w.prototype.createInput=function(){this.fullScreenMode&&this.isMobile&&(this.cssClass+=" e-popup-expand");var e=this.cssClass;N.isNullOrUndefined(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=o.Input.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),N.attributes(this.inputElement,{tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),o.Input.addAttributes({"aria-label":"select",role:"button"},this.inputWrapper.buttons[0]),this.setEleWidth(this.width),N.addClass([this.inputWrapper.container],"e-date-range-wrapper"),N.isNullOrUndefined(this.inputElement.getAttribute("name"))&&N.attributes(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate},w.prototype.setEleWidth=function(e){this.inputWrapper.container.style.width="string"==typeof e?this.width:"number"==typeof e?N.formatUnit(this.width):"100%"},w.prototype.adjustLongHeaderWidth=function(){"Wide"===this.dayHeaderFormat&&N.addClass([this.popupWrapper],"e-daterange-day-header-lg")},w.prototype.refreshControl=function(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();var e=this.disabledDates();this.strictMode&&e&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)||e||N.isNullOrUndefined(this.renderDayCellArgs)||!this.renderDayCellArgs.isDisabled||this.disabledDateRender(),this.errorClass(),this.previousStartValue=N.isNullOrUndefined(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=N.isNullOrUndefined(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)},w.prototype.updateInput=function(){var e,t;N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)||(t={format:this.formatString,type:"date",skeleton:"yMd"},e=this.globalize.formatDate(this.startValue,t),t=this.globalize.formatDate(this.endValue,t),o.Input.setValue(e+" "+this.separator+" "+t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)),!this.strictMode&&N.isNullOrUndefined(this.value)&&this.invalidValueString&&o.Input.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)},w.prototype.checkInvalidRange=function(e){var t,i,s,a,n,r,l,o,h,u;!N.isNullOrUndefined(e)&&(s=i=void 0,r=n=a=null,h=o=l=t=!1,"string"==typeof e?2===(u=e.split(" "+this.separator+" ")).length?(a=u[0],n=u[1]):(t=!0,r=e):(s=0<e.length?(i=e[0],e[1]):(i=e.start,e.end),i instanceof Date||"object"==typeof i?i instanceof Date?l=!0:N.isNullOrUndefined(i)||(h=!0):a=this.getstringvalue(i),s instanceof Date||"object"==typeof s?s instanceof Date?o=!0:N.isNullOrUndefined(s)||(h=!0):n=this.getstringvalue(s)),(N.isNullOrUndefined(a)&&!l&&!N.isNullOrUndefined(n)||!N.isNullOrUndefined(a)&&!o&&N.isNullOrUndefined(n))&&(t=!0),h&&(t=!(a=n=r=null)),a&&(t=t||this.checkInvalidValue(a)),t=n?t||this.checkInvalidValue(n):t)&&(l&&!h&&(a=i.toLocaleDateString()),o&&!h&&(n=s.toLocaleDateString()),N.isNullOrUndefined(a)||N.isNullOrUndefined(n)?N.isNullOrUndefined(a)?N.isNullOrUndefined(n)||(r=n):r=a:r=a+" "+this.separator+" "+n,this.invalidValueString=r,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)},w.prototype.getstringvalue=function(e){var t=null;return N.isNullOrUndefined(e)||"number"!=typeof e?N.isNullOrUndefined(e)||"string"!=typeof e||(t=""+e):t=e.toString(),t},w.prototype.checkInvalidValue=function(e){var t,i=!1,s={format:this.formatString,type:"date",skeleton:"yMd"};return i="string"==typeof e&&(t=new N.Internationalization(this.locale),this.checkDateValue(t.parseDate(e,s))||(t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(e)||t.test(e))&&!/^[a-zA-Z0-9- ]*$/.test(e)&&!isNaN(+new Date(this.checkValue(e)))))?i:!0},w.prototype.isDateDisabled=function(e){if(N.isNullOrUndefined(e))return!1;e=new Date(+e);if(+e<+this.min||+e>+this.max)return!0;this.virtualRenderCellArgs={date:e,isDisabled:!1};e=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(e),!!e.isDisabled},w.prototype.disabledDateRender=function(){this.disabledDays=[],this.disabledDayCnt=null;for(var e=new Date(+this.startValue),t=0;+e<=+this.endValue&&+this.endValue<=+this.max;){this.virtualRenderCellArgs={date:e,isDisabled:!1};var i=this.virtualRenderCellArgs;this.virtualRenderCellEvent(i),i.isDisabled&&(this.disabledDays.push(new Date(+i.date)),+e>+this.startValue)&&+e<+this.endValue&&t++,this.addDay(e,1,null,this.max,this.min)}this.disabledDayCnt=t},w.prototype.virtualRenderCellEvent=function(e){N.extend(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},w.prototype.disabledDates=function(){var e=!1,t=!1;return N.isNullOrUndefined(this.endValue)||N.isNullOrUndefined(this.startValue)||(e=this.isDateDisabled(this.startValue),t=this.isDateDisabled(this.endValue),this.isPopupOpen()||(this.currentDate=null),this.setValue()),e||t},w.prototype.setModelValue=function(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&0<this.value.length||this.valueType&&0<this.valueType.length?(+this.startDate==+this.value[0]&&+this.endDate==+this.value[1]||this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()},w.prototype.dispatchEvent=function(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i),this.firstHiddenChild.dispatchEvent(i)},w.prototype.changeTrigger=function(e){+this.initStartDate==+this.startValue&&+this.initEndDate==+this.endValue||(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.rangeArgs(e))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)},w.prototype.navigateTo=function(e,t){if(this.isPopupOpen()){if("month"===e.toLowerCase())e="Month";else if("year"===e.toLowerCase())e="Year";else{if("decade"!==e.toLowerCase())return;e="Decade"}this.getViewNumber(e)<this.getViewNumber(this.depth)&&(e=this.depth),this.isMobile?M.prototype.navigateTo.call(this,e,t):(t<this.min?t=new Date(+this.min):t>=this.max&&(t=new Date(+this.max)),"Month"===e&&this.isSameMonth(t,this.max)?t=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===e&&this.isSameYear(t,this.max)?t=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===e&&this.isSameDecade(t,this.max)&&(t=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=t,this.navigate(this.leftCalendar,this.leftCalCurrentDate,e),t="Month"===e?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===e?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=t,this.navigate(this.rightCalendar,this.rightCalCurrentDate,e),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}},w.prototype.navigate=function(e,t,i){this.calendarElement=e,this.table=e.querySelector("table"),this.tableBodyElement=e.querySelector("tbody"),this.headerTitleElement=e.querySelector(".e-title"),this.tableHeadElement=e.querySelector("thead"),this.contentElement=e.querySelector(".e-content"),this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.effect="e-zoomin",M.prototype.navigateTo.call(this,i,t)},w.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&(N.addClass([this.inputWrapper.container],[Pe]),this.inputElement.focus())},w.prototype.focusOut=function(){var e=this.preventBlur;document.activeElement===this.inputElement&&(N.removeClass([this.inputWrapper.container],[Pe]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=e)},w.prototype.destroy=function(){this.unBindEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.hide(null);var e={tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(N.removeClass([this.inputElement],[Te]),N.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),o.Input.removeAttributes(e,this.inputElement),N.isNullOrUndefined(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),N.isNullOrUndefined(this.inputWrapper)||(N.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),N.detach(this.inputWrapper.container))),N.isNullOrUndefined(this.inputKeyboardModule)||this.isMobile||this.inputKeyboardModule.destroy(),this.popupObj&&!this.isMobile&&this.clearCalendarEvents(),o.Input.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),M.prototype.destroy.call(this),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&N.EventHandler.remove(this.formElement,"reset",this.formResetHandler),N.isNullOrUndefined(this.firstHiddenChild)||N.isNullOrUndefined(this.secondHiddenChild)||(N.detach(this.firstHiddenChild),N.detach(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name")),this.closeEventArgs=null,this.leftCalendar=null,this.rightTitle=null,this.leftTitle=null,this.openEventArgs=null,this.leftCalNextIcon=null,this.rightCalendar=null,this.closeEventArgs=null,this.rightCalPrevIcon=null,this.leftCalPrevIcon=null,this.popupKeyboardModule=null,this.cancelButton=null,this.applyButton=null,this.calendarElement=null,this.leftKeyboardModule=null,this.rightCalNextIcon=null,this.leftCalNextIcon=null,this.btnKeyboardModule=null,this.rightKeyboardModule=null,this.leftKeyboardModule=null,this.presetKeyboardModule=null,this.liCollections=null,this.popupObj=null,this.popupWrapper=null},w.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)N.isNullOrUndefined(this.cloneElement.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])))},w.prototype.getModuleName=function(){return"daterangepicker"},w.prototype.getPersistData=function(){return this.addOnPersist(["startDate","endDate","value"])},w.prototype.getSelectedRange=function(){var e;return N.isNullOrUndefined(this.startValue)||N.isNullOrUndefined(this.endValue)?e=0:(e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1,!N.isNullOrUndefined(this.renderDayCellArgs)&&this.renderDayCellArgs.isDisabled&&this.disabledDateRender(),N.isNullOrUndefined(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:e}},w.prototype.show=function(t,i){var e,s=this;this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen()||(t&&(this.targetElement=t),this.createPopup(),(this.isMobile||N.Browser.isDevice)&&(this.mobileRangePopupWrap=this.createElement("div",{className:"e-daterangepick-mob-popup-wrap"}),document.body.appendChild(this.mobileRangePopupWrap)),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:i||null,appendTo:this.isMobile||N.Browser.isDevice?this.mobileRangePopupWrap:document.body},e=this.openEventArgs,this.trigger("open",e,function(e){s.openEventArgs=e,s.openEventArgs.cancel||(s.openEventArgs.appendTo.appendChild(s.popupWrapper),s.showPopup(t,i),e=!s.isCustomRange||s.isMobile&&s.isCustomRange,!N.isUndefined(s.presets[0].start&&s.presets[0].end&&s.presets[0].label)&&e&&s.setScrollPosition(),s.checkMinMaxDays(),s.isMobile&&!N.isNullOrUndefined(s.startDate)&&N.isNullOrUndefined(s.endDate)&&(s.endButton.element.classList.add(v),s.startButton.element.classList.remove(v),s.endButton.element.removeAttribute("disabled"),s.selectableDates()),M.prototype.setOverlayIndex.call(s,s.mobileRangePopupWrap,s.popupObj.element,s.modal,s.isMobile||N.Browser.isDevice))}),N.Browser.isDevice&&((e=this.createElement("div",{className:"e-dlg-overlay"})).style.zIndex=(this.zIndex-1).toString(),this.mobileRangePopupWrap.appendChild(e)))},w.prototype.hide=function(e){var t=this;this.popupObj?(N.isNullOrUndefined(this.previousEndValue)&&N.isNullOrUndefined(this.previousStartValue)?this.clearRange():(N.isNullOrUndefined(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),N.isNullOrUndefined(this.previousEndValue)?this.endValue=null:this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue()),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:e||null},e=this.closeEventArgs,this.trigger("close",e,function(e){t.closeEventArgs=e,t.closeEventArgs.cancel?N.removeClass([t.inputWrapper.buttons[0]],v):(!t.isMobile||N.isNullOrUndefined(t.startButton)||N.isNullOrUndefined(t.endButton)||(N.EventHandler.remove(t.startButton.element,"click touchstart",t.deviceHeaderClick),N.EventHandler.remove(t.endButton.element,"click touchstart",t.deviceHeaderClick)),t.popupObj&&(t.popupObj.hide(),t.preventBlur)&&(t.inputElement.focus(),N.addClass([t.inputWrapper.container],[Pe])),t.isMobile||(N.isNullOrUndefined(t.leftKeyboardModule)||N.isNullOrUndefined(t.rightKeyboardModule)||(t.leftKeyboardModule.destroy(),t.rightKeyboardModule.destroy()),N.isNullOrUndefined(t.presetElement)||t.presetKeyboardModule.destroy(),N.isNullOrUndefined(t.cancelButton))||t.btnKeyboardModule.destroy(),t.targetElement=null,N.removeClass([document.body],$e),N.EventHandler.remove(document,"mousedown touchstart",t.documentHandler),t.isMobile&&t.modal&&(t.modal.style.display="none",t.modal.outerHTML="",t.modal=null),!t.isMobile&&!N.Browser.isDevice||N.isNullOrUndefined(t.mobileRangePopupWrap)||(t.mobileRangePopupWrap.remove(),t.mobileRangePopupWrap=null),t.isKeyPopup=t.dateDisabled=!1),t.updateClearIconState(),t.updateHiddenInput(),t.isMobile&&t.allowEdit&&!t.readonly&&t.inputElement.removeAttribute("readonly")}))):(this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"))},w.prototype.setLocale=function(){this.globalize=new N.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.dateRangeOptions&&null==this.dateRangeOptions.placeholder&&(this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),o.Input.setPlaceholder(this.placeholder,this.inputElement)),this.updateInput(),this.updateHiddenInput(),this.changeTrigger()},w.prototype.refreshChange=function(){this.checkView(),this.refreshControl(),this.changeTrigger()},w.prototype.setDate=function(){o.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()},w.prototype.enableInput=function(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),o.Input.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled"))&&this.bindEvents()},w.prototype.clearModelvalue=function(e,t){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),t.value&&0<t.value.length?this.setProperties({value:null},!0):(t.value&&t.value.start||t.value&&!t.value.start)&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()},w.prototype.createHiddenInput=function(){N.isNullOrUndefined(this.firstHiddenChild)&&N.isNullOrUndefined(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),N.isNullOrUndefined(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),N.attributes(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:et}),N.attributes(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:et});var e={format:this.formatString,type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild)},w.prototype.setMinMaxDays=function(){this.isPopupOpen()&&(this.removeClassDisabled(),this.checkMinMaxDays(),this.isMobile&&this.selectableDates(),!this.strictMode&&N.isNullOrUndefined(this.startValue)&&N.isNullOrUndefined(this.endValue)?this.removeSelection():this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader())},w.prototype.getStartEndValue=function(e,t){return"Month"===this.depth?this.checkDateValue(new Date(this.checkValue(e))):"Year"===this.depth?new Date(e.getFullYear(),e.getMonth()+(t?1:0),t?0:1):new Date(e.getFullYear(),t?11:0,t?31:1)},w.prototype.onPropertyChanged=function(e,t){for(var i={format:this.formatString,type:"date",skeleton:"yMd"},s=!1,a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];switch(0<["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell","select"].indexOf(r)&&this.isReact&&(s=!0),r){case"width":this.setEleWidth(this.width),o.Input.calculateWidth(this.inputElement,this.inputWrapper.container),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":o.Input.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":o.Input.setReadonly(this.readonly,this.inputElement),this.setRangeAllowEdit();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":this.setProperties({enabled:e.enabled},!0),o.Input.setEnabled(this.enabled,this.inputElement),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1;break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),o.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new N.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.dateRangeOptions&&null==this.dateRangeOptions.placeholder&&(this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),o.Input.setPlaceholder(this.placeholder,this.inputElement)),this.setLocale();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.setDataAttribute(!0),this.checkHtmlAttributes(!0);break;case"showClearButton":o.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof e.startDate&&(e.startDate=this.globalize.parseDate(e.startDate,i)),+this.initStartDate!=+e.startDate&&(this.startValue=this.getStartEndValue(e.startDate,!1),this.setDate(),this.setValue());break;case"endDate":"string"==typeof e.endDate&&(e.endDate=this.globalize.parseDate(e.endDate,i)),+this.initEndDate!=+e.endDate&&(this.endValue=this.getStartEndValue(e.endDate,!0),this.setDate(),this.setValue());break;case"value":var l,s=!0;if(this.invalidValueString=null,this.checkInvalidRange(e.value),"string"==typeof e.value?this.invalidValueString?this.clearModelvalue(e,t):(l=e.value.split(" "+this.separator+" "),this.value=[new Date(l[0]),new Date(l[1])],this.updateValue(),this.setDate()):!N.isNullOrUndefined(e.value)&&0<e.value.length||!N.isNullOrUndefined(e.value)&&e.value.start?(this.valueType=e.value,null===e.value[0]||null===e.value.start?1!==e.value.length&&!e.value.start&&null!==e.value[1]&&null!==e.value.start||this.clearModelvalue(e,t):+this.initStartDate==+e.value[0]&&+this.initEndDate==+e.value[1]&&+this.initStartDate==+(e.value.start||+this.initEndDate!=+e.value.start)||(1!==e.value.length&&!e.value.start||(this.modelValue=e.value),this.updateValue(),this.setDate())):!N.isNullOrUndefined(this.value)&&null!=e.value.start||(this.valueType=e.value,this.startValue=null,this.endValue=null,this.clearModelvalue(e,t)),this.isPopupOpen()){if(N.isNullOrUndefined(this.startValue)&&N.isNullOrUndefined(this.endValue))return this.removeSelection(),void(this.isMobile&&this.deviceHeaderUpdate());this.isMobile?(this.navigate(this.deviceCalendar,this.startValue,this.currentView()),this.deviceHeaderUpdate()):(this.navigate(this.leftCalendar,this.startValue,this.currentView()),this.updateControl(this.leftCalendar),this.navigate(this.rightCalendar,this.endValue,this.currentView()),this.updateControl(this.rightCalendar)),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader(),this.applyButton.disabled=this.applyButton.element.disabled=!1}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"minDays":this.setProperties({minDays:e.minDays},s=!0),this.refreshChange(),this.setMinMaxDays();break;case"maxDays":this.setProperties({maxDays:e.maxDays},s=!0),this.refreshChange(),this.setMinMaxDays();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:e.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=e.floatLabelType,o.Input.removeFloating(this.inputWrapper),o.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"start":this.setProperties({start:e.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:e.depth},!0),this.refreshChange()}s||this.hide(null)}},u([N.Property(null)],w.prototype,"value",void 0),u([N.Property(!1)],w.prototype,"enablePersistence",void 0),u([N.Property(new Date(1900,0,1))],w.prototype,"min",void 0),u([N.Property(new Date(2099,11,31))],w.prototype,"max",void 0),u([N.Property(null)],w.prototype,"locale",void 0),u([N.Property(null)],w.prototype,"firstDayOfWeek",void 0),u([N.Property(!1)],w.prototype,"weekNumber",void 0),u([N.Property("Gregorian")],w.prototype,"calendarMode",void 0),u([N.Property(!1)],w.prototype,"openOnFocus",void 0),u([N.Property(!1)],w.prototype,"fullScreenMode",void 0),u([N.Event()],w.prototype,"created",void 0),u([N.Event()],w.prototype,"destroyed",void 0),u([N.Event()],w.prototype,"change",void 0),u([N.Event()],w.prototype,"cleared",void 0),u([N.Event()],w.prototype,"navigated",void 0),u([N.Event()],w.prototype,"renderDayCell",void 0),u([N.Property(null)],w.prototype,"startDate",void 0),u([N.Property(null)],w.prototype,"endDate",void 0),u([N.Collection([{}],it)],w.prototype,"presets",void 0),u([N.Property("")],w.prototype,"width",void 0),u([N.Property(1e3)],w.prototype,"zIndex",void 0),u([N.Property(!0)],w.prototype,"showClearButton",void 0),u([N.Property(!0)],w.prototype,"showTodayButton",void 0),u([N.Property("Month")],w.prototype,"start",void 0),u([N.Property("Month")],w.prototype,"depth",void 0),u([N.Property("")],w.prototype,"cssClass",void 0),u([N.Property("-")],w.prototype,"separator",void 0),u([N.Property(null)],w.prototype,"minDays",void 0),u([N.Property(null)],w.prototype,"maxDays",void 0),u([N.Property(!1)],w.prototype,"strictMode",void 0),u([N.Property(null)],w.prototype,"keyConfigs",void 0),u([N.Property(null)],w.prototype,"format",void 0),u([N.Property(!0)],w.prototype,"enabled",void 0),u([N.Property(!1)],w.prototype,"readonly",void 0),u([N.Property(!0)],w.prototype,"allowEdit",void 0),u([N.Property("Never")],w.prototype,"floatLabelType",void 0),u([N.Property(null)],w.prototype,"placeholder",void 0),u([N.Property({})],w.prototype,"htmlAttributes",void 0),u([N.Event()],w.prototype,"open",void 0),u([N.Event()],w.prototype,"close",void 0),u([N.Event()],w.prototype,"select",void 0),u([N.Event()],w.prototype,"focus",void 0),u([N.Event()],w.prototype,"blur",void 0);var M,Ne=u([N.NotifyPropertyChanges],w);function w(e,t){t=M.call(this,e,t)||this;return t.isCustomRange=!1,t.isCustomWindow=!1,t.presetsItem=[],t.liCollections=[],t.previousEleValue="",t.isKeyPopup=!1,t.dateDisabled=!1,t.isRangeIconClicked=!1,t.isMaxDaysClicked=!1,t.disabledDays=[],t.preventBlur=!1,t.preventFocus=!1,t.invalidValueString=null,t.preventChange=!1,t.dateRangeOptions=e,t}at=function(e,t){return(at=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var at,nt,u=function(e,t){function i(){this.constructor=e}at(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},V=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(r=(n<3?a(r):3<n?a(t,i,r):a(t,i))||r);return 3<n&&r&&Object.defineProperty(t,i,r),r},rt="e-error",lt=(new Date).getDate(),ot=(new Date).getMonth(),ht=(new Date).getFullYear(),ut="e-timepicker",dt="e-active",pt="e-hover",ct="e-navigation",mt="e-disabled",ft="e-input-focus",vt="e-list-item",yt="e-time-overflow",gt="e-non-edit",bt=["title","class","style"],Dt=((i.TimePickerBase||(i.TimePickerBase={})).createListItems=function(e,t,i,s,a,n){this.calendarMode;for(var r=6e4*n,l=[],o=[],h=+t.setMilliseconds(0),u=+i.setMilliseconds(0);h<=u;)o.push(h),l.push(s.formatDate(new Date(h),{format:a,type:"time"})),h+=r;return{collection:o,list:L.ListBase.createList(e,l,null,!0)}},nt=N.ChildProperty,u(Et,nt),V([N.Property("day")],Et.prototype,"day",void 0),V([N.Property("month")],Et.prototype,"month",void 0),V([N.Property("year")],Et.prototype,"year",void 0),V([N.Property("day of the week")],Et.prototype,"dayOfTheWeek",void 0),V([N.Property("hour")],Et.prototype,"hour",void 0),V([N.Property("minute")],Et.prototype,"minute",void 0),V([N.Property("second")],Et.prototype,"second",void 0),Et);function Et(){return null!==nt&&nt.apply(this,arguments)||this}Ct=N.Component,u(x,Ct),x.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),N.removeClass([this.cloneElement],[ut,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=N.closest(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}},x.prototype.render=function(){this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setTimeZone(),this.setValue(this.getFormattedValue(this.value)),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder||(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!N.isNullOrUndefined(N.closest(this.element,"fieldset"))&&N.closest(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete()},x.prototype.setTimeZone=function(){var e;!N.isNullOrUndefined(this.serverTimezoneOffset)&&this.value&&(e=(new Date).getTimezoneOffset()/60,e=this.serverTimezoneOffset+e,e=this.isDayLightSaving()?e--:e,this.value=new Date(this.value.getTime()+60*e*60*1e3))},x.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)},x.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):N.attributes(this.inputElement,{readonly:""}),this.clearIconState()},x.prototype.clearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&N.removeClass([this.inputWrapper.container],[gt]):""===this.inputElement.value?N.removeClass([this.inputWrapper.container],[gt]):N.addClass([this.inputWrapper.container],[gt])},x.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),N.isNullOrUndefined(this.value)||(this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null),isNaN(+this.value)||null===this.value||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},x.prototype.validationAttribute=function(e,t){for(var i,s=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id"),a=(t.setAttribute("name",s),e.removeAttribute("name"),["required","aria-required","form"]),n=0;n<a.length;n++)N.isNullOrUndefined(e.getAttribute(a[n]))||(i=e.getAttribute(a[n]),t.setAttribute(a[n],i),e.removeAttribute(a[n]))},x.prototype.initialize=function(){this.globalize=new N.Internationalization(this.locale),this.defaultCulture=new N.Internationalization("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new N.L10n("timepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,N.isNullOrUndefined(this.element.getAttribute("id"))?(this.element.id=N.getUniqueID("ej2_timepicker"),null!==this.angularTag&&N.attributes(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),N.isNullOrUndefined(this.inputElement.getAttribute("name"))&&N.attributes(this.inputElement,{name:this.element.id}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})},x.prototype.checkTimeFormat=function(){var e;this.format?"string"==typeof this.format?this.formatString=this.format:N.isNullOrUndefined(this.format.skeleton)||""===this.format.skeleton?this.formatString=this.globalize.getDatePattern({type:"time",skeleton:"short"}):(e=this.format.skeleton,this.formatString=this.globalize.getDatePattern({type:"time",skeleton:e})):this.formatString=null},x.prototype.checkDateValue=function(e){return!N.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},x.prototype.createInputElement=function(){this.fullScreenMode&&N.Browser.isDevice&&(this.cssClass+=" e-popup-expand");var e=this.cssClass,t=!this.enableMask;N.isNullOrUndefined(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=o.Input.createInput({element:this.inputElement,bindClearAction:t,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),N.attributes(this.inputElement,{"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||o.Input.addAttributes({style:this.inputStyle},this.inputElement),N.addClass([this.inputWrapper.container],"e-time-wrapper")},x.prototype.getCldrDateTimeFormat=function(){var e=new N.Internationalization(this.locale).getDatePattern({skeleton:"yMd"}),e=this.isNullOrEmpty(this.formatString)?e+" "+this.cldrFormat("time"):this.formatString;return e},x.prototype.checkInvalidValue=function(e){var t,i,s,a=!1;"object"==typeof e||N.isNullOrUndefined(e)||("string"==typeof(t=e)&&(t=t.trim()),s=i=null,"number"==typeof e?t=e.toString():"string"!=typeof e||/^[a-zA-Z0-9- ]*$/.test(e)||(i=this.setCurrentDate(this.getDateObject(e)),N.isNullOrUndefined(i)&&(i=this.checkDateValue(this.globalize.parseDate(t,{format:this.getCldrDateTimeFormat(),type:"datetime"})),N.isNullOrUndefined(i))&&(i=this.checkDateValue(this.globalize.parseDate(t,{format:this.formatString,type:"dateTime",skeleton:"yMd"})))),s=this.globalize.parseDate(t,{format:this.getCldrDateTimeFormat(),type:"datetime"}),i=!N.isNullOrUndefined(s)&&s instanceof Date&&!isNaN(+s)?s:null,N.isNullOrUndefined(i)&&t.replace(/\s/g,"").length&&(s=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(t)&&!s.test(t)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+t))?a=!0:i=new Date(""+t)),a?(this.strictMode||(this.invalidValueString=t),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:i},!0),this.initValue=this.value))},x.prototype.requiredModules=function(){var e=[];return this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},x.prototype.cldrFormat=function(e){var t="en"===this.locale||"en-US"===this.locale?N.getValue("timeFormats.short",N.getDefaultDateObject()):this.getCultureTimeObject(N.cldrData,""+this.locale);return t},x.prototype.destroy=function(){this.hide(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.unBindEvents();this.inputElement&&(o.Input.removeAttributes({"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"},this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),N.isNullOrUndefined(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),N.isNullOrUndefined(this.cloneElement.getAttribute("disabled")))&&o.Input.setEnabled(!0,this.inputElement,this.floatLabelType),this.inputWrapper.container&&N.detach(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],N.isNullOrUndefined(this.rippleFn)||this.rippleFn(),o.Input.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),Ct.prototype.destroy.call(this),this.formElement&&N.EventHandler.remove(this.formElement,"reset",this.formResetHandler),this.rippleFn=null,this.openPopupEventArgs=null,this.selectedElement=null,this.listTag=null,this.liCollections=null},x.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)N.isNullOrUndefined(this.cloneElement.getAttribute(e[t]))?(this.inputElement.removeAttribute(e[t]),"value"===e[t].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])),"value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])))},x.prototype.popupCreation=function(){this.popupWrapper=this.createElement("div",{className:ut+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),this.popupWrapper.setAttribute("aria-label",this.element.id),this.popupWrapper.setAttribute("role","dialog"),N.isNullOrUndefined(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!N.isNullOrUndefined(this.step)&&0<this.step&&(this.generateList(),N.append([this.listWrapper],this.popupWrapper)),this.addSelection(),this.renderPopup(),N.detach(this.popupWrapper)},x.prototype.getPopupHeight=function(){var e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return e<t?e:t},x.prototype.generateList=function(){this.createListItems(),this.wireListEvents(),this.rippleFn=N.rippleEffect(this.listWrapper,{duration:300,selector:"."+vt}),this.liCollections=this.listWrapper.querySelectorAll("."+vt)},x.prototype.renderPopup=function(){var e,t,i,s=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new H.Popup(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:N.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:N.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:N.Browser.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:function(){s.popupWrapper.style.visibility="visible",N.addClass([s.inputWrapper.buttons[0]],dt)},close:function(){N.removeClass([s.inputWrapper.buttons[0]],dt),s.unWireListEvents(),s.inputElement.removeAttribute("aria-activedescendant"),N.remove(s.popupObj.element),s.popupObj.destroy(),s.popupWrapper.innerHTML="",s.listWrapper=s.popupWrapper=s.listTag=void 0},targetExitViewport:function(){N.Browser.isDevice||s.hide()}}),N.Browser.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),N.Browser.isDevice&&this.fullScreenMode?(this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%"):this.popupObj.element.style.maxHeight="240px",N.Browser.isDevice&&this.fullScreenMode&&(e=this.createElement("div",{className:"e-model-header"}),(t=this.createElement("span",{className:"e-model-title"})).textContent="Select time",i=this.createElement("span",{className:"e-popup-close"}),N.EventHandler.add(i,"mousedown touchstart",this.timePopupCloseHandler,this),e.appendChild(i),e.appendChild(t),this.popupWrapper.insertBefore(e,this.popupWrapper.firstElementChild))},x.prototype.timePopupCloseHandler=function(e){this.hide()},x.prototype.getFormattedValue=function(e){return N.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})},x.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t,i,e=this.createDateObj(e),s=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(e))return t=s?this.initValue.getDate():lt,i=s?this.initValue.getMonth():ot,s=s?this.initValue.getFullYear():ht,new Date(s,i,t,e.getHours(),e.getMinutes(),e.getSeconds())}return null},x.prototype.updateHtmlAttributeToWrapper=function(){if(!N.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i,s=t[e];-1<bt.indexOf(s)&&("class"===s?""!==(i=this.htmlAttributes[""+s].replace(/\s+/g," ").trim())&&N.addClass([this.inputWrapper.container],i.split(" ")):"style"===s?(i=this.inputWrapper.container.getAttribute(s),i=N.isNullOrUndefined(i)?this.htmlAttributes[""+s]:i+this.htmlAttributes[""+s],this.inputWrapper.container.setAttribute(s,i)):this.inputWrapper.container.setAttribute(s,this.htmlAttributes[""+s]))}},x.prototype.updateHtmlAttributeToElement=function(){if(!N.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];bt.indexOf(i)<0&&this.inputElement.setAttribute(i,this.htmlAttributes[""+i])}},x.prototype.updateCssClass=function(e,t){N.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),N.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),o.Input.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&o.Input.setCssClass(e,[this.popupWrapper],t)},x.prototype.removeErrorClass=function(){N.removeClass([this.inputWrapper.container],rt),N.attributes(this.inputElement,{"aria-invalid":"false"})},x.prototype.checkErrorState=function(e){e=this.getDateObject(e);this.validateState(e)&&!this.invalidValueString||this.enableMask&&this.inputElement.value===this.maskedDateValue?this.removeErrorClass():(N.addClass([this.inputWrapper.container],rt),N.attributes(this.inputElement,{"aria-invalid":"true"}))},x.prototype.validateInterval=function(){!N.isNullOrUndefined(this.step)&&0<this.step?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},x.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},x.prototype.disableElement=function(e){N.addClass(e,mt)},x.prototype.enableElement=function(e){N.removeClass(e,mt)},x.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},x.prototype.setCursorToEnd=function(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)},x.prototype.getMeridianText=function(){return"en"===this.locale||"en-US"===this.locale?N.getValue("dayPeriods.format.wide",N.getDefaultDateObject()):N.getValue("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",N.cldrData)},x.prototype.getCursorSelection=function(){var e=this.inputElement,t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},x.prototype.getActiveElement=function(){return N.isNullOrUndefined(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+dt)},x.prototype.isNullOrEmpty=function(e){return!!(N.isNullOrUndefined(e)||"string"==typeof e&&""===e.trim())},x.prototype.setWidth=function(e){return e="number"==typeof e?N.formatUnit(e):"string"==typeof e?e.match(/px|%|em/)?e:N.formatUnit(e):"100%"},x.prototype.setPopupWidth=function(e){return e=-1<(e=this.setWidth(e)).indexOf("%")?(this.containerStyle.width*parseFloat(e)/100).toString()+"px":e},x.prototype.setScrollPosition=function(){var e=this.selectedElement;N.isNullOrUndefined(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},x.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),i=e.nextElementSibling,s=(i||e).offsetTop,a=e.getBoundingClientRect().height;s+e.offsetTop>t?this.popupWrapper.scrollTop=i?s-(t/2+a/2):s:this.popupWrapper.scrollTop=0},x.prototype.setScrollTo=function(){var e,t,i;N.isNullOrUndefined(this.popupWrapper)?this.popupWrapper.scrollTop=0:(e=this.popupWrapper.querySelectorAll("."+vt)).length&&(t=this.timeCollections[0],i=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime(),i=e[Math.round((i-t)/(6e4*this.step))]),N.isNullOrUndefined(i)?this.popupWrapper.scrollTop=0:this.findScrollTop(i)},x.prototype.getText=function(){return N.isNullOrUndefined(this.checkDateValue(this.value))?"":this.getValue(this.value)},x.prototype.getValue=function(e){return N.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},x.prototype.cldrDateFormat=function(){var e="en"===this.locale||"en-US"===this.locale?N.getValue("dateFormats.short",N.getDefaultDateObject()):this.getCultureDateObject(N.cldrData,""+this.locale);return e},x.prototype.cldrTimeFormat=function(){var e=this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?N.getValue("timeFormats.short",N.getDefaultDateObject()):this.getCultureTimeObject(N.cldrData,""+this.locale):this.formatString;return e},x.prototype.dateToNumeric=function(){var e="en"===this.locale||"en-US"===this.locale?N.getValue("timeFormats.medium",N.getDefaultDateObject()):N.getValue("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",N.cldrData);return e},x.prototype.getExactDateTime=function(e){return N.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},x.prototype.setValue=function(e){e=this.checkValue(e);this.strictMode||this.validateState(e)?this.isNullOrEmpty(e)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(e):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},x.prototype.compareFormatChange=function(e){return N.isNullOrUndefined(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)},x.prototype.updatePlaceHolder=function(){o.Input.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},x.prototype.updateInputValue=function(e){o.Input.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},x.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")},x.prototype.popupHandler=function(e){this.enabled&&(N.Browser.isDevice&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.isPopupOpen()?this.closePopup(0,e):(this.inputElement.focus(),this.show(e)))},x.prototype.mouseDownHandler=function(){!this.enabled||this.readonly||(this.inputElement.setSelectionRange(0,0),N.EventHandler.add(this.inputElement,"mouseup",this.mouseUpHandler,this))},x.prototype.mouseUpHandler=function(e){this.readonly||(e.preventDefault(),this.enableMask?(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"})):(N.EventHandler.remove(this.inputElement,"mouseup",this.mouseUpHandler),0===(e=this.getCursorSelection()).start&&e.end===this.inputElement.value.length||(0<this.inputElement.value.length&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))))},x.prototype.focusSelection=function(){var e=new RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split(""),i=(t.push(" "),this.getCursorSelection()),s=0,a=0,n=!1;if(this.isTextSelected)s=i.start,a=i.end,this.isTextSelected=!1;else for(var r=0;r<t.length;r++)if(e.test(t[r])||(a=r,n=!0),n){if(i.start>=s&&i.end<=a){this.isTextSelected=!0;break}s=r+1,n=!1}return{start:s,end:a}},x.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&("home"!==e.action&&"end"!==e.action&&"up"!==e.action&&"down"!==e.action||this.isPopupOpen()||this.enableMask)&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.isPopupOpen()||(this.popupCreation(),this.popupObj.destroy(),this.popupObj=this.popupWrapper=null),!this.enableMask||this.readonly||this.isPopupOpen()||(e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e})),this.isPopupOpen()&&this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.show(e);break;case"escape":this.updateInputValue(this.objToString(this.value)),this.enableMask&&(this.value||this.updateInputValue(this.maskedDateValue),this.createMask()),this.previousState(this.value),this.hide();break;case"close":this.hide();break;case"right":case"left":case"tab":case"shiftTab":this.isPopupOpen()||!this.enableMask||this.readonly||((0===this.inputElement.selectionStart&&this.inputElement.selectionEnd===this.inputElement.value.length||this.inputElement.selectionEnd!==this.inputElement.value.length&&"tab"===e.action||0!==this.inputElement.selectionStart&&"shiftTab"===e.action||"left"===e.action||"right"===e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e:e}));break;default:this.isNavigate=!1}},x.prototype.onMouseClick=function(e){var t=e.target,t=this.selectedElement=N.closest(t,"."+vt);this.setSelection(t,e),t&&t.classList.contains(vt)&&this.hide()},x.prototype.closePopup=function(t,e){var i=this;this.isPopupOpen()&&this.popupWrapper?(e={popup:this.popupObj,event:e||null,cancel:!1,name:"open"},N.removeClass([document.body],yt),this.trigger("close",e,function(e){e.cancel||(i.popupObj.hide(new N.Animation({name:"FadeOut",duration:50,delay:t||0})),N.removeClass([i.inputWrapper.container],["e-icon-anim"]),N.attributes(i.inputElement,{"aria-expanded":"false"}),i.inputElement.removeAttribute("aria-owns"),i.inputElement.removeAttribute("aria-controls"),i.inputElement.removeAttribute("aria-activedescendant"),N.EventHandler.remove(document,"mousedown touchstart",i.documentClickHandler)),N.Browser.isDevice&&i.modal&&(i.modal.style.display="none",i.modal.outerHTML="",i.modal=null),N.Browser.isDevice&&!N.isNullOrUndefined(i.mobileTimePopupWrap)&&(i.mobileTimePopupWrap.remove(),i.mobileTimePopupWrap=null),N.Browser.isDevice&&i.allowEdit&&!i.readonly&&i.inputElement.removeAttribute("readonly")})):N.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},x.prototype.disposeServerPopup=function(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")},x.prototype.checkValueChange=function(e,t){this.strictMode||this.validateState(this.valueWithMinutes)?t?(t=this.getDateObject(new Date(this.timeCollections[this.activeIndex])),+this.prevDate!=+t&&this.valueProcess(e,t)):this.prevValue===this.inputElement.value&&!N.isNullOrUndefined(this.checkDateValue(this.value))||this.valueProcess(e,this.compareFormatChange(this.inputElement.value)):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e))},x.prototype.onMouseOver=function(e){e=N.closest(e.target,"."+vt);this.setHover(e,pt)},x.prototype.setHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),N.addClass([e],t),t===ct)&&e.setAttribute("aria-selected","true")},x.prototype.setSelection=function(e,t){this.isValidLI(e)&&(this.checkValue(e.getAttribute("data-value")),this.enableMask&&this.createMask(),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),N.addClass([this.selectedElement],dt),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0))},x.prototype.onMouseLeave=function(){this.removeHover(pt)},x.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&N.Browser.isDevice||this.hide()},x.prototype.setMinMax=function(e,t){N.isNullOrUndefined(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),N.isNullOrUndefined(this.checkDateValue(t))&&(this.initMax=this.getDateObject("11:59:59 PM"))},x.prototype.validateMinMax=function(e,t,i){var s=e instanceof Date?e:this.getDateObject(e);return N.isNullOrUndefined(this.checkDateValue(s))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,s),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e},x.prototype.valueIsDisable=function(e){if(0<this.disableItemCollection.length){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var t=e instanceof Date?this.objToString(e):e,i=0;i<this.disableItemCollection.length;i++)if(t===this.disableItemCollection[i])return!1}return!0},x.prototype.validateState=function(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;var e=this.setCurrentDate(this.getDateObject(e)),t=this.setCurrentDate(this.getDateObject(this.initMax)),i=this.setCurrentDate(this.getDateObject(this.initMin));if(N.isNullOrUndefined(this.checkDateValue(e))){if(+t<+i||""!==this.inputElement.value)return!1}else if(+t<+e||+e<+i)return!1}return!0},x.prototype.strictOperation=function(e,t,i,s){t=this.createDateObj(this.getFormattedValue(t)),e=this.createDateObj(this.getFormattedValue(e)),s=this.createDateObj(this.getFormattedValue(s));if(this.strictMode){if(+t<+e)return this.disableTimeIcon(),this.initValue=this.getDateObject(t),this.updateInputValue(this.getValue(this.initValue)),this.enableMask&&this.createMask(),this.inputElement.value;if(+s<=+e)return this.getDateObject(e);if(+t<=+s||+e==+t)return this.getDateObject(t)}else if(+t<+e&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))));return i},x.prototype.bindEvents=function(){N.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),N.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),N.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),N.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),N.EventHandler.add(this.inputElement,"input",this.inputEventHandler,this),this.enableMask&&N.EventHandler.add(this.inputElement,"keydown",this.keydownHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&N.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&N.EventHandler.add(this.formElement,"reset",this.formResetHandler,this),N.Browser.isDevice||(this.keyConfigure=N.extend(this.keyConfigure,this.keyConfigs),this.inputEvent=new N.KeyboardEvents(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&N.EventHandler.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},x.prototype.keydownHandler=function(e){"Delete"!==e.code||!this.enableMask||this.popupObj||this.readonly||this.notify("keyDownHandler",{module:"MaskedDateTime",e:e})},x.prototype.formResetHandler=function(){var e,t;this.enabled&&!this.inputElement.disabled&&(e=this.inputElement.getAttribute("value"),t=this.checkDateValue(this.inputEleValue),"EJS-TIMEPICKER"===this.element.tagName&&(t=null,this.inputElement.setAttribute("value",e="")),this.setProperties({value:t},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement)&&(this.updateInputValue(e),this.enableMask&&(e||this.updateInputValue(this.maskedDateValue),this.createMask()),this.checkErrorState(e),this.prevValue=this.inputElement.value)},x.prototype.inputChangeHandler=function(e){this.enabled&&e.stopPropagation()},x.prototype.inputEventHandler=function(){this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},x.prototype.unBindEvents=function(){this.inputWrapper&&N.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),N.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),N.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),N.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),N.EventHandler.remove(this.inputElement,"input",this.inputEventHandler),this.inputEvent&&this.inputEvent.destroy(),N.EventHandler.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),!this.showClearButton||N.isNullOrUndefined(this.inputWrapper)||N.isNullOrUndefined(this.inputWrapper.clearButton)||N.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&N.EventHandler.remove(this.formElement,"reset",this.formResetHandler)},x.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&N.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},x.prototype.raiseClearedEvent=function(e){this.trigger("cleared",{event:e})},x.prototype.clearHandler=function(e){var t;this.enabled&&(e.preventDefault(),N.isNullOrUndefined(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),N.closest(this.element,"form"))&&(e=this.element,(t=document.createEvent("KeyboardEvent")).initEvent("keyup",!1,!0),e.dispatchEvent(t))},x.prototype.clear=function(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.changeEvent(e)},x.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},x.prototype.checkAttributes=function(e){for(var t,i=0,s=e?N.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"];i<s.length;i++){var a,n=s[i];if(!N.isNullOrUndefined(this.inputElement.getAttribute(n)))switch(n){case"disabled":(N.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.enabled||e)&&(a="disabled"!==this.inputElement.getAttribute(n)&&""!==this.inputElement.getAttribute(n)&&"true"!==this.inputElement.getAttribute(n),this.setProperties({enabled:a},!e));break;case"style":this.inputStyle=this.inputElement.getAttribute(n);break;case"readonly":(N.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.readonly||e)&&(a="readonly"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n),this.setProperties({readonly:a},!e));break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(n));break;case"step":this.step=parseInt(this.inputElement.getAttribute(n),10);break;case"placeholder":(N.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!e);break;case"min":(N.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(n)),N.isNullOrUndefined(this.checkDateValue(t))||this.setProperties({min:t},!e));break;case"max":(N.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(n)),N.isNullOrUndefined(this.checkDateValue(t))||this.setProperties({max:t},!e));break;case"value":(N.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(n)),N.isNullOrUndefined(this.checkDateValue(t))||(this.initValue=t,this.updateInput(!1,this.initValue),this.setProperties({value:t},!e)))}}},x.prototype.setCurrentDate=function(e){return N.isNullOrUndefined(this.checkDateValue(e))?null:new Date(ht,ot,lt,e.getHours(),e.getMinutes(),e.getSeconds())},x.prototype.getTextFormat=function(){var e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var t=this.cldrTimeFormat().split(" "),i=0;i<t.length;i++)if(0<=t[i].toLowerCase().indexOf("h")){e=i;break}return e},x.prototype.updateValue=function(e,t){var i,s;this.isNullOrEmpty(e)?this.resetState():(s=this.checkValue(e),this.strictMode&&(i=null===s&&0<e.trim().length?this.previousState(this.prevDate):this.inputElement.value,this.updateInputValue(i),this.enableMask)&&(i||this.updateInputValue(this.maskedDateValue),N.isNullOrUndefined(s)&&e!==this.maskedDateValue&&this.createMask(),N.isNullOrUndefined(s))&&e===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue)),this.checkValueChange(t,"string"!=typeof e)},x.prototype.previousState=function(e){for(var t=this.getDateObject(e),i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.getValue(e)},x.prototype.resetState=function(){this.removeSelection(),o.Input.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},x.prototype.objToString=function(e){return N.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},x.prototype.checkValue=function(e){var t;return this.isNullOrEmpty(e)?(this.resetState(),this.valueWithMinutes=null):(t=e instanceof Date?e:this.getDateObject(e),this.validateValue(t,e))},x.prototype.validateValue=function(e,t){var i=this.validateMinMax(t,this.min,this.max),s=this.getDateObject(i),s=(this.getFormattedValue(s)!==this.getFormattedValue(this.value)?this.valueWithMinutes=N.isNullOrUndefined(s)?null:s:(this.strictMode&&(e=s),this.valueWithMinutes=this.checkDateValue(e)),this.objToString(this.valueWithMinutes));return!this.strictMode&&N.isNullOrUndefined(s)?(e=0<i.trim().length?i:"",this.updateInputValue(e),this.enableMask&&!e&&this.updateInputValue(this.maskedDateValue)):(this.updateInputValue(s),this.enableMask&&(""===s&&this.updateInputValue(this.maskedDateValue),N.isNullOrUndefined(s)&&t!==this.maskedDateValue&&this.createMask(),N.isNullOrUndefined(s))&&t===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue)),s},x.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},x.prototype.findNextElement=function(e){var t=this.inputElement.value,i=N.isNullOrUndefined(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),s=null,a=this.liCollections.length,t=this.timeCollections;if(N.isNullOrUndefined(this.checkDateValue(i))&&N.isNullOrUndefined(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){var n=this.validLiElement(0),s=+this.createDateObj(new Date(this.timeCollections[n]));this.activeIndex=n}else if("end"===e.action){n=this.validLiElement(t.length-1,!0);s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n}else if("down"===e.action)for(var r=0;r<a;r++){if(+i<this.timeCollections[r]){n=this.validLiElement(r);s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}if(r===a-1){n=this.validLiElement(0);s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}}else for(r=a-1;0<=r;r--){if(+i>this.timeCollections[r]){n=this.validLiElement(r,!0);s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}if(0===r){n=this.validLiElement(a-1);s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(N.isNullOrUndefined(s)?null:new Date(s))}},x.prototype.selectNextItem=function(e){e=this.validLiElement(0,"down"!==e.action);this.activeIndex=e,this.selectedElement=this.liCollections[e],this.elementValue(new Date(this.timeCollections[e]))},x.prototype.elementValue=function(e){N.isNullOrUndefined(this.checkDateValue(e))||this.checkValue(e)},x.prototype.validLiElement=function(e,t){var i=null,s=N.isNullOrUndefined(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+vt),a=!0;if(s.length)if(t)for(var n=e;0<=n;n--){if(!s[n].classList.contains(mt)){i=n;break}0===n&&a&&(e=n=s.length,a=!1)}else for(n=e;n<=s.length-1;n++){if(!s[n].classList.contains(mt)){i=n;break}n===s.length-1&&(a=a&&!(e=n=-1))}return i},x.prototype.keyHandler=function(e){var t,i,s;N.isNullOrUndefined(this.step)||this.step<=0||!N.isNullOrUndefined(this.inputWrapper)&&this.inputWrapper.buttons[0].classList.contains(mt)||(t=this.timeCollections.length,N.isNullOrUndefined(this.getActiveElement())||0===this.getActiveElement().length?0<this.liCollections.length&&N.isNullOrUndefined(this.value)&&N.isNullOrUndefined(this.activeIndex)?(s=this.validLiElement(0,"down"!==e.action),this.activeIndex=s,this.selectedElement=this.liCollections[s],this.elementValue(new Date(this.timeCollections[s]))):this.findNextElement(e):(i=void 0,37<=e.keyCode&&e.keyCode<=40?(s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex,this.activeIndex=s=this.activeIndex===t?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?t-1:this.activeIndex,this.activeIndex=s=this.validLiElement(this.activeIndex,40!==e.keyCode&&39!==e.keyCode),i=N.isNullOrUndefined(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]):"home"===e.action?(s=this.validLiElement(0),this.activeIndex=s,i=this.timeCollections[s]):"end"===e.action&&(s=this.validLiElement(t-1,!0),this.activeIndex=s,i=this.timeCollections[s]),this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(i))),this.isNavigate=!0,this.setHover(this.selectedElement,ct),this.setActiveDescendant(),this.enableMask&&this.selectInputText(),!this.isPopupOpen())||null===this.selectedElement||e&&"click"===e.type||this.setScrollPosition()},x.prototype.getCultureTimeObject=function(e,t){return N.getValue("main."+t+".dates.calendars.gregorian.timeFormats.short",e)},x.prototype.getCultureDateObject=function(e,t){return N.getValue("main."+t+".dates.calendars.gregorian.dateFormats.short",e)},x.prototype.wireListEvents=function(){N.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),N.Browser.isDevice||(N.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),N.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},x.prototype.unWireListEvents=function(){this.listWrapper&&(N.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),N.Browser.isDevice||(N.EventHandler.remove(this.listWrapper,"mouseover",this.onMouseOver),N.EventHandler.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},x.prototype.valueProcess=function(e,t){t=N.isNullOrUndefined(this.checkDateValue(t))?null:t;+this.prevDate!=+t&&(this.initValue=t,this.changeEvent(e))},x.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);e={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!N.isNullOrUndefined(e),element:this.element};e.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",e),this.invalidValueString=null,this.checkErrorState(this.value)},x.prototype.updateInput=function(e,t){e&&(this.prevValue=this.getValue(this.prevDate)),"number"==typeof(this.prevDate=this.valueWithMinutes=t)&&(this.value&&+new Date(+this.value).setMilliseconds(0))===+t||(this.setProperties({value:t},!0),this.enableMask&&this.value&&this.createMask()),!this.strictMode&&N.isNullOrUndefined(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()},x.prototype.setActiveDescendant=function(){!N.isNullOrUndefined(this.selectedElement)&&this.value?N.attributes(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},x.prototype.removeSelection=function(){var e;this.removeHover(pt),N.isNullOrUndefined(this.popupWrapper)||(e=this.popupWrapper.querySelectorAll("."+dt)).length&&(N.removeClass(e,dt),e[0].removeAttribute("aria-selected"))},x.prototype.removeHover=function(e){var t=this.getHoverItem(e);t&&t.length&&(N.removeClass(t,e),e===ct)&&t[0].removeAttribute("aria-selected")},x.prototype.getHoverItem=function(e){var t;return t=N.isNullOrUndefined(this.popupWrapper)?t:this.popupWrapper.querySelectorAll("."+e)},x.prototype.setActiveClass=function(){if(!N.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+vt);if(e.length)for(var t=0;t<e.length;t++)if(this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}},x.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),N.isNullOrUndefined(this.selectedElement)||(N.addClass([this.selectedElement],dt),this.selectedElement.setAttribute("aria-selected","true"))},x.prototype.isValidLI=function(e){return e&&e.classList.contains(vt)&&!e.classList.contains(mt)},x.prototype.createDateObj=function(e){var t=this.globalize.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),i=null;return"string"==typeof e?(-1<e.toUpperCase().indexOf("AM")||-1<e.toUpperCase().indexOf("PM"))&&(t=this.defaultCulture.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),i=isNaN(+new Date(t+" "+e))?null:new Date(new Date(t+" "+e).setMilliseconds(0)),!N.isNullOrUndefined(i))||(i=this.timeParse(t,e)):e instanceof Date&&(i=e),i},x.prototype.timeParse=function(e,t){var i=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"});return i=N.isNullOrUndefined(i)?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):i,i=N.isNullOrUndefined(i)?i:new Date(i.setMilliseconds(0))},x.prototype.createListItems=function(){for(var e,t=this,i=(this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"-1"}}),6e4*this.step),s=[],a=(this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0),+this.getDateObject(this.initMax).setMilliseconds(0));e<=a;)this.timeCollections.push(e),s.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=i;this.listTag=L.ListBase.createList(this.createElement,s,{itemCreated:function(e){e={element:e.item,text:e.text,value:t.getDateObject(e.text),isDisabled:!1};t.trigger("itemRender",e,function(e){e.isDisabled&&e.element.classList.add(mt),e.element.classList.contains(mt)&&t.disableItemCollection.push(e.element.getAttribute("data-value"))})}},!0),N.attributes(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options",tabindex:"0"}),N.append([this.listTag],this.listWrapper)},x.prototype.documentClickHandler=function(e){var t=e.target;N.isNullOrUndefined(this.popupObj)||N.isNullOrUndefined(this.inputWrapper)||!(this.inputWrapper.container.contains(t)&&"mousedown"!==e.type||this.popupObj.element&&this.popupObj.element.contains(t))||"touchstart"===e.type||e.preventDefault(),N.closest(t,'[id="'+this.popupObj.element.id+'"]')||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)||t.classList.contains("e-dlg-overlay")?t===this.inputElement||N.Browser.isDevice||(this.isPreventBlur=(N.Browser.isIE||"edge"===N.Browser.info.name)&&document.activeElement===this.inputElement&&t===this.popupWrapper):this.isPopupOpen()&&(this.hide(),this.focusOut())},x.prototype.setEnableRtl=function(){o.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},x.prototype.setEnable=function(){o.Input.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(N.removeClass([this.inputWrapper.container],mt),N.attributes(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),N.addClass([this.inputWrapper.container],mt),N.attributes(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},x.prototype.getProperty=function(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},x.prototype.inputBlurHandler=function(e){this.enabled&&(this.isPreventBlur&&this.isPopupOpen()?this.inputElement.focus():(this.closePopup(0,e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&(this.inputElement.value!==this.maskedDateValue||this.value||"Auto"!==this.floatLabelType&&"Never"!==this.floatLabelType&&!this.placeholder||this.updateInputValue("")),N.removeClass([this.inputWrapper.container],[ft]),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null),this.trigger("blur",{model:this})))},x.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),N.removeClass([this.inputWrapper.container],[ft]),this.trigger("blur",{model:this}))},x.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(ut))},x.prototype.inputFocusHandler=function(){var e;this.enabled&&(e={model:this},this.readonly||N.Browser.isDevice||this.enableMask||this.selectInputText(),this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"===this.floatLabelType||"Never"===this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.trigger("focus",e),this.clearIconState(),this.openOnFocus)&&this.show()},x.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},x.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},x.prototype.show=function(e){var t=this;this.enabled&&this.readonly||!this.enabled||this.popupWrapper||(this.popupCreation(),N.Browser.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=ut+" e-time-modal",document.body.className+=" "+yt,document.body.appendChild(this.modal)),N.Browser.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:N.Browser.isDevice?this.mobileTimePopupWrap:document.body},e=this.openPopupEventArgs,this.trigger("open",e,function(e){t.openPopupEventArgs=e,t.openPopupEventArgs.cancel||t.inputWrapper.buttons[0].classList.contains(mt)?(t.popupObj.destroy(),t.popupWrapper=t.listTag=void 0,t.liCollections=t.timeCollections=t.disableItemCollection=[],t.popupObj=null):(t.openPopupEventArgs.appendTo.appendChild(t.popupWrapper),t.popupAlignment(t.openPopupEventArgs),t.setScrollPosition(),N.Browser.isDevice||t.inputElement.focus(),e={name:"FadeIn",duration:50},t.popupObj.refreshPosition(t.anchor),1e3===t.zIndex?t.popupObj.show(new N.Animation(e),t.element):t.popupObj.show(new N.Animation(e),null),t.setActiveDescendant(),N.attributes(t.inputElement,{"aria-expanded":"true"}),N.attributes(t.inputElement,{"aria-owns":t.inputElement.id+"_options"}),N.attributes(t.inputElement,{"aria-controls":t.inputElement.id}),N.addClass([t.inputWrapper.container],ft),N.EventHandler.add(document,"mousedown touchstart",t.documentClickHandler,t),t.setOverlayIndex(t.mobileTimePopupWrap,t.popupObj.element,t.modal,N.Browser.isDevice))}),N.Browser.isDevice&&((e=this.createElement("div",{className:"e-dlg-overlay"})).style.zIndex=(this.zIndex-1).toString(),this.mobileTimePopupWrap.appendChild(e)))},x.prototype.setOverlayIndex=function(e,t,i,s){!s||N.isNullOrUndefined(t)||N.isNullOrUndefined(i)||N.isNullOrUndefined(e)||(s=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3,i.style.zIndex=(s-1).toString(),e.style.zIndex=s.toString())},x.prototype.formatValues=function(e){var t;return"number"==typeof e?t=N.formatUnit(e):"string"==typeof e&&(t=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:N.formatUnit(e)),t},x.prototype.popupAlignment=function(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),isNaN(parseFloat(e.popup.position.X))&&isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),N.Browser.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-this.containerStyle.width/2}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-this.containerStyle.height/2}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},x.prototype.getPersistData=function(){return this.addOnPersist(["value"])},x.prototype.getModuleName=function(){return"timepicker"},x.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){var a=s[i];switch(a){case"placeholder":o.Input.setPlaceholder(e.placeholder,this.inputElement);break;case"readonly":o.Input.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.getProperty(e,a);break;case"showClearButton":o.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new N.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.timeOptions&&null==this.timeOptions.placeholder&&this.updatePlaceHolder(),this.setValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"width":N.setStyleAttribute(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),o.Input.calculateWidth(this.inputElement,this.inputWrapper.container),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.setValue(this.value),this.enableMask&&(this.createMask(),this.value||this.updateInputValue(this.maskedDateValue));break;case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.enableMask&&N.isNullOrUndefined(e.value)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.checkValueChange(null,!1),this.isPopupOpen()&&this.setScrollPosition(),this.isAngular&&this.preventChange&&(this.preventChange=!1),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"floatLabelType":this.floatLabelType=e.floatLabelType,o.Input.removeFloating(this.inputWrapper),o.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"strictMode":this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue)):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("")}}},x.prototype.checkInValue=function(e){return e instanceof Date?e.toUTCString():""+e},V([N.Property(null)],x.prototype,"width",void 0),V([N.Property(null)],x.prototype,"cssClass",void 0),V([N.Property(!1)],x.prototype,"strictMode",void 0),V([N.Property(null)],x.prototype,"keyConfigs",void 0),V([N.Property(null)],x.prototype,"format",void 0),V([N.Property(!0)],x.prototype,"enabled",void 0),V([N.Property(!1)],x.prototype,"fullScreenMode",void 0),V([N.Property(!1)],x.prototype,"readonly",void 0),V([N.Property({})],x.prototype,"htmlAttributes",void 0),V([N.Property("Never")],x.prototype,"floatLabelType",void 0),V([N.Property(null)],x.prototype,"placeholder",void 0),V([N.Property(1e3)],x.prototype,"zIndex",void 0),V([N.Property(!1)],x.prototype,"enablePersistence",void 0),V([N.Property(!0)],x.prototype,"showClearButton",void 0),V([N.Property(30)],x.prototype,"step",void 0),V([N.Property(null)],x.prototype,"scrollTo",void 0),V([N.Property(null)],x.prototype,"value",void 0),V([N.Property(null)],x.prototype,"min",void 0),V([N.Property(null)],x.prototype,"max",void 0),V([N.Property(!0)],x.prototype,"allowEdit",void 0),V([N.Property(!1)],x.prototype,"openOnFocus",void 0),V([N.Property(!1)],x.prototype,"enableMask",void 0),V([N.Property({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],x.prototype,"maskPlaceholder",void 0),V([N.Property(null)],x.prototype,"serverTimezoneOffset",void 0),V([N.Event()],x.prototype,"change",void 0),V([N.Event()],x.prototype,"created",void 0),V([N.Event()],x.prototype,"destroyed",void 0),V([N.Event()],x.prototype,"open",void 0),V([N.Event()],x.prototype,"itemRender",void 0),V([N.Event()],x.prototype,"close",void 0),V([N.Event()],x.prototype,"cleared",void 0),V([N.Event()],x.prototype,"blur",void 0),V([N.Event()],x.prototype,"focus",void 0);var Ct,u=V([N.NotifyPropertyChanges],x);function x(e,t){t=Ct.call(this,e,t)||this;return t.liCollections=[],t.timeCollections=[],t.disableItemCollection=[],t.invalidValueString=null,t.preventChange=!1,t.maskedDateValue="",t.moduleName=t.getModuleName(),t.timeOptions=e,t}kt=function(e,t){return(kt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}))(e,t)};var kt,S,V=function(e,t){function i(){this.constructor=e}kt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},P=function(e,t,i,s){var a,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;0<=l;l--)(a=e[l])&&(r=(n<3?a(r):3<n?a(t,i,r):a(t,i))||r);return 3<n&&r&&Object.defineProperty(t,i,r),r},Mt=(new Date).getDate(),wt=(new Date).getMonth(),Vt=(new Date).getFullYear(),Nt=(new Date).getHours(),Ot=(new Date).getMinutes(),It=(new Date).getSeconds(),Tt=(new Date).getMilliseconds(),xt="e-datetimepicker",St="e-datetimepopup-wrapper",Pt="e-popup",At="e-input-focus",Ut="e-icon-anim",Ht="e-disabled",Wt="e-error",Lt="e-active",Ft="e-hover",Bt="e-list-item",jt="e-time-overflow",V=(V(A,S=r),A.prototype.focusHandler=function(){this.enabled&&N.addClass([this.inputWrapper.container],At)},A.prototype.focusIn=function(){S.prototype.focusIn.call(this)},A.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),N.removeClass([this.inputWrapper.container],[At]))},A.prototype.blurHandler=function(e){var t;this.enabled&&(this.isTimePopupOpen()&&this.isPreventBlur?this.inputElement.focus():(N.removeClass([this.inputWrapper.container],At),t={model:this},this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)))},A.prototype.destroy=function(){this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.hide(null),this.popupObject&&this.popupObject.element.classList.contains(Pt)&&(this.popupObject.destroy(),N.detach(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],N.isNullOrUndefined(this.rippleFn)||this.rippleFn());this.inputElement&&o.Input.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.isCalendar()&&(this.popupWrapper&&N.detach(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),this.liCollections=null,this.rippleFn=null,this.selectedElement=null,this.listTag=null,this.timeIcon=null,this.popupObject=null,this.preventArgs=null,this.keyboardModule=null,o.Input.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),S.prototype.destroy.call(this)},A.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,"string"==typeof this.min&&(this.min=this.checkDateValue(new Date(this.min))),"string"==typeof this.max&&(this.max=this.checkDateValue(new Date(this.max))),!N.isNullOrUndefined(N.closest(this.element,"fieldset"))&&N.closest(this.element,"fieldset").disabled&&(this.enabled=!1),S.prototype.updateHtmlAttributeToElement.call(this),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new N.L10n("datetimepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),S.prototype.render.call(this),this.createInputElement(),S.prototype.updateHtmlAttributeToWrapper.call(this),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(!0),!this.enableMask||this.value||!this.maskedDateValue||"Always"!==this.floatLabelType&&this.floatLabelType&&this.placeholder||o.Input.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),"Never"!==this.floatLabelType&&o.Input.calculateWidth(this.inputElement,this.inputWrapper.container),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon"),this.renderComplete()},A.prototype.setValue=function(e){var t;void 0===e&&(e=!1),this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)?(t=this.validateMinMaxRange(this.initValue),o.Input.setValue(this.getFormattedValue(t),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:t},!0)):N.isNullOrUndefined(this.value)&&(this.initValue=null,this.setProperties({value:null},!0)),this.valueWithMinutes=this.value,S.prototype.updateInput.call(this,e)},A.prototype.validateMinMaxRange=function(e){var t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t},A.prototype.checkValidState=function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()},A.prototype.checkErrorState=function(){this.isValidState?N.removeClass([this.inputWrapper.container],Wt):N.addClass([this.inputWrapper.container],Wt),N.attributes(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},A.prototype.validateValue=function(e){var t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t},A.prototype.disablePopupButton=function(e){e?(N.addClass([this.inputWrapper.buttons[0],this.timeIcon],Ht),this.hide()):N.removeClass([this.inputWrapper.buttons[0],this.timeIcon],Ht)},A.prototype.getFormattedValue=function(e){var t;return N.isNullOrUndefined(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))},A.prototype.isDateObject=function(e){return!N.isNullOrUndefined(e)&&!isNaN(+e)},A.prototype.createInputElement=function(){N.removeClass([this.inputElement],"e-datepicker"),N.removeClass([this.inputWrapper.container],"e-date-wrapper"),N.addClass([this.inputWrapper.container],"e-datetime-wrapper"),N.addClass([this.inputElement],xt),this.renderTimeIcon()},A.prototype.renderTimeIcon=function(){this.timeIcon=o.Input.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},A.prototype.bindInputEvents=function(){N.EventHandler.add(this.timeIcon,"mousedown",this.timeHandler,this),N.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),N.EventHandler.add(this.inputElement,"blur",this.blurHandler,this),N.EventHandler.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=N.extend(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new N.KeyboardEvents(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})},A.prototype.unBindInputEvents=function(){N.EventHandler.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),N.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(N.EventHandler.remove(this.inputElement,"blur",this.blurHandler),N.EventHandler.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},A.prototype.cldrTimeFormat=function(){var e=this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?N.getValue("timeFormats.short",N.getDefaultDateObject()):this.getCultureTimeObject(N.cldrData,""+this.locale):this.timeFormat;return e},A.prototype.cldrDateTimeFormat=function(){var e=new N.Internationalization(this.locale).getDatePattern({skeleton:"yMd"}),e=this.isNullOrEmpty(this.formatString)?e+" "+this.getCldrFormat("time"):this.formatString;return e},A.prototype.getCldrFormat=function(e){var t="en"===this.locale||"en-US"===this.locale?N.getValue("timeFormats.short",N.getDefaultDateObject()):this.getCultureTimeObject(N.cldrData,""+this.locale);return t},A.prototype.isNullOrEmpty=function(e){return!!(N.isNullOrUndefined(e)||"string"==typeof e&&""===e.trim())},A.prototype.getCultureTimeObject=function(e,t){return"Gregorian"===this.calendarMode?N.getValue("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",e):N.getValue("main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)},A.prototype.timeHandler=function(e){this.enabled&&(this.isIconClicked=!0,N.Browser.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&S.prototype.hide.call(this,e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),N.addClass([this.inputWrapper.container],[At]))),this.isIconClicked=!1)},A.prototype.dateHandler=function(e){this.enabled&&(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled)&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),N.isNullOrUndefined(this.popupWrapper)||this.popupCreation("date",e))},A.prototype.show=function(e,t){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(t),S.prototype.show.call(this),this.popupCreation("date",t)):(this.isDatePopupOpen()&&this.hide(t),this.popupCreation("time",t)))},A.prototype.toggle=function(e){this.isDatePopupOpen()?(S.prototype.hide.call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),S.prototype.show.call(this,null,e),this.popupCreation("date",null)):this.show(null,e)},A.prototype.listCreation=function(){var e="Gregorian"===this.calendarMode?(this.cldrDateTimeFormat().replace(this.formatRegex,this.TimePopupFormat()),""===this.dateFormatString&&(this.dateFormatString=this.cldrDateTimeFormat()),this.globalize.parseDate(this.inputElement.value,{format:this.dateFormatString,type:"datetime"})):this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"}),e=N.isNullOrUndefined(this.value)?""!==this.inputElement.value?e:new Date:this.value,t=(this.valueWithMinutes=e,this.listWrapper=N.createElement("div",{className:"e-content",attrs:{tabindex:"0"}}),this.startTime(e)),e=this.endTime(e),t=i.TimePickerBase.createListItems(this.createElement,t,e,this.globalize,this.cldrTimeFormat(),this.step),e=(this.timeCollections=t.collection,this.listTag=t.list,N.attributes(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),N.append([t.list],this.listWrapper),this.wireTimeListEvents(),{duration:300,selector:"."+Bt});this.rippleFn=N.rippleEffect(this.listWrapper,e),this.liCollections=this.listWrapper.querySelectorAll("."+Bt)},A.prototype.popupCreation=function(e,t){N.Browser.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(N.addClass([this.popupWrapper],St),N.attributes(this.popupWrapper,{id:this.element.id+"_options"})):this.readonly||(this.dateTimeWrapper=N.createElement("div",{className:xt+" "+Pt,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),N.isNullOrUndefined(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!N.isNullOrUndefined(this.step)&&0<this.step&&(this.listCreation(),N.append([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),N.Browser.isDevice&&(!N.Browser.isDevice||this.fullScreenMode)||this.popupObject.refreshPosition(this.inputElement),N.Browser.isDevice&&(this.modelWrapper.style.zIndex=(this.popupObject.zIndex-1).toString(),this.fullScreenMode)&&(this.dateTimeWrapper.style.left="0px"))},A.prototype.openPopup=function(e){var t=this,e=(this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.preventArgs);this.trigger("open",e,function(e){t.preventArgs=e,t.preventArgs.cancel||t.readonly||(e={name:"FadeIn",duration:100},1e3===t.zIndex?t.popupObject.show(new N.Animation(e),t.element):t.popupObject.show(new N.Animation(e),null),N.addClass([t.inputWrapper.container],[Ut]),N.attributes(t.inputElement,{"aria-expanded":"true"}),N.attributes(t.inputElement,{"aria-owns":t.inputElement.id+"_options"}),N.attributes(t.inputElement,{"aria-controls":t.inputElement.id}),N.EventHandler.add(document,"mousedown touchstart",t.documentClickHandler,t))})},A.prototype.documentClickHandler=function(e){var t=e.target;!N.isNullOrUndefined(this.popupObject)&&(this.inputWrapper.container.contains(t)&&"mousedown"!==e.type||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),N.closest(t,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))||t===this.inputElement||t===this.timeIcon||N.isNullOrUndefined(this.inputWrapper)||t===this.inputWrapper.container||t.classList.contains("e-dlg-overlay")?t===this.inputElement||N.Browser.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(N.Browser.isIE||"edge"===N.Browser.info.name)&&t===this.popupObject.element):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())},A.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(xt))},A.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(St))},A.prototype.renderPopup=function(){var e,t,i,s=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),N.Browser.isDevice&&(this.timeModal=N.createElement("div"),this.timeModal.className=xt+" e-time-modal",document.body.className+=" "+jt,this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),N.Browser.isDevice&&(this.modelWrapper=N.createElement("div",{className:"e-datetime-mob-popup-wrap"}),this.modelWrapper.appendChild(this.dateTimeWrapper),(e=N.createElement("div",{className:"e-dlg-overlay"})).style.zIndex=(this.zIndex-1).toString(),this.modelWrapper.appendChild(e),document.body.appendChild(this.modelWrapper));this.popupObject=new H.Popup(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:N.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:N.Browser.isDevice?document.body:this.inputWrapper.container,position:N.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){s.dateTimeWrapper.style.visibility="visible",N.addClass([s.timeIcon],Lt),N.Browser.isDevice||(s.timekeyConfigure=N.extend(s.timekeyConfigure,s.keyConfigs),s.inputEvent=new N.KeyboardEvents(s.inputWrapper.container,{keyAction:s.timeKeyActionHandle.bind(s),keyConfigs:s.timekeyConfigure,eventName:"keydown"}))},close:function(){N.removeClass([s.timeIcon],Lt),s.unWireTimeListEvents(),s.inputElement.removeAttribute("aria-activedescendant"),N.remove(s.popupObject.element),s.popupObject.destroy(),s.dateTimeWrapper.innerHTML="",s.modelWrapper&&N.remove(s.modelWrapper),s.listWrapper=s.dateTimeWrapper=void 0,s.inputEvent&&s.inputEvent.destroy()},targetExitViewport:function(){N.Browser.isDevice||s.hide()}}),N.Browser.isDevice&&this.fullScreenMode?(this.popupObject.element.style.maxHeight="100%",this.popupObject.element.style.width="100%"):this.popupObject.element.style.maxHeight="250px",N.Browser.isDevice&&this.fullScreenMode&&(e=this.createElement("div",{className:"e-model-header"}),(t=this.createElement("span",{className:"e-model-title"})).textContent="Select time",i=this.createElement("span",{className:"e-popup-close"}),N.EventHandler.add(i,"mousedown touchstart",this.dateTimeCloseHandler,this),e.appendChild(i),e.appendChild(t),this.dateTimeWrapper.insertBefore(e,this.dateTimeWrapper.firstElementChild))},A.prototype.dateTimeCloseHandler=function(e){this.hide()},A.prototype.setDimension=function(e){return"number"==typeof e?e=N.formatUnit(e):"string"!=typeof e&&(e="100%"),e},A.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);return e=-1<e.indexOf("%")?(this.containerStyle.width*parseFloat(e)/100).toString()+"px":e},A.prototype.wireTimeListEvents=function(){N.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),N.Browser.isDevice||(N.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),N.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},A.prototype.unWireTimeListEvents=function(){this.listWrapper&&(N.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),N.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler),N.Browser.isDevice||(N.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),N.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},A.prototype.onMouseOver=function(e){e=N.closest(e.target,"."+Bt);this.setTimeHover(e,Ft)},A.prototype.onMouseLeave=function(){this.removeTimeHover(Ft)},A.prototype.setTimeHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),N.addClass([e],t))},A.prototype.getPopupHeight=function(){var e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return(!N.Browser.isDevice||!this.fullScreenMode)&&e<t?e:t},A.prototype.changeEvent=function(e){S.prototype.changeEvent.call(this,e),(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},A.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!N.isNullOrUndefined(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.previousDate=this.value)},A.prototype.setTimeScrollPosition=function(){var e=this.selectedElement;N.isNullOrUndefined(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},A.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),i=e.nextElementSibling,s=(i||e).offsetTop,a=e.getBoundingClientRect().height;s+e.offsetTop>t?N.Browser.isDevice&&this.fullScreenMode?this.dateTimeWrapper.querySelector(".e-content").scrollTop=i?s-(t/2+a/2):s:this.dateTimeWrapper.scrollTop=i?s-(t/2+a/2):s:this.dateTimeWrapper.scrollTop=0},A.prototype.setScrollTo=function(){var e,t,i=this.dateTimeWrapper.querySelectorAll("."+Bt);0<=i.length?(this.scrollInvoked=!0,e=this.timeCollections[0],t=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime(),t=i[Math.round((t-e)/(6e4*this.step))]):this.dateTimeWrapper.scrollTop=0,N.isNullOrUndefined(t)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(t)},A.prototype.setInputValue=function(e){"date"===e?(this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0)):(e=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex])),o.Input.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()),this.updateIconState()},A.prototype.getFullDateTime=function(){var e=null,e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate;return this.validateMinMaxRange(e)},A.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},A.prototype.combineDateTime=function(e){var t,i,s,a,n;return this.isDateObject(e)?(t=this.previousDate.getDate(),i=this.previousDate.getMonth(),s=this.previousDate.getFullYear(),a=e.getHours(),n=e.getMinutes(),e=e.getSeconds(),new Date(s,i,t,a,n,e)):this.previousDate},A.prototype.onMouseClick=function(e){var t=e.target,t=this.selectedElement=N.closest(t,"."+Bt);t&&t.classList.contains(Bt)&&(this.timeValue=t.getAttribute("data-value"),this.hide(e)),this.setSelection(t,e)},A.prototype.setSelection=function(e,t){this.isValidLI(e)&&!e.classList.contains(Lt)&&(this.selectedElement=e,e=Array.prototype.slice.call(this.liCollections).indexOf(e),this.activeIndex=e,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),N.addClass([this.selectedElement],Lt),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t))},A.prototype.setTimeActiveClass=function(){var e=N.isNullOrUndefined(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!N.isNullOrUndefined(e)){var t=e.querySelectorAll("."+Bt);if(t.length)for(var i=0;i<t.length;i++)if(this.timeCollections[i]===+this.valueWithMinutes){t[i].setAttribute("aria-selected","true"),this.selectedElement=t[i],this.activeIndex=i,this.setTimeActiveDescendant();break}}},A.prototype.setTimeActiveDescendant=function(){!N.isNullOrUndefined(this.selectedElement)&&this.value?N.attributes(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},A.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),N.isNullOrUndefined(this.selectedElement)||(N.addClass([this.selectedElement],Lt),this.selectedElement.setAttribute("aria-selected","true"))},A.prototype.removeTimeSelection=function(){var e;this.removeTimeHover(Ft),N.isNullOrUndefined(this.dateTimeWrapper)||(e=this.dateTimeWrapper.querySelectorAll("."+Lt)).length&&(N.removeClass(e,Lt),e[0].removeAttribute("aria-selected"))},A.prototype.removeTimeHover=function(e){var t=this.getTimeHoverItem(e);t&&t.length&&N.removeClass(t,e)},A.prototype.getTimeHoverItem=function(e){var t,i=N.isNullOrUndefined(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return t=N.isNullOrUndefined(i)?t:i.querySelectorAll("."+e)},A.prototype.isValidLI=function(e){return e&&e.classList.contains(Bt)&&!e.classList.contains(Ht)},A.prototype.calculateStartEnd=function(e,t,i){var s=e.getDate(),a=e.getMonth(),n=e.getFullYear(),r=e.getHours(),l=e.getMinutes(),o=e.getSeconds(),e=e.getMilliseconds();return t?"starttime"===i?new Date(n,a,s,0,0,0):new Date(n,a,s,23,59,59):new Date(n,a,s,r,l,o,e)},A.prototype.startTime=function(e){var t,i,s=this.min,e=null===e?new Date:e;return+e.getDate()==+s.getDate()&&+e.getMonth()==+s.getMonth()&&+e.getFullYear()==+s.getFullYear()||+new Date(e.getFullYear(),e.getMonth(),e.getDate())<=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(i=!1,t=this.min):+e<+this.max&&+e>+this.min?(i=!0,t=e):+e>=+this.max&&(i=!0,t=this.max),this.calculateStartEnd(t,i,"starttime")},A.prototype.TimePopupFormat=function(){var t="",i=0,s=this;return function(e){switch(e){case"d":case"dd":case"ddd":case"dddd":case"M":case"MM":case"MMM":case"MMMM":case"y":case"yy":case"yyy":case"yyyy":""===t?t+=e:t=t+"/"+e,i+=1}return 2<i&&(s.dateFormatString=t),t}},A.prototype.endTime=function(e){var t,i,s=this.max,e=null===e?new Date:e;return+e.getDate()==+s.getDate()&&+e.getMonth()==+s.getMonth()&&+e.getFullYear()==+s.getFullYear()||+new Date(e.getUTCFullYear(),e.getMonth(),e.getDate())>=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(i=!1,t=this.max):+e<+this.max&&+e>+this.min?(i=!0,t=e):+e<=+this.min&&(i=!0,t=this.min),this.calculateStartEnd(t,i,"endtime")},A.prototype.hide=function(t){var e,i=this;this.popupObj||this.dateTimeWrapper?(this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:t||null},e=this.preventArgs,N.isNullOrUndefined(this.popupObj)?this.trigger("close",e,function(e){i.dateTimeCloseEventCallback(t,e)}):this.dateTimeCloseEventCallback(t,e)):(N.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit())},A.prototype.dateTimeCloseEventCallback=function(e,t){this.preventArgs=t,this.preventArgs.cancel||(this.isDatePopupOpen()?S.prototype.hide.call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),N.removeClass([document.body],jt),N.Browser.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),N.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},A.prototype.closePopup=function(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new N.Animation({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove(Ut),N.attributes(this.inputElement,{"aria-expanded":"false"}),this.inputElement.removeAttribute("aria-owns"),this.inputElement.removeAttribute("aria-controls"),N.EventHandler.remove(document,"mousedown touchstart",this.documentClickHandler))},A.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),S.prototype.preRender.call(this),N.removeClass([this.inputElementCopy],[xt])},A.prototype.getProperty=function(e,t){"min"===t?this.setProperties({min:this.validateValue(e.min)},!0):this.setProperties({max:this.validateValue(e.max)},!0)},A.prototype.checkAttributes=function(e){for(var t,i=0,s=e?N.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];i<s.length;i++){var a,n=s[i];if(!N.isNullOrUndefined(this.inputElement.getAttribute(n)))switch(n){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(n));break;case"step":this.step=parseInt(this.inputElement.getAttribute(n),10);break;case"readonly":(N.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e)&&(a="disabled"===this.inputElement.getAttribute(n)||""===this.inputElement.getAttribute(n)||"true"===this.inputElement.getAttribute(n),this.setProperties({readonly:a},!e));break;case"placeholder":(N.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(n)},!e);break;case"min":(N.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(n)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({min:t},!e));break;case"disabled":(N.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e)&&(a="disabled"!==this.inputElement.getAttribute(n)&&"true"!==this.inputElement.getAttribute(n)&&""!==this.inputElement.getAttribute(n),this.setProperties({enabled:a},!e));break;case"value":(N.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(n)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({value:t},!e));break;case"max":(N.isNullOrUndefined(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(n)),this.isNullOrEmpty(t)||isNaN(+t)||this.setProperties({max:t},!e))}}},A.prototype.requiredModules=function(){var e=[];return"Islamic"===this.calendarMode&&e.push({args:[this],member:"islamic",name:"Islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e},A.prototype.maskedDateModule=function(){return{args:[this],member:"MaskedDateTime"}},A.prototype.getTimeActiveElement=function(){return N.isNullOrUndefined(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+Lt)},A.prototype.createDateObj=function(e){return e instanceof Date?e:null},A.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t,i,s,a,n,r,e=this.createDateObj(e),l=this.valueWithMinutes,o=!N.isNullOrUndefined(l);if(this.checkDateValue(e))return t=o?l.getDate():Mt,i=o?l.getMonth():wt,s=o?l.getFullYear():Vt,a=o?l.getHours():Nt,n=o?l.getMinutes():Ot,r=o?l.getSeconds():It,o=o?l.getMilliseconds():Tt,this.scrollInvoked?(this.scrollInvoked=!1,new Date(s,i,t,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())):new Date(s,i,t,a,n,r,o)}return null},A.prototype.findNextTimeElement=function(e){var t=this.inputElement.value,i=N.isNullOrUndefined(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),s=null,a=this.liCollections.length;if(!N.isNullOrUndefined(this.activeIndex)||!N.isNullOrUndefined(this.checkDateValue(i))){if("home"===e.action)s=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)s=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var n=0;n<a;n++)if(+i<this.timeCollections[n]){s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}}else for(n=a-1;0<=n;n--)if(+i>this.timeCollections[n]){s=+this.createDateObj(new Date(this.timeCollections[n])),this.activeIndex=n;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(N.isNullOrUndefined(s)?null:new Date(s))}},A.prototype.setTimeValue=function(e,t){t=this.validateMinMaxRange(t),t=this.createDateObj(t),this.getFormattedValue(t)!==(N.isNullOrUndefined(this.value)?null:this.getFormattedValue(this.value))?this.valueWithMinutes=N.isNullOrUndefined(t)?null:t:(this.strictMode&&(e=t),this.valueWithMinutes=this.checkDateValue(e)),t=new Date(+this.valueWithMinutes),e="Gregorian"===this.calendarMode?this.globalize.formatDate(t,{format:N.isNullOrUndefined(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}):this.globalize.formatDate(t,{format:N.isNullOrUndefined(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"});return this.strictMode||N.isNullOrUndefined(t),o.Input.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton),t},A.prototype.timeElementValue=function(e){var t;return N.isNullOrUndefined(this.checkDateValue(e))||this.isNullOrEmpty(e)?null:(t=e instanceof Date?e:this.getDateObject(e),this.setTimeValue(t,e))},A.prototype.timeKeyHandler=function(e){var t,i,s;N.isNullOrUndefined(this.step)||this.step<=0||(t=this.timeCollections.length,N.isNullOrUndefined(this.getTimeActiveElement())||0===this.getTimeActiveElement().length?0<this.liCollections.length&&(N.isNullOrUndefined(this.value)&&N.isNullOrUndefined(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e)):(i=void 0,37<=e.keyCode&&e.keyCode<=40?(s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex,this.activeIndex=s=this.activeIndex===t?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?t-1:this.activeIndex,i=N.isNullOrUndefined(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]):"home"===e.action?(this.activeIndex=0,i=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,i=this.timeCollections[t-1]),this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(i))),this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen())||null===this.selectedElement||e&&"click"===e.type||this.setTimeScrollPosition()},A.prototype.timeKeyActionHandle=function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),N.addClass([this.inputWrapper.container],At),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}},A.prototype.inputKeyAction=function(e){"altDownArrow"===e.action&&(this.strictModeUpdate(),this.updateInput(),this.toggle(e))},A.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){var a=s[i];switch(0<["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell"].indexOf(a)&&this.isReact&&(this.isDynamicValueChanged=!0),a){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),this.enableMask?o.Input.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton):o.Input.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(e,a),this.updateInput();break;case"enableRtl":o.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":N.isNullOrUndefined(t.cssClass)||(t.cssClass=t.cssClass.replace(/\s+/g," ").trim()),N.isNullOrUndefined(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),o.Input.setCssClass(e.cssClass,[this.inputWrapper.container],t.cssClass),this.dateTimeWrapper&&o.Input.setCssClass(e.cssClass,[this.dateTimeWrapper],t.cssClass);break;case"locale":this.globalize=new N.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.dateTimeOptions&&null==this.dateTimeOptions.placeholder&&(this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),o.Input.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)),this.dateTimeFormat=this.cldrDateTimeFormat(),S.prototype.updateInput.call(this);break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||o.Input.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":o.Input.setPlaceholder(e.placeholder,this.inputElement);break;case"enabled":o.Input.setEnabled(this.enabled,this.inputElement),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width),o.Input.calculateWidth(this.inputElement,this.inputWrapper.container),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"readonly":o.Input.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,o.Input.removeFloating(this.inputWrapper),o.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder),N.isNullOrUndefined(this.inputWrapper.buttons[0])||N.isNullOrUndefined(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])||"Never"===this.floatLabelType||this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),o.Input.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",o.Input.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:S.prototype.onPropertyChanged.call(this,e,t)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},A.prototype.getModuleName=function(){return"datetimepicker"},A.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value||new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=N.isNullOrUndefined(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)},P([N.Property(null)],A.prototype,"timeFormat",void 0),P([N.Property(30)],A.prototype,"step",void 0),P([N.Property(null)],A.prototype,"scrollTo",void 0),P([N.Property(1e3)],A.prototype,"zIndex",void 0),P([N.Property(null)],A.prototype,"value",void 0),P([N.Property(null)],A.prototype,"keyConfigs",void 0),P([N.Property({})],A.prototype,"htmlAttributes",void 0),P([N.Property(!1)],A.prototype,"enablePersistence",void 0),P([N.Property(!0)],A.prototype,"allowEdit",void 0),P([N.Property(!1)],A.prototype,"isMultiSelection",void 0),P([N.Property(null)],A.prototype,"values",void 0),P([N.Property(!0)],A.prototype,"showClearButton",void 0),P([N.Property(null)],A.prototype,"placeholder",void 0),P([N.Property(!1)],A.prototype,"strictMode",void 0),P([N.Property(!1)],A.prototype,"fullScreenMode",void 0),P([N.Property(null)],A.prototype,"serverTimezoneOffset",void 0),P([N.Property(new Date(1900,0,1))],A.prototype,"min",void 0),P([N.Property(new Date(2099,11,31))],A.prototype,"max",void 0),P([N.Property(null)],A.prototype,"firstDayOfWeek",void 0),P([N.Property("Gregorian")],A.prototype,"calendarMode",void 0),P([N.Property("Month")],A.prototype,"start",void 0),P([N.Property("Month")],A.prototype,"depth",void 0),P([N.Property(!1)],A.prototype,"weekNumber",void 0),P([N.Property(!0)],A.prototype,"showTodayButton",void 0),P([N.Property("Short")],A.prototype,"dayHeaderFormat",void 0),P([N.Property(!1)],A.prototype,"openOnFocus",void 0),P([N.Property(!1)],A.prototype,"enableMask",void 0),P([N.Property({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],A.prototype,"maskPlaceholder",void 0),P([N.Event()],A.prototype,"open",void 0),P([N.Event()],A.prototype,"close",void 0),P([N.Event()],A.prototype,"cleared",void 0),P([N.Event()],A.prototype,"blur",void 0),P([N.Event()],A.prototype,"focus",void 0),P([N.Event()],A.prototype,"created",void 0),P([N.Event()],A.prototype,"destroyed",void 0),P([N.NotifyPropertyChanges],A));function A(e,t){t=S.call(this,e,t)||this;return t.valueWithMinutes=null,t.scrollInvoked=!1,t.moduleName=t.getModuleName(),t.formatRegex=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yyy|yy|y|'[^']*'|'[^']*'/g,t.dateFormatString="",t.dateTimeOptions=e,t}var Rt="ArrowLeft",Yt="ArrowDown",zt="shiftTab",qt="End",P=(U.prototype.getModuleName=function(){return"MaskedDateTime"},U.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on("createMask",this.createMask,this),this.parent.on("setMaskSelection",this.validCharacterCheck,this),this.parent.on("inputHandler",this.maskInputHandler,this),this.parent.on("keyDownHandler",this.maskKeydownHandler,this),this.parent.on("clearHandler",this.clearHandler,this))},U.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off("createMask",this.createMask),this.parent.off("setMaskSelection",this.validCharacterCheck),this.parent.off("inputHandler",this.maskInputHandler),this.parent.off("keyDownHandler",this.maskKeydownHandler),this.parent.off("clearHandler",this.clearHandler))},U.prototype.createMask=function(e){this.isDayPart=this.isMonthPart=this.isYearPart=this.isHourPart=this.isMinutePart=this.isSecondsPart=!1,this.dateformat=this.getCulturedFormat(),this.parent.maskPlaceholder.day&&(this.defaultConstant.day=this.parent.maskPlaceholder.day),this.parent.maskPlaceholder.month&&(this.defaultConstant.month=this.parent.maskPlaceholder.month),this.parent.maskPlaceholder.year&&(this.defaultConstant.year=this.parent.maskPlaceholder.year),this.parent.maskPlaceholder.hour&&(this.defaultConstant.hour=this.parent.maskPlaceholder.hour),this.parent.maskPlaceholder.minute&&(this.defaultConstant.minute=this.parent.maskPlaceholder.minute),this.parent.maskPlaceholder.second&&(this.defaultConstant.second=this.parent.maskPlaceholder.second),this.parent.maskPlaceholder.dayOfTheWeek&&(this.defaultConstant.dayOfTheWeek=this.parent.maskPlaceholder.dayOfTheWeek.toString()),this.getCUltureMaskFormat();var t=this.dateformat.replace(this.formatRegex,this.formatCheck());this.isHiddenMask=!0,this.hiddenMask=this.dateformat.replace(this.formatRegex,this.formatCheck()),this.isHiddenMask=!1,this.previousHiddenMask=this.hiddenMask,this.mask=this.previousValue=t,this.parent.maskedDateValue=this.mask,this.parent.value&&(this.navigated=!0,this.isBlur=e.isBlur,this.setDynamicValue())},U.prototype.getCUltureMaskFormat=function(){this.l10n=new N.L10n(this.parent.moduleName,this.defaultConstant,this.parent.locale),this.objectString=Object.keys(this.defaultConstant);for(var e=0;e<this.objectString.length;e++)this.defaultConstant[this.objectString[e].toString()]=this.l10n.getConstant(this.objectString[e].toString())},U.prototype.validCharacterCheck=function(){for(var e=this.parent.inputElement.selectionStart,t=e="timepicker"!==this.parent.moduleName&&e===this.hiddenMask.length&&this.mask===this.parent.inputElement.value?0:e,i=e-1;t<this.hiddenMask.length||0<=i;t++,i--){if(t<this.hiddenMask.length&&-1!==this.validCharacters.indexOf(this.hiddenMask[t]))return void this.setSelection(this.hiddenMask[t]);if(0<=i&&-1!==this.validCharacters.indexOf(this.hiddenMask[i]))return void this.setSelection(this.hiddenMask[i])}},U.prototype.setDynamicValue=function(){this.maskDateValue=new Date(+this.parent.value),this.isDayPart=this.isMonthPart=this.isYearPart=this.isHourPart=this.isMinutePart=this.isSecondsPart=!0,this.updateValue(),this.isBlur||this.validCharacterCheck()},U.prototype.setSelection=function(e){for(var t=-1,i=0,s=0;s<this.hiddenMask.length;s++)this.hiddenMask[s]===e&&(i=s+1,-1===t)&&(t=s);this.parent.inputElement.setSelectionRange(t=t<0?0:t,i)},U.prototype.maskKeydownHandler=function(e){var t;if(this.dayTypeCount=this.monthTypeCount=this.hourTypeCount=this.minuteTypeCount=this.secondTypeCount=0,"Delete"===e.e.key)this.isDeleteKey=!0;else if(e.e.altKey||e.e.ctrlKey||e.e.key!==Rt&&"ArrowRight"!==e.e.key&&e.e.key!==zt&&"Tab"!==e.e.key&&e.e.action!==zt&&e.e.key!==qt&&"Home"!==e.e.key||(i=this.parent.inputElement.selectionStart,t=this.parent.inputElement.selectionEnd,a=this.parent.inputElement.value.length,0!==i||t!==a||"Tab"!==e.e.key&&e.e.action!==zt||(t=e.e.action===zt?t:0,this.parent.inputElement.selectionStart=this.parent.inputElement.selectionEnd=t),e.e.key!==qt&&"Home"!==e.e.key||(t=e.e.key===qt?a:0,this.parent.inputElement.selectionStart=this.parent.inputElement.selectionEnd=t),this.navigateSelection(e.e.key===Rt||e.e.action===zt||e.e.key===qt)),!(e.e.altKey||e.e.ctrlKey||"ArrowUp"!==e.e.key&&e.e.key!==Yt)){var i=this.parent.inputElement.selectionStart,s="",a=(-1!==this.validCharacters.indexOf(this.hiddenMask[i])&&(s=this.hiddenMask[i]),this.dateAlteration(e.e.key===Yt),this.dateformat.replace(this.formatRegex,this.formatCheck()));this.isHiddenMask=!0,this.hiddenMask=this.dateformat.replace(this.formatRegex,this.formatCheck()),this.isHiddenMask=!1,this.previousHiddenMask=this.hiddenMask,this.previousValue=a,this.parent.inputElement.value=a;for(var n=0;n<this.hiddenMask.length;n++)if(s===this.hiddenMask[n]){i=n;break}this.parent.inputElement.selectionStart=i,this.validCharacterCheck()}},U.prototype.isPersist=function(){return this.parent.isFocused||this.navigated},U.prototype.differenceCheck=function(){var e=this.parent.inputElement.selectionStart,t=this.parent.inputElement.value,i=this.previousValue.substring(0,e+this.previousValue.length-t.length),s=t.substring(0,e),a=new Date(+this.maskDateValue),n=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();if(0===i.indexOf(s)&&(0===s.length||this.previousHiddenMask[s.length-1]!==this.previousHiddenMask[s.length])){for(var r=s.length;r<i.length;r++)""!==this.previousHiddenMask[r]&&0<=this.validCharacters.indexOf(this.previousHiddenMask[r])&&(this.isDeletion=this.handleDeletion(this.previousHiddenMask[r],!1));if(this.isDeletion)return}switch(this.previousHiddenMask[e-1]){case"d":var l=(this.isDayPart&&a.getDate().toString().length<2&&!this.isPersist()?10*a.getDate():0)+parseInt(s[e-1],10);if(this.isDateZero="0"===s[e-1],this.parent.isFocused=this.parent.isFocused&&!1,this.navigated=this.navigated&&!1,isNaN(l))return;for(r=0;n<l;r++)l=parseInt(l.toString().slice(1),10);if(1<=l){if(a.setDate(l),this.isNavigate=2===l.toString().length,this.previousDate=new Date(a.getFullYear(),a.getMonth(),a.getDate()),a.getMonth()!==this.maskDateValue.getMonth())return;this.isDayPart=!0,this.dayTypeCount=this.dayTypeCount+1}else this.isDayPart=!1,this.dayTypeCount=this.isDateZero?this.dayTypeCount+1:this.dayTypeCount;break;case"M":var o,h=void 0,h=a.getMonth().toString().length<2&&!this.isPersist()?(this.isMonthPart?10*(a.getMonth()+1):0)+parseInt(s[e-1],10):parseInt(s[e-1],10);if(this.parent.isFocused=this.parent.isFocused&&!1,this.navigated=this.navigated&&!1,this.isMonthZero="0"===s[e-1],isNaN(h)){var u=this.getCulturedValue("months[stand-alone].wide"),d=Object.keys(u);for(this.monthCharacter+=s[e-1].toLowerCase();0<this.monthCharacter.length;){for(var r=1,p=0,c=d;p<c.length;p++){c[p];if(0===u[r].toLowerCase().indexOf(this.monthCharacter))return a.setMonth(r-1),this.isMonthPart=!0,void(this.maskDateValue=a);r++}this.monthCharacter=this.monthCharacter.substring(1,this.monthCharacter.length)}}else{for(;12<h;)h=parseInt(h.toString().slice(1),10);1<=h?(a.setMonth(h-1),10<=h||1===h?this.isLeadingZero&&1===h?(this.isNavigate=1===h.toString().length,this.isLeadingZero=!1):this.isNavigate=2===h.toString().length:this.isNavigate=1===h.toString().length,a.getMonth()!==h-1&&(a.setDate(1),a.setMonth(h-1)),this.isDayPart&&(f=new Date(this.previousDate.getFullYear(),this.previousDate.getMonth()+1,0).getDate(),o=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),this.previousDate.getDate()===f)&&o<=f&&a.setDate(o),this.previousDate=new Date(a.getFullYear(),a.getMonth(),a.getDate()),this.isMonthPart=!0,this.monthTypeCount=this.monthTypeCount+1,this.isLeadingZero=!1):(a.setMonth(0),this.isLeadingZero=!0,this.isMonthPart=!1,this.monthTypeCount=this.isMonthZero?this.monthTypeCount+1:this.monthTypeCount)}break;case"y":var m=(this.isYearPart&&a.getFullYear().toString().length<4&&!this.isShortYear?10*a.getFullYear():0)+parseInt(s[e-1],10),f=2!==(f=(this.dateformat.match(/y/g)||[]).length)?4:f;if(this.isShortYear=!1,this.isYearZero="0"===s[e-1],isNaN(m))return;for(;9999<m;)m=parseInt(m.toString().slice(1),10);m<1?this.isYearPart=!1:(a.setFullYear(m),m.toString().length===f&&(this.isNavigate=!0),this.previousDate=new Date(a.getFullYear(),a.getMonth(),a.getDate()),this.isYearPart=!0);break;case"h":if(this.hour=(this.isHourPart&&(a.getHours()%12||12).toString().length<2&&!this.isPersist()?10*(a.getHours()%12||12):0)+parseInt(s[e-1],10),this.parent.isFocused=this.parent.isFocused&&!1,this.navigated=this.navigated&&!1,isNaN(this.hour))return;for(;12<this.hour;)this.hour=parseInt(this.hour.toString().slice(1),10);a.setHours(12*Math.floor(a.getHours()/12)+this.hour%12),this.isNavigate=2===this.hour.toString().length,this.isHourPart=!0,this.hourTypeCount=this.hourTypeCount+1;break;case"H":if(this.hour=(this.isHourPart&&a.getHours().toString().length<2&&!this.isPersist()?10*a.getHours():0)+parseInt(s[e-1],10),this.parent.isFocused=this.parent.isFocused&&!1,this.navigated=this.navigated&&!1,isNaN(this.hour))return;for(r=0;23<this.hour;r++)this.hour=parseInt(this.hour.toString().slice(1),10);a.setHours(this.hour),this.isNavigate=2===this.hour.toString().length,this.isHourPart=!0,this.hourTypeCount=this.hourTypeCount+1;break;case"m":var v=(this.isMinutePart&&a.getMinutes().toString().length<2&&!this.isPersist()?10*a.getMinutes():0)+parseInt(s[e-1],10);if(this.parent.isFocused=this.parent.isFocused&&!1,this.navigated=this.navigated&&!1,isNaN(v))return;for(r=0;59<v;r++)v=parseInt(v.toString().slice(1),10);a.setMinutes(v),this.isNavigate=2===v.toString().length,this.isMinutePart=!0,this.minuteTypeCount=this.minuteTypeCount+1;break;case"s":var y=(this.isSecondsPart&&a.getSeconds().toString().length<2&&!this.isPersist()?10*a.getSeconds():0)+parseInt(s[e-1],10);if(this.parent.isFocused=this.parent.isFocused&&!1,this.navigated=this.navigated&&!1,isNaN(y))return;for(r=0;59<y;r++)y=parseInt(y.toString().slice(1),10);a.setSeconds(y),this.isNavigate=2===y.toString().length,this.isSecondsPart=!0,this.secondTypeCount=this.secondTypeCount+1;break;case"a":this.periodCharacter+=s[e-1].toLowerCase();for(var g=this.getCulturedValue("dayPeriods.format.wide"),b=Object.keys(g),r=0;0<this.periodCharacter.length;r++)(0===g[b[0]].toLowerCase().indexOf(this.periodCharacter)&&12<=a.getHours()||0===g[b[1]].toLowerCase().indexOf(this.periodCharacter)&&a.getHours()<12)&&(a.setHours((a.getHours()+12)%24),this.maskDateValue=a),this.periodCharacter=this.periodCharacter.substring(1,this.periodCharacter.length)}this.maskDateValue=a},U.prototype.formatCheck=function(){var m=this;return function(e){var t,i,s=m.getCulturedValue("days[stand-alone].abbreviated"),a=Object.keys(s),n=m.getCulturedValue("days[stand-alone].wide"),r=Object.keys(n),l=m.getCulturedValue("days[stand-alone].narrow"),o=Object.keys(l),h=m.getCulturedValue("months[stand-alone].abbreviated"),u=m.getCulturedValue("months[stand-alone].wide"),d=m.getCulturedValue("dayPeriods.format.wide");switch(e){case"ddd":case"dddd":case"d":t=(m.isDayPart?m.maskDateValue.getDate():m.defaultConstant.day).toString(),t=m.zeroCheck(m.isDateZero,m.isDayPart,t),2===m.dayTypeCount&&(m.isNavigate=!0,m.dayTypeCount=0);break;case"dd":t=m.isDayPart?m.roundOff(m.maskDateValue.getDate(),2):m.defaultConstant.day.toString(),t=m.zeroCheck(m.isDateZero,m.isDayPart,t),2===m.dayTypeCount&&(m.isNavigate=!0,m.dayTypeCount=0);break;case"E":case"EE":case"EEE":t=(m.isDayPart&&m.isMonthPart&&m.isYearPart?s[a[m.maskDateValue.getDay()]]:m.defaultConstant.dayOfTheWeek).toString();break;case"EEEE":t=(m.isDayPart&&m.isMonthPart&&m.isYearPart?n[r[m.maskDateValue.getDay()]]:m.defaultConstant.dayOfTheWeek).toString();break;case"EEEEE":t=(m.isDayPart&&m.isMonthPart&&m.isYearPart?l[o[m.maskDateValue.getDay()]]:m.defaultConstant.dayOfTheWeek).toString();break;case"M":t=(m.isMonthPart?m.maskDateValue.getMonth()+1:m.defaultConstant.month).toString(),t=m.zeroCheck(m.isMonthZero,m.isMonthPart,t),2===m.monthTypeCount&&(m.isNavigate=!0,m.monthTypeCount=0);break;case"MM":t=m.isMonthPart?m.roundOff(m.maskDateValue.getMonth()+1,2):m.defaultConstant.month.toString(),t=m.zeroCheck(m.isMonthZero,m.isMonthPart,t),2===m.monthTypeCount&&(m.isNavigate=!0,m.monthTypeCount=0);break;case"MMM":t=m.isMonthPart?h[m.maskDateValue.getMonth()+1]:m.defaultConstant.month.toString();break;case"MMMM":t=m.isMonthPart?u[m.maskDateValue.getMonth()+1]:m.defaultConstant.month.toString();break;case"yy":t=m.isYearPart?m.roundOff(m.maskDateValue.getFullYear()%100,2):m.defaultConstant.year.toString(),t=m.zeroCheck(m.isYearZero,m.isYearPart,t);break;case"y":case"yyy":case"yyyy":t=m.isYearPart?m.roundOff(m.maskDateValue.getFullYear(),4):m.defaultConstant.year.toString(),t=m.zeroCheck(m.isYearZero,m.isYearPart,t);break;case"h":t=(m.isHourPart?m.maskDateValue.getHours()%12||12:m.defaultConstant.hour).toString(),2===m.hourTypeCount&&(m.isNavigate=!0,m.hourTypeCount=0);break;case"hh":t=m.isHourPart?m.roundOff(m.maskDateValue.getHours()%12||12,2):m.defaultConstant.hour.toString(),2===m.hourTypeCount&&(m.isNavigate=!0,m.hourTypeCount=0);break;case"H":t=(m.isHourPart?m.maskDateValue.getHours():m.defaultConstant.hour).toString(),2===m.hourTypeCount&&(m.isNavigate=!0,m.hourTypeCount=0);break;case"HH":t=m.isHourPart?m.roundOff(m.maskDateValue.getHours(),2):m.defaultConstant.hour.toString(),2===m.hourTypeCount&&(m.isNavigate=!0,m.hourTypeCount=0);break;case"m":t=(m.isMinutePart?m.maskDateValue.getMinutes():m.defaultConstant.minute).toString(),2===m.minuteTypeCount&&(m.isNavigate=!0,m.minuteTypeCount=0);break;case"mm":t=m.isMinutePart?m.roundOff(m.maskDateValue.getMinutes(),2):m.defaultConstant.minute.toString(),2===m.minuteTypeCount&&(m.isNavigate=!0,m.minuteTypeCount=0);break;case"s":t=(m.isSecondsPart?m.maskDateValue.getSeconds():m.defaultConstant.second).toString(),2===m.secondTypeCount&&(m.isNavigate=!0,m.secondTypeCount=0);break;case"ss":t=m.isSecondsPart?m.roundOff(m.maskDateValue.getSeconds(),2):m.defaultConstant.second.toString(),2===m.secondTypeCount&&(m.isNavigate=!0,m.secondTypeCount=0);break;case"f":t=Math.floor(m.maskDateValue.getMilliseconds()/100).toString();break;case"ff":i=m.maskDateValue.getMilliseconds(),99<m.maskDateValue.getMilliseconds()&&(i=Math.floor(m.maskDateValue.getMilliseconds()/10)),t=m.roundOff(i,2);break;case"fff":t=m.roundOff(m.maskDateValue.getMilliseconds(),3);break;case"a":case"aa":t=m.maskDateValue.getHours()<12?d.am:d.pm;break;case"z":case"zz":case"zzz":case"zzzz":i={format:e,type:"dateTime",skeleton:"yMd",calendar:m.parent.calendarMode},t=m.parent.globalize.formatDate(m.maskDateValue,i)}if(t=void 0!==t?t:e.slice(1,e.length-1),m.isHiddenMask){for(var p="",c=0;c<t.length;c++)p+=e[0];return p}return t}},U.prototype.maskInputHandler=function(){var e=this.parent.inputElement.selectionStart,t="",i=(-1!==this.validCharacters.indexOf(this.hiddenMask[e])&&(t=this.hiddenMask[e]),this.differenceCheck(),this.dateformat.replace(this.formatRegex,this.formatCheck()));this.isHiddenMask=!0,this.hiddenMask=this.dateformat.replace(this.formatRegex,this.formatCheck()),this.isDateZero=this.isMonthZero=this.isYearZero=!1,this.isHiddenMask=!1,this.previousHiddenMask=this.hiddenMask,this.previousValue=i,this.parent.inputElement.value=i,this.parent.inputElement.value=i;for(var s=0;s<this.hiddenMask.length;s++)if(t===this.hiddenMask[s]){e=s;break}this.parent.inputElement.selectionStart=e,this.validCharacterCheck(),!this.isNavigate&&!this.isDeletion||this.isDeleteKey||(i=!this.isNavigate,this.isNavigate=this.isDeletion=!1,this.navigateSelection(i)),this.isDeleteKey&&(this.isDeletion=!1),this.isDeleteKey=!1},U.prototype.navigateSelection=function(e){var t=this.parent.inputElement.selectionStart,i=this.parent.inputElement.selectionEnd,s=e?t-1:i;for(this.navigated=!0;s<this.hiddenMask.length&&0<=s;){if(0<=this.validCharacters.indexOf(this.hiddenMask[s])){this.setSelection(this.hiddenMask[s]);break}s+=e?-1:1}},U.prototype.roundOff=function(e,t){for(var e=e.toString(),i=t-e.length,s="",a=0;a<i;a++)s+="0";return s+e},U.prototype.zeroCheck=function(e,t,i){return e&&!t?"0":i},U.prototype.handleDeletion=function(e,t){switch(e){case"d":this.isDayPart=t;break;case"M":(this.isMonthPart=t)||(this.maskDateValue.setMonth(0),this.monthCharacter="");break;case"y":this.isYearPart=t;break;case"H":case"h":(this.isHourPart=t)||(this.periodCharacter="");break;case"m":this.isMinutePart=t;break;case"s":this.isSecondsPart=t;break;default:return!1}return!0},U.prototype.dateAlteration=function(e){var t=this.parent.inputElement.selectionStart,i="";if(-1!==this.validCharacters.indexOf(this.hiddenMask[t])){var i=this.hiddenMask[t],s=new Date(this.maskDateValue.getFullYear(),this.maskDateValue.getMonth(),this.maskDateValue.getDate(),this.maskDateValue.getHours(),this.maskDateValue.getMinutes(),this.maskDateValue.getSeconds()),a=(this.previousDate=new Date(this.maskDateValue.getFullYear(),this.maskDateValue.getMonth(),this.maskDateValue.getDate(),this.maskDateValue.getHours(),this.maskDateValue.getMinutes(),this.maskDateValue.getSeconds()),e?-1:1);switch(i){case"d":s.setDate(s.getDate()+a);break;case"M":var n,r=s.getMonth()+a;s.setDate(1),s.setMonth(r),this.isDayPart&&(r=new Date(this.previousDate.getFullYear(),this.previousDate.getMonth()+1,0).getDate(),n=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),this.previousDate.getDate()===r)&&n<=r?s.setDate(n):s.setDate(this.previousDate.getDate()),this.previousDate=new Date(s.getFullYear(),s.getMonth(),s.getDate());break;case"y":s.setFullYear(s.getFullYear()+a);break;case"H":case"h":s.setHours(s.getHours()+a);break;case"m":s.setMinutes(s.getMinutes()+a);break;case"s":s.setSeconds(s.getSeconds()+a);break;case"a":s.setHours((s.getHours()+12)%24)}this.maskDateValue=0<s.getFullYear()?s:this.maskDateValue,-1!==this.validCharacters.indexOf(this.hiddenMask[t])&&this.handleDeletion(this.hiddenMask[t],!0)}},U.prototype.getCulturedValue=function(e){var t=this.parent.locale,t="en"===t||"en-US"===t?N.getValue(e,N.getDefaultDateObject()):N.getValue("main."+t+".dates.calendars.gregorian."+e,N.cldrData);return t},U.prototype.getCulturedFormat=function(){var e=this.getCulturedValue("dateTimeFormats[availableFormats].yMd").toString();return"datepicker"===this.parent.moduleName&&(e=this.getCulturedValue("dateTimeFormats[availableFormats].yMd").toString(),this.parent.format)&&this.parent.formatString&&(e=this.parent.formatString),"datetimepicker"===this.parent.moduleName&&(e=this.getCulturedValue("dateTimeFormats[availableFormats].yMd").toString(),this.parent.dateTimeFormat)&&(e=this.parent.dateTimeFormat),e="timepicker"===this.parent.moduleName?this.parent.cldrTimeFormat():e},U.prototype.clearHandler=function(){this.isDayPart=this.isMonthPart=this.isYearPart=this.isHourPart=this.isMinutePart=this.isSecondsPart=!1,this.updateValue()},U.prototype.updateValue=function(){this.monthCharacter=this.periodCharacter="";var e=this.dateformat.replace(this.formatRegex,this.formatCheck());this.isHiddenMask=!0,this.hiddenMask=this.dateformat.replace(this.formatRegex,this.formatCheck()),this.isHiddenMask=!1,this.previousHiddenMask=this.hiddenMask,this.previousValue=e,this.parent.updateInputValue(e)},U.prototype.destroy=function(){this.removeEventListener()},U);function U(e){this.mask="",this.defaultConstant={day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"},this.hiddenMask="",this.validCharacters="dMyhmHfasz",this.isDayPart=!1,this.isMonthPart=!1,this.isYearPart=!1,this.isHourPart=!1,this.isMinutePart=!1,this.isSecondsPart=!1,this.isMilliSecondsPart=!1,this.monthCharacter="",this.periodCharacter="",this.isHiddenMask=!1,this.isComplete=!1,this.isNavigate=!1,this.navigated=!1,this.isBlur=!1,this.formatRegex=/EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g,this.isDeletion=!1,this.isShortYear=!1,this.isDeleteKey=!1,this.isDateZero=!1,this.isMonthZero=!1,this.isYearZero=!1,this.isLeadingZero=!1,this.dayTypeCount=0,this.monthTypeCount=0,this.hourTypeCount=0,this.minuteTypeCount=0,this.secondTypeCount=0,this.parent=e,this.dateformat=this.getCulturedFormat(),this.maskDateValue=null!=this.parent.value?new Date(+this.parent.value):new Date,this.maskDateValue.setMonth(0),this.maskDateValue.setHours(0),this.maskDateValue.setMinutes(0),this.maskDateValue.setSeconds(0),this.previousDate=new Date(this.maskDateValue.getFullYear(),this.maskDateValue.getMonth(),this.maskDateValue.getDate(),this.maskDateValue.getHours(),this.maskDateValue.getMinutes(),this.maskDateValue.getSeconds()),this.removeEventListener(),this.addEventListener()}i.Calendar=j,i.CalendarBase=le,i.DatePicker=r,i.DateRangePicker=Ne,i.DateTimePicker=V,i.Islamic=e,i.MaskedDateTime=P,i.Presets=it,i.TimeMaskPlaceholder=Dt,i.TimePicker=u,Object.defineProperty(i,"__esModule",{value:!0})});
//# sourceMappingURL=ej2-calendars.umd.min.js.map
