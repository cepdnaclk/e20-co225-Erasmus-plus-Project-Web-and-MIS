{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                sDate = this.getProjectStartDate(ganttProp);\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 23 * 60 * 60 * 1000 + 59 * 60 * 1000 + 59 * 1000;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ?\n            this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ?\n            this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            var sDate = segment.startDate;\n            var eDate = segment.endDate;\n            if (this.parent.timelineModule.bottomTier === 'Hour') {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n            }\n            else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n            }\n            else {\n                duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n            }\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        var _this = this;\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n        }\n        this.parent.flatData.map(function (data) {\n            _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n        });\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (_this.parent.loadChildOnDemand || (!_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            this.constructDataSource(data);\n            if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                hierarchicalData = this.dataArray;\n            }\n            else {\n                hierarchicalData = this.hierarchyData;\n            }\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || (!this_3.parent.autoCalculateDateScheduling || (this_3.parent.isLoad &&\n                !this_3.parent.treeGrid.loadChildOnDemand && this_3.parent.taskFields.hasChildMapping))) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            var shouldLoadChild = (!this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (!this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (!this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (!this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        this.parent.chartRowsModule.updateSegment(ganttData.ganttProperties.segments, ganttData.ganttProperties.taskId);\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - 1;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && duration)) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    taskData.push(this.setSegmentTaskData(segment, segments[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttData.ganttProperties.resourceInfo;\n        var work = 0;\n        var resourceOneDayWork;\n        if (!isNullOrUndefined(resources) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? actualOneDayWork : 0));\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            this.parent.setRecordValue('durationUnit', this.parent.durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        if (!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) && ganttData.ganttProperties.resourceInfo.length !== 0) {\n                            this.updateWorkWithDuration(ganttData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if (!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) && ganttData.ganttProperties.resourceInfo.length !== 0) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        this.updateUnitWithWork(ganttData);\n                        break;\n                    case 'FixedUnit':\n                        this.updateWorkWithDuration(ganttData);\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? actualOneDayWork : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule) && !this.parent.editModule.dialogModule['isEdit'] && !this.parent.editModule.cellEditModule.isCellEdit) ? this.parent.editModule.dialogModule.ganttResources : ganttProperties.resourceInfo;\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ? totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            var isDecimalDuration = void 0;\n            if (ganttProp.duration && /^\\d+\\.\\d+$/.test(ganttProp.duration.toString()) && ganttProp.durationUnit === 'day') {\n                isDecimalDuration = /^\\d+\\.\\d+$/.test(ganttProp.duration.toString()) ? true : false;\n            }\n            left = this.getTaskLeft(sDate, milestone, false, isDecimalDuration);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var zoomOrTimeline = this.parent.currentZoomingLevel ? this.parent.currentZoomingLevel :\n            this.parent.timelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString())) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    if (ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString()) && this.parent.timelineModule.bottomTier === 'Day') {\n                        var holidaysCount = this.parent.holidays && this.parent.holidays.length > 0 ? this.getHolidaysCount(sDate, eDate) : 0;\n                        var weekendCount = !this.parent.includeWeekend ? this.getWeekendCount(sDate, eDate) : 0;\n                        return ((holidaysCount + weekendCount + ganttData.duration) * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                }\n                else {\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.parent.isInDst(sDate) || this.parent.isInDst(eDate)) {\n                    var timeDifference = this.getTimeDifference(sDate, eDate, true);\n                    var totalWidth = (timeDifference / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var sOffset = sDate.getTimezoneOffset();\n                    var eOffset = eDate.getTimezoneOffset();\n                    var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n                    if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                        tierMode = topTier['unit'];\n                        countValue = topTier['count'];\n                    }\n                    if (tierMode === 'Hour' && countValue === 1 && sOffset !== eOffset && sOffset > eOffset) {\n                        totalWidth = totalWidth - (this.parent.perDayWidth / 24);\n                    }\n                    return totalWidth;\n                }\n                else {\n                    return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getDSTTransitions = function (year) {\n        // Helper function to find the nth weekday of a month\n        function findNthWeekday(year, month, dayOfWeek, n) {\n            var firstDayOfMonth = new Date(year, month, 1);\n            var firstDayOfWeek = (firstDayOfMonth.getDay() + 7) % 7; // Adjusting to match the required dayOfWeek (0 = Sunday, 1 = Monday, etc.)\n            var offset = (dayOfWeek - firstDayOfWeek + 7) % 7;\n            return new Date(year, month, 1 + offset + (n - 1) * 7);\n        }\n        // DST start: Second Sunday in March\n        var dstStartDate = findNthWeekday(year, 2, 0, 2); // March (month index 2), Sunday (0), 2nd occurrence\n        var dstStartTime = new Date(dstStartDate.setHours(2, 0, 0)); // DST starts at 2:00 AM\n        // DST end: First Sunday in November\n        var dstEndDate = findNthWeekday(year, 10, 0, 1); // November (month index 10), Sunday (0), 1st occurrence\n        var dstEndTime = new Date(dstEndDate.setHours(2, 0, 0)); // DST ends at 2:00 AM\n        return {\n            dstStart: dstStartTime,\n            dstEnd: dstEndTime\n        };\n    };\n    TaskProcessor.prototype.hasDSTTransition = function (year) {\n        var january = new Date(year, 0, 1);\n        var july = new Date(year, 6, 1);\n        var janOffset = january.getTimezoneOffset();\n        var julOffset = july.getTimezoneOffset();\n        // If the offsets are different, it means there is a DST transition\n        return janOffset !== julOffset;\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization, isDurationDecimal) {\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var zoomOrTimeline = this.parent.currentZoomingLevel ? this.parent.currentZoomingLevel :\n            this.parent.timelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n            }\n        }\n        var leftValueForStartDate;\n        var isValid = true;\n        if ((this.parent.editModule && ((this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditAction) || (this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isEdit']) ||\n            (this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit) ||\n            this.parent.ganttChartModule.scrollObject['isSetScrollLeft'])) && !isFromTimelineVirtulization) {\n            isValid = false;\n        }\n        if (this.parent.enableTimelineVirtualization && isValid && !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            var transitions = this.getDSTTransitions(startDate.getFullYear());\n            var hasDST = this.hasDSTTransition(startDate.getFullYear());\n            if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n                var newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                if (this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && tierMode === 'Day') {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime());\n                }\n                leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            }\n            else {\n                var width = void 0;\n                if (this.parent.timelineModule.bottomTier === 'Day' && isDurationDecimal) {\n                    if (this.getSecondsInDecimal(date) !== this.parent.defaultStartTime) {\n                        var newDate = new Date(startDate.getTime());\n                        var setStartDate = new Date(newDate.setHours(0, 0, 0, 0));\n                        var duration = this.getDuration(setStartDate, startDate, 'day', true, false);\n                        width = duration * this.parent.perDayWidth;\n                        date.setHours(0, 0, 0, 0);\n                    }\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    if (this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n                        leftValue += width;\n                    }\n                }\n                else {\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                }\n            }\n            var timelineStartTime = timelineStartDate.getTime();\n            var dstStartTime = transitions['dstStart'].getTime();\n            var isBeforeOrAtDSTStart = timelineStartTime <= dstStartTime;\n            if (this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && isBeforeOrAtDSTStart && tierMode === 'Day' && hasDST && this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n                if ((leftValue % this.parent.perDayWidth) != 0) {\n                    var leftDifference = this.parent.perDayWidth - (leftValue % this.parent.perDayWidth);\n                    leftValue = leftValue + leftDifference;\n                }\n            }\n            if (this.parent.isInDst(timelineStartDate) && !this.parent.isInDst(startDate) && (this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour')) {\n                leftValue = leftValue - this.parent.timelineSettings.timelineUnitSize;\n            }\n            var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n            if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                tierMode = topTier['unit'];\n                countValue = topTier['count'];\n            }\n            if (countValue === 1 && tierMode === 'Hour' && startDate >= transitions['dstStart'] && isBeforeOrAtDSTStart && hasDST) {\n                leftValue = leftValue - (this.parent.perDayWidth / 24);\n            }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            return (stDate.getTime() - segmentTaskStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (typeof (preTaskResources) !== 'string') {\n                var _loop_4 = function (k) {\n                    resourceData.filter(function (resourceInfo) {\n                        if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                            && data_1.indexOf(preTaskResources[k]) === -1) {\n                            data_1.push(preTaskResources[k]);\n                        }\n                    });\n                };\n                for (var k = 0; k < preTaskResources.length; k++) {\n                    _loop_4(k);\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) && !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1;\n            var resourceIds = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds.length === 0) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIdCollection === resourceInfo[_this.parent.resourceFields.name]) {\n                        resource_1 = [resourceInfo];\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration)) && !(this.parent.viewType === 'ResourceView' && tempDuration['duration'] === 0 && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit)) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        for (var count = 1; count < tasks.length; count++) {\n            currentTask = tasks[count];\n            var cStartDate = void 0;\n            var cEndDate = void 0;\n            if (currentTask.ganttProperties.startDate) {\n                cStartDate = new Date(currentTask.ganttProperties.startDate.getTime());\n            }\n            if (currentTask.ganttProperties.endDate) {\n                cEndDate = new Date(currentTask.ganttProperties.endDate.getTime()); //task 2\n            }\n            var range = [];\n            // eslint-disable-next-line\n            var rangeObj = {};\n            for (var index = 0; index < count; index++) {\n                var tStartDate = tasks[index].ganttProperties.startDate;\n                var tEndDate = tasks[index].ganttProperties.endDate; // task 1\n                var rangeObj_1 = {};\n                if (cStartDate && cEndDate && tEndDate\n                    && (this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                        || this._isInEndDateRange(cEndDate, tStartDate, tEndDate))) {\n                    if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                        && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                        || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    range.push(rangeObj_1);\n                }\n            }\n            // eslint-disable-next-line\n            ranges.push.apply(ranges, this.mergeRangeCollections(range));\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            this.updateTaskLeftWidth(data);\n        }\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data) {\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad &&\n            !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping))) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var childData = [];\n        var parentItem;\n        if (data.parentItem) {\n            parentItem = this.parent.getParentTask(data.parentItem);\n            childData = parentItem.childRecords;\n        }\n        if (parentItem && childData.indexOf(data) === childData.length - 1 && !data.hasChildRecords && this.parent.enableValidation) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n            if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n        else if (parentItem && !this.parent.enableValidation) {\n            this.updateWidthLeft(parentItem);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress), ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping))\n            || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var progressValues = {};\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData = void 0;\n                var isChildBoth = void 0;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    if (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) {\n                        return true;\n                    }\n                    return false;\n                });\n                isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : isChildBoth;\n                var _loop_6 = function (count) {\n                    childData = (!this_4.parent.loadChildOnDemand && this_4.parent.taskFields.hasChildMapping) ?\n                        this_4.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_4.parent.isOnDelete && childData.isDelete) {\n                        if (childLength === 1 && this_4.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var _a = this_4.isUnscheduledTask(childData.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_4.getValidStartDate(childData.ganttProperties);\n                    if (parentData.hasChildRecords && !ganttProp.isAutoSchedule\n                        && !isNullOrUndefined(childData.ganttProperties.autoStartDate)) {\n                        startDate = childData.ganttProperties.autoStartDate;\n                    }\n                    var endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.endDate : this_4.getValidEndDate(childData.ganttProperties);\n                    if (parentData.hasChildRecords && !ganttProp.isAutoSchedule\n                        && !isNullOrUndefined(childData.ganttProperties.autoEndDate)) {\n                        endDate = childData.ganttProperties.autoEndDate;\n                    }\n                    if (isNullOrUndefined(minStartDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_4.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_4.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    var condition = (!childData.ganttProperties.isMilestone &&\n                        isScheduledTask(childData.ganttProperties)) ? true : false;\n                    if (condition) {\n                        progressValues = this_4.getParentProgress(childData);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        if (childData[this_4.parent.taskFields.duration] < 1) {\n                            totalDuration += getValue('totalDuration', progressValues);\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                        else {\n                            totalDuration += getValue('totalDuration', progressValues);\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_4 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_6(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = void 0;\n                    if (this.parent.isOnDelete && childData.isDelete) {\n                        taskCount = childLength - milestoneCount - 1;\n                    }\n                    else {\n                        taskCount = childLength - milestoneCount;\n                    }\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        this.calculateDuration(parentData);\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            //  parentData.ganttProperties.endDate = parentData.taskData[this.parent.taskFields.endDate];\n            this.parent.setRecordValue('endDate', parentData.taskData[this.parent.taskFields.endDate], parentData.ganttProperties, true);\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping))\n                || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction']) {\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        if (leftSign) {\n            scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        }\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization || (!this.parent.enableTimelineVirtualization &&\n            this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.isGanttElement = false;\n        this.currentToolbarIndex = -1;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    /*get height for range bar*/\n    GanttChart.prototype.getRangeHeight = function (data) {\n        if (!data.expanded && data.hasChildRecords) {\n            return (this.parent.rowHeight - Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight)));\n        }\n        return (data.childRecords.length * this.parent.rowHeight) -\n            Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight));\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            topValue = !currentRecord.expanded ? this.parent.getRowByIndex(rowIndex).offsetTop :\n                this.parent.getRowByIndex(rowIndex).offsetTop + this.parent.rowHeight;\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar && !this.isCollapseAll) {\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n            && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n            formatUnit(this.parent.element.offsetWidth * 3)\n            : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.getExpandedRecords(this.parent.currentViewData);\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editSettings.allowTaskbarEditing) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args, isCancel) {\n        var _this = this;\n        if (isCancel) {\n            this.collapsedGanttRow(args);\n        }\n        else {\n            this.parent.trigger('collapsing', args, function (arg) {\n                if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                    _this.collapsedGanttRow(arg);\n                }\n                _this.isExpandCollapseFromChart = false;\n            });\n        }\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            return;\n        }\n        var record;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args, isCancel) {\n        var _this = this;\n        if (isCancel) {\n            this.expandedGanttRow(args);\n        }\n        else {\n            this.parent.trigger('expanding', args, function (arg) {\n                if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                    _this.expandedGanttRow(arg);\n                }\n                _this.isExpandCollapseFromChart = false;\n            });\n        }\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            return;\n        }\n        var record;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n        EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                next = this.getNextElement(next, isTab, isInEditedState);\n                currentColumn = this.parent.ganttColumns[next.getAttribute('data-colindex')];\n                rowIndex = parseInt(next.parentElement.getAttribute('data-rowindex'));\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[next.getAttribute('data-colindex')].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('data-colindex'), 10);\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        e.action == 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[nextElement.getAttribute('data-colindex')].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName); // eslint-disable-line\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            var row = this.parent.flatData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.flatData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('data-rowindex')) !== 0 &&\n                            parseInt(next.getAttribute('data-colindex')) === 0 &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('data-rowindex'))];\n                            if (rowData.hasChildRecords && this.parent.ganttColumns[next.getAttribute('data-colindex')].field ===\n                                this.parent.taskFields.progress) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains(\"e-timeline-header-container\") && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.grid.getRowByIndex(rowIndex);\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.grid.getRowByIndex(nextRowIndex) : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, addClass, removeClass, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.performedTimeSpanAction = false;\n        this.isZoomedToFit = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        this.isZoomToFit = false;\n        this.isZoomedToFit = false;\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {};\n            previousTimeline['action'] = action;\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (!isNullOrUndefined(this.parent.zoomingProjectStartDate)) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = null;\n        this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel;\n        var level = isZoomIn ? currentZoomingLevel + 1 : currentZoomingLevel - 1;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        if (foundLevel) {\n            currentLevel = level;\n        }\n        else {\n            currentLevel = currentZoomingLevel;\n        }\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (!args.cancel) {\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            if (this.wholeTimelineWidth <= this.totalTimelineWidth) {\n                this.wholeTimelineWidth = this.totalTimelineWidth;\n            }\n            this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n            this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        this.changeTimelineSettings(newTimeline);\n        this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            addClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                addClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        else {\n            removeClass([this.parent.ganttChartModule.chartTimelineContainer], cls.timelineSingleHeaderOuterDiv);\n            if (this.parent.treeGrid.element) {\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                removeClass(this.parent.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n            }\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'Auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            this.wholeTimelineWidth = this.totalTimelineWidth;\n            if (this.parent.height === 'Auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesB.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            virtualTrackStylesB.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            if (isFirstCell && mode === 'Month') {\n                newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n            }\n            else {\n                increment = Math.abs(this.getIncrement(startDate, count, mode));\n                newTime = startDate.getTime() + increment;\n            }\n            var dubStartDate = new Date(startDate.getTime());\n            isFirstCell = false;\n            startDate.setTime(newTime);\n            var dubStartHour = dubStartDate.getHours();\n            var startHour = startDate.getHours();\n            var difference = startHour - dubStartHour;\n            if (difference != count && difference > 1) {\n                if ((!this.parent.isInDst(startDate) && this.parent.isInDst(dubStartDate)) ||\n                    (this.parent.isInDst(startDate) && !this.parent.isInDst(dubStartDate))) {\n                    if (startDate.getTimezoneOffset() > dubStartDate.getTimezoneOffset()) {\n                        startDate.setTime(startDate.getTime() - ((1000 * 60 * 60) * (difference - count)));\n                    }\n                    var differenceIncrement = ((increment / 60000) / count);\n                    if (mode === 'Minutes' && differenceIncrement != difference && count === 15) {\n                        startDate.setTime(startDate.getTime() - (60000 * (count * difference)));\n                    }\n                }\n            }\n            if (startDate.getHours() === 5 && count === 2 && tier === 'bottomTier' &&\n                parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n            }\n            if (startDate.getHours() === 8 && count === 12 && tier === 'bottomTier' &&\n                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 8));\n            }\n            if (startDate >= endDate) {\n                /* eslint-disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh.appendChild(parentTr);\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                if (tier === 'topTier') {\n                    this.pdfExportTopTierCollection.push(timelineCell);\n                }\n                else {\n                    this.pdfExportBottomTierCollection.push(timelineCell);\n                }\n            }\n            else {\n                tierCollection.push(timelineCell);\n            }\n            width += timelineCell.width;\n            this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            var contentWidth = contentElement['offsetWidth'];\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                widthDiff = Math.round(widthDiff / perDayWidth);\n                endDate.setDate(endDate.getDate() + widthDiff);\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} isFirstCell .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = lastDay.getTime() - firstDay.getTime();\n                break;\n            case 'Week':\n                {\n                    var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                    var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                        (6 - startDate.getDay()) + dayIndex;\n                    count = dayIntervel > 0 ? count - 1 : 0;\n                    lastDay.setHours(24, 0, 0, 0);\n                    dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                        dayIntervel - 1 : dayIntervel : dayIntervel;\n                    lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                    increment = lastDay.getTime() - firstDay.getTime();\n                    break;\n                }\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n            case 'Hour':\n                {\n                    lastDay.setMinutes(60);\n                    lastDay.setSeconds(0);\n                    increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                    var date = new Date(lastDay);\n                    date.setTime(date.getTime() + increment);\n                    if (isFirstCell && count === 12) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(0, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    if (isFirstCell && count === 6) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(6, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                    break;\n                }\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n        }\n        return increment;\n    };\n    Timeline.prototype.checkDate = function (firstDay, lastDay, increment, count, mode) {\n        var date = new Date(firstDay.getTime());\n        date.setTime(date.getTime() + increment);\n        if (mode === 'Day' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Hour' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Minutes' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.getDateFormat() }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = (this.getIncrement(scheduleWeeks, count, mode, isFirstCell) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        var incrementValue = this.getIncrement(scheduleWeeks, count, mode);\n        var newDate = new Date(scheduleWeeks.getTime() + incrementValue);\n        var dubNewDate = new Date(scheduleWeeks.getTime() + ((60 * 60 * 1000) * count));\n        var newDateOffset = newDate.getTime();\n        var dubNewDateOffset = dubNewDate.getTime();\n        var timelineStartDate = this.parent.timelineModule.timelineStartDate;\n        var timelineStartTime = timelineStartDate.getTime();\n        var transitions = this.parent.dataOperation.getDSTTransitions(scheduleWeeks.getFullYear());\n        var dstStartTime = transitions['dstStart'].getTime();\n        if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks)) ||\n            (this.parent.isInDst(newDate) && !this.parent.isInDst(scheduleWeeks)) || (newDateOffset != dubNewDateOffset && dubNewDateOffset > newDateOffset &&\n            timelineStartTime <= dstStartTime)) {\n            var temp = void 0;\n            var totalHour = 0;\n            var incrementHour = incrementValue / (1000 * 60 * 60);\n            if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks))) {\n                switch (mode) {\n                    case 'Hour':\n                        totalHour = 1 * count;\n                        break;\n                    case 'Day':\n                        totalHour = 24 * count;\n                        break;\n                    case 'Week':\n                        totalHour = 7 * 24 * count;\n                        break;\n                    case 'Minutes':\n                        totalHour = count / 60;\n                        break;\n                }\n                if (incrementHour != totalHour && incrementHour > totalHour) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) - ((1000 * 60 * 60) * (incrementHour - totalHour));\n                    thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    if (thWidth === 0 && mode === 'Minutes') {\n                        var perMinuteWidth = this.parent.perDayWidth / 1440;\n                        thWidth = perMinuteWidth * count;\n                    }\n                }\n            }\n            else {\n                var zoomOrTimeline = this.parent.currentZoomingLevel ? this.parent.currentZoomingLevel :\n                    this.parent.timelineSettings;\n                var bottomTierSettings = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'] :\n                    zoomOrTimeline['topTier'];\n                var bottomTierCountIsOneAndUnitIsHour = (bottomTierSettings.count === 1 && bottomTierSettings.unit === 'Hour');\n                switch (mode) {\n                    case 'Hour':\n                        totalHour = 1 * count;\n                        break;\n                    case 'Day':\n                        totalHour = 24 * count;\n                        break;\n                    case 'Week':\n                        totalHour = 7 * 24 * count;\n                        break;\n                    case 'Minutes':\n                        totalHour = count / 60;\n                        break;\n                }\n                if (incrementHour != totalHour && incrementHour < totalHour && !(tier === 'topTier' && bottomTierCountIsOneAndUnitIsHour)) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) + (1000 * 60 * 60);\n                    thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    if (thWidth === 0 && mode === 'Minutes') {\n                        var perMinuteWidth = this.parent.perDayWidth / 1440;\n                        thWidth = perMinuteWidth * count;\n                    }\n                }\n            }\n        }\n        var cellWidth = thWidth;\n        thWidth = isLast || (isFirstCell && mode !== 'Hour') ? isLast ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate) :\n            this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n            : thWidth;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var balanceDay = (timeDifference / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var minEndDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) &&\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                if (!isNullOrUndefined(minStartDate) && !isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === \"CellEditing\" || action === \"DialogEditing\") && this.parent.allowUnscheduledTasks) {\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), minEndDate.getTime()));\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), this.timelineStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                else if (isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === \"CellEditing\" || action === \"DialogEditing\") && this.parent.allowUnscheduledTasks && tempArray[0].length === 1 && !isNullOrUndefined(tempArray[0][0].ganttProperties.endDate)) {\n                    minStartDate = new Date(Math.min(tempArray[0][0].ganttProperties.endDate.getTime(), minStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3 || (isNullOrUndefined(this.parent.projectStartDate) && isNullOrUndefined(this.parent.projectEndDate)))) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired } from './utils';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        this.parent.treeGrid.appendTo(this.treeGridElement);\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (!this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        if (scrollWidth !== 0) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings && this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.allowTaskbarOverlap && !this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow']) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.allowTaskbarOverlap && !this.parent.ganttChartModule.isExpandAll && args['row']) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit' && !args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if (!this.parent.undoRedoModule['isFromUndoRedo'] && (!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length))) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(getValue('batchChanges', args)) && !isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings && this.parent.selectionSettings.persistSelection && this.parent.editModule.isAdded) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings && this.parent.selectionSettings.persistSelection\n                    && this.parent.editModule && !this.parent.editModule.isAdded) {\n                    var selectedRecords = this.parent.selectionModule.getSelectedRecords();\n                    var _loop_1 = function (i) {\n                        var selectedTaskId = selectedRecords[i][this_1.parent.taskFields.id];\n                        var existIndeletedRecords = this_1.parent.editModule.deletedRecord.some(function (item) {\n                            return item.ganttProperties.taskId === selectedTaskId;\n                        });\n                        if (existIndeletedRecords) {\n                            selectedRecords.splice(i, 1);\n                        }\n                    };\n                    var this_1 = this;\n                    for (var i = selectedRecords.length - 1; i >= 0; i--) {\n                        _loop_1(i);\n                    }\n                }\n                var indexvalue_1 = 0;\n                this.parent.currentViewData.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id])) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            this.parent.addDeleteRecord = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n        if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_2 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_2.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_2.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_2.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_2.createTreeGridColumn(column, true);\n                this_2.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_2(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    column.template = '<div class=\"e-ganttnotes-info\">' +\n                        '<span class=\"e-icons e-notes-info\"></span></div>';\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (data && data.ganttProperties && !isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_1 = \"\";\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_1 = predecessorsName.split(\",\");\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(\"FS\")) {\n                    value_1 += splitvalue.replace(\"FS\", _this.parent.localeObj.getConstant(\"FS\"));\n                    value_1 += (splitString_1.length !== index + 1) ? \",\" : \"\";\n                }\n                else if (splitvalue.includes(\"FF\")) {\n                    value_1 += splitvalue.replace(\"FF\", _this.parent.localeObj.getConstant(\"FF\"));\n                    value_1 += (splitString_1.length !== index + 1) ? \",\" : \"\";\n                }\n                else if (splitvalue.includes(\"SS\")) {\n                    value_1 += splitvalue.replace(\"SS\", _this.parent.localeObj.getConstant(\"SS\"));\n                    value_1 += (splitString_1.length !== index + 1) ? \",\" : \"\";\n                }\n                else if (splitvalue.includes(\"SF\")) {\n                    value_1 += splitvalue.replace(\"SF\", _this.parent.localeObj.getConstant(\"SF\"));\n                    value_1 += (splitString_1.length !== index + 1) ? \",\" : \"\";\n                }\n            });\n            return value_1;\n        }\n        return \"\";\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines working time of day in project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get resource details from resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines working time of day in project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.taskBaselineTemplateNode = null;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\"style=\"line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                (segment.showProgress ? this.getSplitProgressResizerNode(segment) : '') +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function (segment) {\n        var width = this.parent.enableRtl ? (segment.progressWidth + 8) : (segment.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.updateSegment(mergeData.ganttProperties.segments, taskId);\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.updateSegment = function (segmentData, taskId) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n            if (!isNullOrUndefined(segmentData)) {\n                var segmentsArray = [];\n                for (var i = 0; i < segmentData.length; i++) {\n                    var segmentObj = {};\n                    var segment = segmentData[i];\n                    segmentObj[this.parent.taskFields.segmentId] = taskId;\n                    if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n                        segmentObj[this.parent.taskFields.startDate] = segment.startDate;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        segmentObj[this.parent.taskFields.duration] = segment.duration;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n                        segmentObj[this.parent.taskFields.endDate] = segment.endDate;\n                    }\n                    segmentsArray.push(segmentObj);\n                }\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                for (var i = 0; i < segmentsArray.length; i++) {\n                    filterData.push(segmentsArray[i]);\n                }\n                this.parent.segmentData = filterData;\n            }\n            else {\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                this.parent.segmentData = filterData;\n            }\n        }\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateParentItems(data);\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + 1 + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>' + innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;>' + '</div></div>' : '');\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration !== 0 || data.hasChildRecords) ? template : milestoneTemplate);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data['isManual'] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) +\n                        'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data['isManual'] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        table.innerHTML = '<tr class=\"' + this.getRowClassName(this.templateData) + ' ' + cls.chartRow + ' ' + (activecls) + '\"' +\n            'style=\"display:' + this.getExpandDisplayProp(this.templateData) + ';height:' +\n            this.parent.rowHeight + 'px;\">' +\n            '<td class=\"' + cls.chartRowCell + ' ' + className\n            + '\"style=\"width:' + this.parent.timelineModule.totalTimelineWidth + 'px;\"></td></tr>';\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = createElement('div');\n        div.innerHTML = template;\n        return div.childNodes;\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('data-rowindex', index.toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                if (tempTemplateData.hasChildRecords && (!tempTemplateData.expanded) && this.parent.enableMultiTaskbar\n                    && !this.parent.allowTaskbarOverlap) {\n                    this.updateDragDropRecords(tempTemplateData, tRow);\n                }\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('data-rowindex'), 10));\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n            tRow.setAttribute('data-rowindex', index.toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        var currentData = data;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            if (this.parent.enableMultiTaskbar) {\n                var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n                for (var i = 0; i < taskbarElements.length; i++) {\n                    taskbarElement = taskbarElements[i];\n                    currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                    var id = this.parent.viewType === 'ResourceView' ?\n                        taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                    trElement = this.parent.getRowByID(id);\n                    trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                    if (trElement) {\n                        this.customizeTaskbars(currentData, trElement, taskbarElement);\n                    }\n                }\n            }\n            else {\n                var taskbarElement_1 = trElement.querySelector('.' + cls.taskBarMainContainer);\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement_1);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                }\n            }\n            this.parent.renderTemplates();\n            if (data.hasChildRecords && this.parent.showOverAllocation && this.parent.allowTaskbarOverlap) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    this.parent.dataOperation.updateOverlappingValues(data);\n                    this.parent.ganttChartModule.renderRangeContainer([data]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data);\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data.ganttProperties.taskId : data.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data);\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[tr.getAttribute('data-rowindex')].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        var length = predecessorTasks.length - 1;\n        for (var count = length; count >= 0; count--) {\n            var ganttData = predecessorTasks[count];\n            var ganttProp = ganttData.ganttProperties;\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttProp);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    record[task.startDate] = this.parent.projectStartDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var lengthToSlice = void 0;\n                if (el.includes(_this.parent.localeObj.getConstant('days'))) {\n                    lengthToSlice = lastPart.includes('.') ? 11 : 9;\n                }\n                else if (el.includes(_this.parent.localeObj.getConstant('day'))) {\n                    lengthToSlice = lastPart.includes('.') ? 10 : 8;\n                }\n                else {\n                    lengthToSlice = 2;\n                }\n                predecessorName = el.slice(-lengthToSlice).toString();\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (_this.parent.connectorLineEditModule && toData && fromData) {\n                    isValid = _this.parent.connectorLineEditModule.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule.cellEditModule &&\n                            _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function () {\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection) {\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function () {\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = this.parent.flatData.length;\n        for (var count = 0; count < totLength; count++) {\n            if (flatData[count].ganttProperties.predecessorsName) {\n                this.validatePredecessorDates(flatData[count]);\n                var predecessorCollection = flatData[count].ganttProperties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var i = 0; i < predecessorCollection.length; i++) {\n                        var validateRecord = this.parent.getRecordByID(predecessorCollection[i].to);\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord);\n                        }\n                    }\n                }\n                if (flatData[count].hasChildRecords && this.parent.editModule &&\n                    flatData[count].ganttProperties.startDate\n                    && this.parent.allowParentDependency) {\n                    this.updateChildItems(flatData[count]);\n                }\n                if (flatData[count].parentItem && !this.parent.isLoad) {\n                    var recordId = flatData[count].parentItem.taskId;\n                    this.traverseParents(this.parent.getRecordByID(recordId));\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function () {\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord) {\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord) {\n        if (this.parent.editedTaskBarItem === childGanttRecord || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection) {\n        var _this = this;\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    var date = new Date(tempDate);\n                    date.setDate(date.getDate() - 1);\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                if (ganttProperty.segments && ganttProperty.segments.length !== 0) {\n                    var duration = this.dateValidateModule.getDuration(ganttProperty.startDate, ganttProperty.endDate, ganttProperty.durationUnit, ganttProperty.isAutoSchedule, ganttProperty.isMilestone);\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                else {\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            ganttRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneCurrentViewData'];\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                if (ganttRecords[count].parentItem) {\n                    var parentItem = this.parent.getRecordByID(ganttRecords[count].parentItem.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection) {\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor) {\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.parent.connectorLineEditModule.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        this.storeId = JSON.parse(JSON.stringify(this.parent.ids));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = (this.storeId.indexOf(record[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(record[this.parent.taskFields.id].toString()) : -1;\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        this.svgObject.setAttribute('width', '100%');\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor) {\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.getExpandedRecords(this.parent.currentViewData);\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            connectorObj.rowHeight = !isNullOrUndefined(this.parent.ganttChartModule.getChartRows()) &&\n                this.parent.ganttChartModule.getChartRows()[0] &&\n                this.parent.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine = '';\n        var ariaConnector = [];\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = connectorLine + this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        this.svgObject.innerHTML = connectorLine;\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType1';\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType2';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType1';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'FF') {\n                    return 'FFType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (data.parentLeft < data.childLeft || ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    // eslint-disable-next-line\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function (data) {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (data.parentIndex * this.parent.rowHeight) > (data.childIndex * this.parent.rowHeight) ?\n                ((data.parentIndex * this.parent.rowHeight) - (data.childIndex * this.parent.rowHeight)) :\n                ((data.childIndex * this.parent.rowHeight) - (data.parentIndex * this.parent.rowHeight));\n        }\n        else {\n            return (data.parentIndex * data.rowHeight) > (data.childIndex * data.rowHeight) ?\n                ((data.parentIndex * data.rowHeight) - (data.childIndex * data.rowHeight)) :\n                ((data.childIndex * data.rowHeight) - (data.parentIndex * data.rowHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    ConnectorLine.prototype.getBorderStyles = function (cssType, unit) {\n        var borderWidth = 'border-' + cssType + '-width:' + unit + 'px;';\n        var borderStyle = 'border-' + cssType + '-style:solid;';\n        var borderColor = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n        return (borderWidth + borderStyle + borderColor);\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        var height = this.getHeightValue(data);\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var isVirtual = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -5 : data.milestoneChild ? 5 : 0;\n        }\n        var heightValue = isVirtual ? connectorLine.height : (height + isMilestoneValue);\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n            if (!this.parent.enableVirtualization) {\n                heightValue = Math.abs(parentOverlapTopValue - childOverlapTopValue);\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n            }\n        }\n        if (this.getParentPosition(data)) {\n            // Create the group element\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': 1\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.setAttribute('style', \"stroke: \" + outlineColor);\n            this.arrowlinePath.setAttribute('style', \"fill: \" + outlineColor);\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            if (this.getParentPosition(data) === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x1 + this.x2 + 20) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 + this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 + this.y2 + 4) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = (this.parent.enableVirtualization ?\n                    rowPositionHeight : ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                    (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x4) + ' ' + this.y4 + ' L ' + (this.x1 + this.x4) + ' ' + (this.y1 + this.y2 + this.y3) + ' L ' + (this.x1 + this.x4 + 12) + ' ' + (this.y1 + this.y2 + this.y3);\n                this.arrowPath = 'M ' + (this.x1 + this.x4 + 20) + ' ' + (this.y1 + this.y2 + this.y3) +\n                    ' L ' + (this.x1 + this.x4 + 12) + ' ' + (this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x4 + 12) + ' ' + (this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                        (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1 + (this.parent.renderBaseline ?\n                    (data.milestoneChild && !(data.milestoneParent) ? 11 :\n                        data.milestoneParent && !(data.milestoneChild) ? -12 : 0) : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + (this.x1 + 20) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType4') {\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 11 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2) + ' ' + this.y2 +\n                    ' L ' + this.x1 + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + this.x2 + 20) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x2 + 12) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType4') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                    data.milestoneChild && !(data.milestoneParent) ? -13 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + 10) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + this.x2 + 8) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x2) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = (data.milestoneChild ? 1 : 0) + (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -11 :\n                    data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + this.x2) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + 20) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType2') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y2 +\n                    ' L ' + (this.x1 + setInnerElementWidthSSType2) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + setInnerElementWidthSSType2 + 8) + ' ' + (this.y2) +\n                    ' L ' + (this.x1 + setInnerElementWidthSSType2) + ' ' + (this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + setInnerElementWidthSSType2) + ' ' + (this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y2 +\n                    ' L ' + (this.x1 + 12) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x1 + 20) + ' ' + (this.y2) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 12) + ' ' + (this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + this.x1 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y1 + this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y1 + this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType2') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(data.milestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x3 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x3 - 8) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x3 + ' ' + (this.y1 + this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + this.x3 + ' ' + (this.y1 + this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 : data.milestoneChild && !(data.milestoneParent) ? -11 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType4') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                        data.milestoneChild && !(data.milestoneParent) ? -12 : 0) : 0) - this.lineStroke + 1;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x2 - 8) + ' ' + (this.y1) +\n                    ' L ' + this.x2 + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + this.x2 + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType4') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2 + (data.milestoneChild ? 2 : 0) + (this.parent.renderBaseline ? (data.milestoneParent ? -5 : 0) : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -9 :\n                    data.milestoneParent && !(data.milestoneChild) ? 9 : 0) : 0);\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + 11) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + (this.x2 - 8) + ' ' + (this.y1) +\n                    ' L ' + this.x2 + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + this.x2 + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + this.y2 + ' L ' + (this.x3 + this.point1) + ' ' + this.y2;\n                this.arrowPath = 'M ' + (this.x2 - 8) + ' ' + (this.y1) +\n                    ' L ' + this.x2 + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + this.x2 + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.point2) + ' L ' + (this.x1 + this.x3) + ' ' + (this.y2 + this.point2);\n                this.arrowPath = 'M ' + (this.x1 + this.x3 - 8) + ' ' + (this.y2 + this.point2) +\n                    ' L ' + (this.x1 + this.x3) + ' ' + (this.y2 + this.point2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + this.x3) + ' ' + (this.y2 + this.point2 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType2') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + this.y2 + ' L ' + (this.x1 + 8) + ' ' + this.y2;\n                this.arrowPath = 'M ' + this.x1 + ' ' + (this.y2) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y2 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x1 + 8) + ' ' + (this.y2 + 4 + this.lineStroke) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject.outerHTML;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var isMilestoneParent = data.milestoneParent ? true : false;\n            var isMilestone = data.milestoneChild ? true : false;\n            var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n            var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n            var isParentIndex = data.parentIndexInCurrentView !== -1;\n            var isChildIndex = data.childIndexInCurrentView !== -1;\n            var lastRowIndex = this.parent.currentViewData.length - 1;\n            if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPointParent : (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n                type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n            else if (type === 'FSType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var innerTd = '<tr  id=\"fromPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('from') + '</td><td> ';\n        innerTd = innerTd + fromTaskName + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(fromPredecessorText) + ' </td> </tr>';\n        innerTd = innerTd + '<tr id=\"toPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('to') + '</td><td> ' + toTaskName;\n        innerTd = innerTd + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(toPredecessorText) + ' </td></tr></tbody><table>';\n        return innerTd;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else {\n            return this.parent.viewType === 'ResourceView' ? this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())] :\n                this.parent.flatData[this.parent.ids.indexOf(id.toString())];\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id.replace(/([\\.])/g, '\\\\$1'));\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enablePersistence: this.parent.enablePersistence,\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.splitterObject.paneSettings[1].size = (_this.parent.ganttWidth - parseInt(_this.splitterPreviousPositionGrid, 10) - 4) + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        this.splitterObject.paneSettings[0].size = splitterPosition;\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n            }\n            if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = typeof (durationValue) === 'string' ? SanitizeHtmlHelper.sanitize(durationValue) : durationValue;\n                        progressValue = typeof (progressValue) === 'string' ? SanitizeHtmlHelper.sanitize(progressValue) : progressValue;\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td style=\"padding: 2px;\">:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = !isNullOrUndefined(data.progress) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td style=\"padding: 2px;\">:</td><td>' + progressValue +\n                        '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = typeof (baselineStartDateValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(baselineStartDateValue_1) : baselineStartDateValue_1;\n                        baselineEndDateValue_1 = typeof (baselineEndDateValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(baselineEndDateValue_1) : baselineEndDateValue_1;\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = typeof (markerLabel_1) === 'string' ? SanitizeHtmlHelper.sanitize(markerLabel_1) : markerLabel_1;\n                        markerTooltipElementValue_1 = typeof (markerTooltipElementValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1) : markerTooltipElementValue_1;\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = typeof (fromNameValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(fromNameValue_1) : fromNameValue_1;\n                        fromIdValue_1 = typeof (fromIdValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(fromIdValue_1) : fromIdValue_1;\n                        toNameValue_1 = typeof (toNameValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(toNameValue_1) : toNameValue_1;\n                        toIdValue_1 = typeof (toIdValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(toIdValue_1) : toIdValue_1;\n                        linkTextValue_1 = typeof (linkTextValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(linkTextValue_1) : linkTextValue_1;\n                        offsetStringValue_1 = typeof (offsetStringValue_1) === 'string' ? SanitizeHtmlHelper.sanitize(offsetStringValue_1) : offsetStringValue_1;\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = typeof (autoStartDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(autoStartDateValue) : autoStartDateValue;\n                        autoEndDateValue = typeof (autoEndDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(autoEndDateValue) : autoEndDateValue;\n                        durationUnitValue = typeof (durationUnitValue) === 'string' ? SanitizeHtmlHelper.sanitize(durationUnitValue) : durationUnitValue;\n                        manualStartDateValue = typeof (manualStartDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(manualStartDateValue) : manualStartDateValue;\n                        manualEndDateValue = typeof (manualEndDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(manualEndDateValue) : manualEndDateValue;\n                    }\n                    var autoStartDate_1 = data.autoStartDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>' : '';\n                    var autoEndDate_1 = data.autoEndDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>' : '';\n                    var durationValue_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>' : '';\n                    var manualStartDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>' : '';\n                    var manualEndDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = typeof (autoStartValue) === 'string' ? SanitizeHtmlHelper.sanitize(autoStartValue) : autoStartValue;\n                        autoEndValue = typeof (autoEndValue) === 'string' ? SanitizeHtmlHelper.sanitize(autoEndValue) : autoEndValue;\n                        dateValue = typeof (dateValue) === 'string' ? SanitizeHtmlHelper.sanitize(dateValue) : dateValue;\n                    }\n                    var autoStart_1 = data.autoStartDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>' : '';\n                    var autoEnd_1 = data.autoEndDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>' : '';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    ganttObj.selectionModule.selectRow(0, false, true);\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        var ganttProp = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                                // eslint-disable-next-line\n                                !isNullOrUndefined(col.valueAccessor) ? col.valueAccessor(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                                    ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'cancelRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = ganttRow[0].getAttribute('data-rowindex');\n                        var lastRowIndex = ganttRow[ganttRow.length - 1].getAttribute('data-rowindex');\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex = void 0;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (e.action === 'expandRow') {\n                ganttObj.expandByIndex(selectedRowIndex);\n            }\n            else {\n                ganttObj.collapseByIndex(selectedRowIndex);\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.isLocaleChanged = false;\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            case 6:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n            default:\n                startTime = this.defaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            case 6:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n            default:\n                endTime = this.defaultStartTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            case 6:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.nonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            case 6:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.workingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            cancelRequest: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n        this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        if (this.dataMap) {\n            this.dataMap.clear();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z\\s/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                    this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                    for (var i = 0; i < this.singleTier; i++) {\n                        this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                    }\n                }\n                if (this.singleTier === 0) {\n                    this.singleTier = 2;\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor();\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors();\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling &&\n                !(this.isLoad && !this.treeGrid.loadChildOnDemand && this.taskFields.hasChildMapping)) {\n                this.predecessorModule.updatedRecordsDateByPredecessor();\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n            if (!isNullOrUndefined(this.selectionModule)) {\n                this.treeGrid.setProperties({ selectedRowIndex: this.selectedRowIndex }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterObject.paneSettings[1].size = (this.ganttWidth - parseInt(this.splitterModule.splitterPreviousPositionGrid, 10) - 4) + 'px';\n            if (this.timelineModule.isZoomToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule[\"eventMarkerRender\"]) {\n            this.dayMarkersModule[\"eventMarkerRender\"].updateContainerHeight();\n        }\n        if (this.enableTimelineVirtualization) {\n            this.timelineModule.refreshTimeline();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if (e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (!this.loadChildOnDemand && this.taskFields.hasChildMapping && this.currentViewData.length > 0) {\n            this.isLoad = true;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                var height = void 0;\n                var chartRow = !isNullOrUndefined(this.ganttChartModule.getChartRows()) ?\n                    this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.getBoundingClientRect().height > 0) {\n                    height = chartRow.getBoundingClientRect().height;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     * @deprecated\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    addClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                    addClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n                }\n                else {\n                    removeClass(this.treeGrid.element.querySelectorAll('.e-headercell'), cls.timelineSingleHeaderOuterDiv);\n                    removeClass(this.treeGrid.element.querySelectorAll('.e-columnheader'), cls.timelineSingleHeaderOuterDiv);\n                }\n                this.treeGrid.height = '100%';\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (!this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        if (this.undoRedoModule) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems = getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: this.contextMenuItems });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n            this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (verticalLines.style.display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (!chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (verticalLines.style.display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (!chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && verticalLines.style.display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === \"width\") {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + (leftPos != -1 ? (leftPos + 0.3) : leftPos)) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        this.chartVerticalLineContainer.innerHTML = containerDiv.innerHTML;\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: \"FF\",\n            FS: \"FS\",\n            SF: \"SF\",\n            SS: \"SS\"\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the task date of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To set scroll left and top in chart side.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping &&\n            this.isLoad) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        if (pdfExportProperties && pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            pdfExportProperties.pageOrientation = 'Landscape';\n        }\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = this.taskMode !== 'Auto' ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling || (this.isLoad && !this.treeGrid.loadChildOnDemand &&\n                    this.taskFields.hasChildMapping)) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * To update timeline at start point with one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom .\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Split the taskbar into segment by the given date\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && parentTask.childRecords.length || parentTask.level === 0) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n                if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                    this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n                }\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateRecordByID(data);\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes - Defines the Dragged record index.\n     * @param {number} toIndex - Defines the Dropped record index.\n     * @param {string} position -Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of task to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index)) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = getValue('rowIndex', chartRow);\n            record = this.currentViewData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (!this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.updateRecordByID(data);\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'Search'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate && ((!isNullOrUndefined(data['isManual']) &&\n            data['isManual'] === false) || this.parent.taskMode === 'Auto')) || field === taskSettings.duration\n            || field === taskSettings.dependency || field === taskSettings.progress || field === taskSettings.work ||\n            field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 && dayEndTime !== 86400)) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) === -1) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data[this.parent.taskFields.duration])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data[this.parent.taskFields.dependency])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant(\"FF\");\n        var FS = this.parent.localeObj.getConstant(\"FS\");\n        var SS = this.parent.localeObj.getConstant(\"SS\");\n        var SF = this.parent.localeObj.getConstant(\"SF\");\n        var splitString = editedArgs.data[this.parent.taskFields.dependency].split(\",\");\n        var value = \"\";\n        splitString.map(function (splitvalue, index) {\n            if (splitvalue.includes(FF)) {\n                value += splitvalue.replace(FF, \"FF\");\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n            else if (splitvalue.includes(FS)) {\n                value += splitvalue.replace(FS, \"FS\");\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n            else if (splitvalue.includes(SS)) {\n                value += splitvalue.replace(SS, \"SS\");\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n            else if (splitvalue.includes(SF)) {\n                value += splitvalue.replace(SF, \"SF\");\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n            else {\n                value += splitvalue;\n                value += (splitString.length !== index + 1) ? \",\" : \"\";\n            }\n        });\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = segmentIndex === -1 ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = segmentIndex === -1 ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = segmentIndex === -1 ? ganttProp.left : ganttProp.left + ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                if (this.parent.enableRtl && this.toolTipObj['tooltipEle']) {\n                    this.toolTipObj['tooltipEle'].style.left = this.parent.editModule.taskbarEditModule['tooltipValue'] + 10 + 'px';\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML =\n                                this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                        }\n                        break;\n                    }\n            }\n        }\n        return tooltipString;\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length !== 0) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                            'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        if (this.parent.enableMultiTaskbar && element) {\n            var record = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowProgressResizer = false;\n                    isShowConnectorPoints = false;\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (secondElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([secondElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record && record.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', '');\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('data-rowindex') !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return data.getAttribute('data-rowindex') === target.getAttribute('data-rowindex');\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('data-rowindex'), 10)).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return data.getAttribute('data-rowindex') === chartRowElement_1.getAttribute('data-rowindex');\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('data-rowindex'), 10)];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('data-rowindex'), 10));\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                    _this.parent.showMaskRow();\n                }\n                else if (_this.parent.showIndicator) {\n                    _this.parent.showSpinner();\n                }\n                if (arg.cancel === false) {\n                    _this.taskBarEditingAction(event, false);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.performProgressResize(e);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            this.editTooltip.updateTooltip(this.segmentIndex);\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.performProgressResize = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar')) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                this.parent.setRecordValue('progress', this.getProgressPercent(item.width, item.progressWidth), item, true);\n                break;\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n        if (!isNullOrUndefined(this.taskBarEditRecord.ganttProperties.segments)) {\n            this.parent.chartRowsModule.updateSegment(this.taskBarEditRecord.ganttProperties.segments, this.taskBarEditRecord.ganttProperties.taskId);\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (i === 0) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                        }\n                        if (this.parent.enableRtl) {\n                            segmentElement.style.right = (segment_4.left) + 'px';\n                        }\n                        else {\n                            segmentElement.style.left = (segment_4.left) + 'px';\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'ProgressResizing') {\n                traceConnectorPointRight.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? item.segments[this.segmentIndex].progressWidth + 8 :\n                        item.segments[this.segmentIndex].progressWidth - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.width = manualTaskbar.style.width = (item.width) + 'px';\n                manualParentRight.style.setProperty(position, item.width - manualParentLeft.offsetLeft + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n                    var criticalModule = this.parent.criticalPathModule;\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var totalProgressWidth = this.parent.dataOperation.getProgressWidth(totalTaskWidth, taskData.progress);\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if (this.parent.allowTaskbarDragAndDrop && this.dragMoveY > 0 && ((this.parent.viewType === 'ResourceView' &&\n            !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                if (row) {\n                    var recordIndex = parseInt(row.getAttribute('data-rowindex'), 10);\n                    droppedRecord = this.parent.flatData[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                this.parent.setRecordValue('progress', this.getProgressPercent(taskData.width, taskData.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i++) {\n                            var segment_5 = segments[i];\n                            var eDate_1 = segment_5.endDate;\n                            eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                            segment_5.endDate = eDate_1;\n                            segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (!arg.cancel) {\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    // Custom comparator function to sort by type order\n    DialogEdit.prototype.customComparator = function (a, b) {\n        var typeOrder = ['General', 'Resources', 'Dependency', 'Custom'];\n        var typeA = a.type || ''; // Default to empty string if type is missing\n        var typeB = b.type || '';\n        var indexA = typeOrder.indexOf(typeA);\n        var indexB = typeOrder.indexOf(typeB);\n        return indexA - indexB;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        // Sort the array based on the custom comparator\n        if (this.storeValidTab) {\n            this.storeValidTab.sort(this.customComparator);\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        var dialogModule = this.parent.editModule.dialogModule;\n        var dialog = dialogModule.dialog;\n        var hasEditedBatchCell = dialog.getElementsByClassName('e-editedbatchcell').length > 0;\n        var hasEditedOrAddedRow = dialog.getElementsByClassName('e-editedrow').length > 0 ||\n            dialog.getElementsByClassName('e-addedrow').length > 0;\n        if (dialogModule.storeResourceTab && hasEditedBatchCell) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Resources' +\n                'TabContainer_gridcontrol').ej2_instances[0].saveCell();\n        }\n        else if (dialogModule.storeDependencyTab && hasEditedOrAddedRow) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Dependency' +\n                'TabContainer').ej2_instances[0].editModule.batchSave();\n        }\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale,\n                        enableRtl: this.parent.enableRtl\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'defaultedit':\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    textBox.enableRtl = this.parent.enableRtl;\n                    if (column.field === ganttObj.columnMapping.duration ||\n                        column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    numeric.enableRtl = this.parent.enableRtl;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    numeric.change = function (args) {\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.enableRtl = this.parent.enableRtl;\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.enableRtl = this.parent.enableRtl;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.duration) && !isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() > (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === 'startDate') {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            if (this.parent.enableAdaptiveUI) {\n                tbody.appendChild(this.renderInputElements(inputModel, column));\n            }\n            else {\n                divElement.appendChild(this.renderInputElements(inputModel, column));\n            }\n            addFields.push(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate ||\n                    column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate && ((!isNullOrUndefined(this.editedRecord['isManual']) &&\n                    this.editedRecord['isManual'] === false) || this.parent.taskMode === 'Auto')) || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var toolbar;\n        var columnCollection = [];\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        if (this.parent.viewType === 'ResourceView') {\n            for (var i = 0; i < ganttObj.currentViewData.length; i++) {\n                for (var j = 0; j < ganttObj.resources.length; j++) {\n                    if (ganttObj.currentViewData[i][ganttObj.taskFields.id] ===\n                        ganttObj.resources[j][resourceSettings.id] &&\n                        (ganttObj.currentViewData[i].hasChildRecords ||\n                            isNullOrUndefined(ganttObj.currentViewData[i].parentItem))) {\n                        resourceData.push(ganttObj.resources[j]);\n                    }\n                }\n            }\n        }\n        else {\n            resourceData = extend([], [], ganttObj.resources, true);\n        }\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var key in allProperty['toolbarSettings'].items) {\n                                if (Object.prototype.hasOwnProperty.call(allProperty['toolbarSettings'].items, key)) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (e === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[i]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[i].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[i]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[i]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.updatePredecessorTab(element);\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, true), this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.startDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.endDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.duration);\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.work);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.manual);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var splitString = preData.name.split(\"-\");\n            if (isNullOrUndefined(preData.id) || preData.id !== splitString[0]) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (!this.disableUndo && this.rowData.ganttProperties.predecessorsName !== predecessorString && (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) || predecessorString !== '')) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode === false) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', '2');\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', '1');\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idArray = [];\n        var lineArray = [];\n        var editedConnectorLineString = '';\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                    predecessor = predecessorsCollection[predecessorCount];\n                    var from = 'from';\n                    var to = 'to';\n                    this.parent.connectorLineModule.removeConnectorLineById('parent' + predecessor[from] + 'child' + predecessor[to]);\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + to]);\n                    if ((!this.parent.allowParentDependency && (parentGanttRecord && parentGanttRecord.expanded === true) ||\n                        (childGanttRecord && childGanttRecord.expanded === true)) || (this.parent.allowParentDependency &&\n                        (parentGanttRecord || childGanttRecord))) {\n                        connectorObj =\n                            this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                        if (!isNullOrUndefined(connectorObj)) {\n                            var lineIndex = idArray.indexOf(connectorObj.connectorLineId);\n                            var lineString = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                            if (lineIndex !== -1) {\n                                lineArray[lineIndex] = lineString;\n                            }\n                            else {\n                                idArray.push(connectorObj.connectorLineId);\n                                lineArray.push(lineString);\n                            }\n                        }\n                    }\n                }\n                editedConnectorLineString = lineArray.join('');\n            }\n        }\n        return editedConnectorLineString;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorLineString = this.getEditedConnectorLineString(editedRecord);\n        this.parent.connectorLineModule.svgObject.innerHTML =\n            this.parent.connectorLineModule.svgObject.innerHTML + editedConnectorLineString;\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && preArray[j].includes('days')) {\n                    predecessorName = preArray[j].slice(-9).toString();\n                }\n                if (preArray[j].includes('-') && preArray[j].includes('day')) {\n                    predecessorName = preArray[j].slice(-8).toString();\n                }\n                else {\n                    predecessorName = preArray[j].slice(-2).toString();\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    // Get the root parent of the record\n    ConnectorLineEdit.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    ConnectorLineEdit.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.parent.connectorLineEditModule.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.parent.connectorLineEditModule.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== \"offset\"; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== \"offset\"; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        if (record) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if (isScheduledTask(parentTask.ganttProperties) && isScheduledTask(record.ganttProperties)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date(parentTask.ganttProperties.endDate.getTime());\n                                tempEndDate = new Date(record.ganttProperties.startDate.getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date(parentTask.ganttProperties.startDate.getTime());\n                                tempEndDate = new Date(record.ganttProperties.startDate.getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date(parentTask.ganttProperties.startDate.getTime());\n                                tempEndDate = new Date(record.ganttProperties.endDate.getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date(parentTask.ganttProperties.endDate.getTime());\n                                tempEndDate = new Date(record.ganttProperties.endDate.getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                            }\n                        });\n                    }\n                }\n            }\n            if (!isRecursive) {\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, 'MM/dd/yyyy');\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    var endDateOlny = new Date(ganttTaskData.endDate);\n                    var startDateOlny = new Date(startDate);\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                    else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.startDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                    else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.startDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                var endDateOlny = new Date(ganttTaskData.endDate);\n                var startDateOlny = new Date(startDate);\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.startDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.startDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(ganttTaskData.endDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    var endDateOlny = new Date(endDate);\n                    var startDateOlny = new Date(ganttTaskData.startDate);\n                    if (ganttTaskData.endDate < parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (ganttTaskData.endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                    else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.endDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                    else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.endDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                    else if (endDate < ganttTaskData.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > ganttTaskData.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(ganttTaskData.endDate, parentGanttRecord.ganttProperties.startDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    var endDateOlny = new Date(endDate);\n                    var startDateOlny = new Date(ganttTaskData.startDate);\n                    var startDateOlnys = new Date(startDate);\n                    if (ganttTaskData.endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (ganttTaskData.endDate > parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                    else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.endDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.endDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                    else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.startDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) > startDateOlnys.setHours(0, 0, 0, 0)) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (this.parent.allowUnscheduledTasks && isNullOrUndefined(ganttTaskData.startDate) && isNullOrUndefined(ganttTaskData.duration) && endDateOlny.setHours(0, 0, 0, 0) < startDateOlnys.setHours(0, 0, 0, 0)) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        this.deletedRecord = [];\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if ([tasks.startDate, tasks.endDate, tasks.duration].indexOf(key) !== -1) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                if (isFromDialog) {\n                    if (tasks.duration === key) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttData.ganttProperties);\n                        if (ganttData.ganttProperties.duration > 0 && ganttData.ganttProperties.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttData.ganttProperties, true);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttData.ganttProperties.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = ganttData.ganttProperties.endDate;\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttData.ganttProperties, true);\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                if (key === tasks.id) {\n                    ganttPropKey = 'taskId';\n                }\n                else if (key === tasks.name) {\n                    ganttPropKey = 'taskName';\n                }\n                else if (key === tasks.cssClass) {\n                    ganttPropKey = 'cssClass';\n                }\n                else if (key === tasks.milestone) {\n                    ganttPropKey = 'isMilestone';\n                    if (!isNullOrUndefined(tasks.duration)) {\n                        var ganttProp = ganttData.ganttProperties;\n                        var durationValue = data[tasks.duration];\n                        if (value) {\n                            durationValue = 0;\n                        }\n                        else {\n                            durationValue = durationValue <= 0 ? 1 : durationValue;\n                        }\n                        ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                        ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                        ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                    }\n                }\n                else if ((key === tasks.segments) && (!isNullOrUndefined(ganttData.ganttProperties.segments))) {\n                    ganttPropKey = 'segments';\n                    /* eslint-disable-next-line */\n                    if (data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                            ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                        }\n                        var totDuration = 0;\n                        for (var i = 0; i < ganttData.ganttProperties.segments.length; i++) {\n                            totDuration = totDuration + ganttData.ganttProperties.segments[i].duration;\n                        }\n                        var sdate = ganttData.ganttProperties.startDate;\n                        /* eslint-disable-next-line */\n                        var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                        ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                    }\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][this.parent.taskFields.startDate]) {\n                                segment['startDate'] = value[i][this.parent.taskFields.startDate];\n                            }\n                            if (value[i][this.parent.taskFields.endDate]) {\n                                segment['endDate'] = value[i][this.parent.taskFields.endDate];\n                            }\n                            if (value[i][this.parent.taskFields.duration]) {\n                                segment['duration'] = parseFloat(value[i][this.parent.taskFields.duration]);\n                            }\n                            if (value[i][this.parent.taskFields.id]) {\n                                segment['id'] = value[i][this.parent.taskFields.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttData.ganttProperties.baselineStartDate, ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttData.ganttProperties.baselineEndDate);\n                    if (ganttData.ganttProperties.baselineEndDate && ganttData.ganttProperties.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttData.ganttProperties.baselineEndDate);\n                    }\n                    if ((ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate &&\n                        (ganttData.ganttProperties.baselineStartDate.getTime() > ganttData.ganttProperties.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttData.ganttProperties.baselineStartDate) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                            (ganttData.ganttProperties.baselineStartDate.getTime() === ganttData.ganttProperties.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttData.ganttProperties.baselineEndDate) &&\n                                !isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                                (ganttData.ganttProperties.baselineEndDate.toLocaleDateString() ===\n                                    ganttData.ganttProperties.endDate.toLocaleDateString())) &&\n                            ganttData.ganttProperties.isMilestone)) {\n                        ganttData.ganttProperties.baselineEndDate = ganttData.ganttProperties.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttData.ganttProperties.baselineEndDate), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                ganttObj.setRecordValue('taskType', data[key], ganttData.ganttProperties, true);\n                //this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var taskType = ganttProp.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if ((column === 'resource')) {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                        else if (column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                                this.parent.setRecordValue('work', 0, ganttProp, true);\n                                if (!isNullOrUndefined(this.parent.taskFields.work)) {\n                                    this.parent.dataOperation.updateMappingData(currentData, 'work');\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            /* validating predecessor for updated child items */\n            for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n                var child = this.parent.predecessorModule.validatedChildItems[i];\n                if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                    this.parent.editedTaskBarItem = child;\n                    if (!this.isValidatedEditedRecord) {\n                        this.isFirstCall = true;\n                    }\n                    this.parent.predecessorModule.validatePredecessor(child, [], '');\n                }\n            }\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate && (args.action === 'DrawConnectorLine')) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && !this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        this.initiateSaveAction(args);\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action && args.action === 'DrawConnectorLine') {\n            eventArgs.action = 'DrawConnectorLine';\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (unModifiedData !== eventArg.data['ganttProperties'] && !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            var ganttProps = eventArg.data['ganttProperties'];\n            var startDate = ganttProps.startDate, endDate = ganttProps.endDate, segments = ganttProps.segments, durationUnit = ganttProps.durationUnit, isAutoSchedule = ganttProps.isAutoSchedule, isMilestone = ganttProps.isMilestone;\n            if (startDate && endDate && !segments) {\n                var duration = _this.parent.dateValidationModule.getDuration(startDate, endDate, durationUnit, isAutoSchedule, isMilestone, true);\n                if (duration !== 0) {\n                    ganttProps.isMilestone = false;\n                    _this.parent.dateValidationModule.calculateDuration(eventArg.data);\n                }\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            _this.parent.chartRowsModule.updateSegment(eventArg.data['ganttProperties'].segments, eventArg.data['ganttProperties'].taskId);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.parent.ganttChartModule.reRenderConnectorLines();\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            for (var i = 0; i < prevResource.length; i++) {\n                var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                if (prevResourceID === 'NaN') {\n                    prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                }\n                if (prevResourceID === resourceID) {\n                    recordIndex.push(i);\n                    break;\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var deleteRecords = [];\n        var _loop_2 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_2.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && this_2.parent.undoRedoModule['currentAction'] && this_2.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    deleteRecords.push(selectedRecords[i]);\n                }\n            }\n            else {\n                var resourceParent = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                deleteRecords.push(resourceParent);\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_2(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_3 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_3.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_3.parent.viewType === 'ResourceView' && this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_3.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_3), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_3.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = void 0;\n                        if (!isNullOrUndefined(parentTask)) {\n                            childRecord = parentTask.childRecords;\n                            var filteredRecord = childRecord.length === 1 ?\n                                childRecord : childRecord.filter(function (data) {\n                                return !data.isDelete;\n                            });\n                            if (filteredRecord.length > 0) {\n                                this_3.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                            }\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_3.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_3.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_3.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_3.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_3.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_3(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                if (!isNullOrUndefined(thisRecord)) {\n                    this.parent.setRecordValue('taskId', newId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue('rowUniqueID', nId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord.taskData, true);\n                }\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            this.deletedTaskDetails.push(childRecord);\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_4 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_4(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                var record = this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId);\n                if (!isNullOrUndefined(record)) {\n                    deletedRecords.push(record);\n                }\n            }\n            else {\n                var id = void 0;\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n                }\n                else {\n                    deletedRecords.push(this.parent.flatData[this.parent.taskIds.indexOf(id.toString())]);\n                }\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n            this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n            var record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.flatData[prevRecordIndex];\n                }\n            }\n        }\n        this.deletedRecord = deletedRecords;\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.isAdded = false;\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_5 = function (i) {\n                var unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_4.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_4.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_4.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_4.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_5(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        var newTaskId = maxId + 1;\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                if (!isNullOrUndefined(startDate)) {\n                    startDate.setDate(startDate.getDate() + 4);\n                    obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n                }\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        cAddedRecord.index = parseInt(cAddedRecord.ganttProperties.rowUniqueID.toString(), 10) - 1;\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IPredecessor[]} predecessorCollection .\n     * @param {IGanttData} record .\n     * @returns {string} .\n     * @private\n     */\n    Edit.prototype.predecessorToString = function (predecessorCollection, record) {\n        var predecessorString = [];\n        var count = 0;\n        var length = predecessorCollection.length;\n        for (count; count < length; count++) {\n            if (record.ganttProperties.rowUniqueID.toString() !== predecessorCollection[count].from) {\n                var tem = predecessorCollection[count].from + predecessorCollection[count].type;\n                predecessorCollection[count].offset =\n                    isNaN(predecessorCollection[count].offset) ? 0 : predecessorCollection[count].offset;\n                if (predecessorCollection[count].offset !== 0) {\n                    if (predecessorCollection[count].offset < 0) {\n                        tem += predecessorCollection[count].offset.toString() + 'd';\n                    }\n                    else if (predecessorCollection[count].offset > 0) {\n                        tem += '+' + predecessorCollection[count].offset.toString() + 'd';\n                    }\n                }\n                predecessorString.push(tem);\n            }\n        }\n        return predecessorString.join(',');\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        if (!this.parent.selectionSettings.persistSelection) {\n            this.parent.selectedRowIndex = 0;\n        }\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.isAdded = true;\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_6 = function (i) {\n            var originalData = this_5.parent.modifiedRecords[i];\n            var treeIndex = this_5.parent.rowDragAndDropModule && this_5.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_5.parent.taskFields.id;\n            var originalIndex = this_5.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_5.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_5.parent.treeGrid.grid.getRowObjectFromUID(this_5.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_5.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_5.parent.treeGrid.getRows()[originalIndex].cells[this_5.parent.treeColumnIndex + treeIndex],\n                    column: this_5.parent.treeGrid.grid.getColumns()[this_5.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_5.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_5.parent.treeGrid.getRows()[originalIndex], rowHeight: this_5.parent.rowHeight\n                });\n            }\n        };\n        var this_5 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    /* eslint-disable-next-line */\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0];\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_7 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_7(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        if (_this.parent.undoRedoModule && (!_this.parent.undoRedoModule['isUndoRedoPerformed'] || (_this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Add' && _this.parent.viewType === 'ResourceView'))\n                            && _this.parent['isUndoRedoItemPresent']('Add')) {\n                            record['action'] = 'Add';\n                            var tempArray_1 = args.data.length > 0 ?\n                                extend([], [], args.data, true) : [args.data];\n                            var addedRec = [];\n                            var _loop_8 = function (i) {\n                                addedRec = (_this.parent.flatData.filter(function (data) {\n                                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                                }));\n                            };\n                            for (var i = 0; i < tempArray_1.length; i++) {\n                                _loop_8(i);\n                            }\n                            record['addedRecords'] = extend([], [], addedRec, true);\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                        }\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        if (this.dialogModule.isAddNewResource && !this.parent.isEdit && this.parent.taskFields.work) {\n            this.parent.dataOperation.updateWorkWithDuration(cAddedRecord[0]);\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                if (args.data.ganttProperties.resourceInfo && args.data.ganttProperties.resourceInfo.length) {\n                    if (args.data.ganttProperties.resourceInfo.length > 1) {\n                        // eslint-disable-next-line\n                        var resources = extend([], [], args.data.ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data);\n                    }\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (!actionArg.cancel) {\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                (!(this.filterMenuElement.contains(element)) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        /* eslint-disable-next-line */\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var gridPosTop = gridPos.top;\n        var gridPosLeft = gridPos.left;\n        /* eslint-disable-next-line */\n        var parentNode;\n        var parentNodeTop;\n        var parentNodeLeft;\n        var paddingTop;\n        var paddingLeft;\n        var marginTop;\n        var isValid = true;\n        var marginLeft;\n        var isNonBodyTag = false;\n        if (!isNullOrUndefined(this.parent.element.parentNode) && this.parent.element.parentNode['tagName'] !== 'BODY') {\n            isNonBodyTag = true;\n            parentNode = this.parent.element.parentNode;\n            parentNodeTop = parentNode.getBoundingClientRect().top;\n            marginTop = parentNode.style.marginTop;\n            while (isValid) {\n                if (Math.abs(gridPosTop) > Math.abs(parentNodeTop)) {\n                    paddingTop = gridPosTop - parentNodeTop;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode.parentNode && parentNode.parentNode.style) {\n                        marginTop = parentNode.parentNode.style.marginTop;\n                    }\n                }\n                parentNodeTop = parentNode.getBoundingClientRect().top;\n            }\n            parentNodeLeft = parentNode.getBoundingClientRect().left;\n            marginLeft = parentNode.style.marginLeft;\n            while (isValid) {\n                if (Math.abs(gridPosLeft) > Math.abs(parentNodeLeft)) {\n                    paddingLeft = gridPosLeft - parentNodeLeft;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    marginLeft = parentNode.style.marginLeft;\n                }\n                parentNodeLeft = parentNode.getBoundingClientRect().left;\n            }\n        }\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = isNonBodyTag ? liPos.top - gridPosTop : liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(paddingTop) || !isNullOrUndefined(paddingLeft)) && isNonBodyTag) {\n                left = Math.abs(liPos.right - gridPos.left);\n                top = Math.abs(liPos.top - gridPos.top);\n            }\n        }\n        if (!isNullOrUndefined(paddingTop) && !isNullOrUndefined(paddingLeft)) {\n            ul.style.top = typeof (parseInt(marginTop, 10)) === 'string' ? (top + paddingTop + parseInt(marginTop, 10)) + 'px' : (top + paddingTop) + 'px';\n            ul.style.left = typeof (parseInt(marginLeft, 10)) === 'string' ? (left + paddingLeft + parseInt(marginLeft, 10) + 8) + 'px' : (left + paddingLeft) + 'px';\n        }\n        else {\n            ul.style.top = top + 'px';\n            ul.style.left = left + 'px';\n        }\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            element.style.zIndex = targetElement.parentElement.style.zIndex;\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n            }\n            else {\n                this.setPosition(targetElement, getValue('filterModel.dialogObj.element', args));\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest;\n        args.isShiftPressed = this.isMultiShiftRequest;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        if (this.parent.selectionSettings && this.parent.selectionSettings.persistSelection) {\n            this.parent.treeGrid.grid.selectionModule['checkSelectAllClicked'] = true;\n        }\n        this.parent.trigger('rowSelecting', args);\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && this.parent.treeGridModule.addedRecord) {\n            index = this.parent.flatData.indexOf(this.parent.currentViewData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('data-rowindex'), 10) === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && (!isNullOrUndefined(isPreventFocus) || this.parent.enableVirtualization) && !isPreventFocus) {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('data-rowindex'), 10);\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (this.parent.selectionSettings.persistSelection) {\n                    this.addRemoveClass(this.selectedRowIndexes, e['name']);\n                }\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('data-rowindex'), 10) === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle && !isNullOrUndefined(request) &&\n                    this_2.parent.selectionSettings.type !== 'Multiple' && selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n                if ((this_2.parent.selectionSettings.type === 'Single' || (!this_2.isMultiCtrlRequest && !this_2.isMultiShiftRequest)) && index > -1 && this_2.parent.selectionSettings.persistSelection &&\n                    request === 'chartMouseUp' && this_2.isSelectionFromChart) {\n                    this_2.removeClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && this.selectedRowIndexes.length === 0) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        this.parent.off('ui-toolbarupdate', this.propertyChanged);\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (!this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i_1 = 0; i_1 < gObj.updatedRecords.length; i_1++) {\n                if (gObj.updatedRecords[i_1].index === ind) {\n                    ind = i_1;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i_2 = 0; i_2 < selectedRecords; i_2++) {\n                    var index_1 = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i_2]);\n                    if (index_1 === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            edit.allowDeleting && hasData && isDeleteSelected && !touchEdit ?\n                enableItems.push(gID + '_delete') : disableItems.push(gID + '_delete');\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index_2 = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index_2 = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index_2, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index_3 = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index_3 = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index_3, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        this.toolbar.destroy();\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        var isFirstExecution = true;\n        this.weekendWidthUpdated = false;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var sDate = new Date(startDate);\n                var dubDate = new Date(startDate);\n                sDate.setDate(sDate.getDate() + 1);\n                var sDateOffset = sDate.getTimezoneOffset();\n                var dubDateOffset = dubDate.getTimezoneOffset();\n                if (!isFirstExecution) {\n                    if (sDateOffset !== this.parent.timelineModule.timelineStartDate.getTimezoneOffset() &&\n                        !this.weekendWidthUpdated) {\n                        if (this.parent.timelineModule.bottomTier === 'Hour' &&\n                            this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1 &&\n                            sDateOffset < dubDateOffset) {\n                            width = width - (this.parent.perDayWidth / 24);\n                            this.weekendWidthUpdated = true;\n                        }\n                    }\n                }\n                else {\n                    isFirstExecution = false;\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] < 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] < 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] < 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference < 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] < 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    fromDataObject.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                }\n            }\n        }\n        if (fromDataObject) {\n            fromDataObject.splice(0, 1);\n            if (fromDataObject.length > 0) {\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = durationDiff <= 0 ? record.ganttProperties.slack :\n                        durationDiff + record.ganttProperties.durationUnit;\n                    fromRecord.slack = durationDiff <= 0 ? record.slack : durationDiff + record.ganttProperties.durationUnit;\n                    fromRecord.isCritical = durationDiff <= 0 ? record.ganttProperties.isCritical : false;\n                    fromRecord.ganttProperties.isCritical = durationDiff <= 0 ? record.ganttProperties.isCritical : false;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                var toID = void 0;\n                if (this.parent.viewType === 'ProjectView') {\n                    toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                }\n                else {\n                    toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                }\n                var dateDifference = void 0;\n                var currentData = flatRecords[index].ganttProperties;\n                if (toID !== -1) {\n                    if (predecessorLength[i].type === 'FS') {\n                        if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                            if (toID !== -1) {\n                                dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                    flatRecords[toID].slack = flatRecords[index].slack;\n                                    flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                }\n                            }\n                        }\n                        if (toID !== -1) {\n                            if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                flatRecords[index].slack = flatRecords[toID].slack;\n                                flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                            }\n                            else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                            }\n                        }\n                    }\n                    else if (predecessorLength[i].type === 'SF') {\n                        /* eslint-disable-next-line */\n                        dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                    }\n                    else if (predecessorLength[i].type === 'SS') {\n                        /* eslint-disable-next-line */\n                        dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                    }\n                    else {\n                        /* eslint-disable-next-line */\n                        dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                    }\n                    if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                        predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                    }\n                    else {\n                        predecessorFrom = predecessorLength[i].from;\n                    }\n                    if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                        flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                        flatRecords[index].slack = noSlackValue;\n                        flatRecords[index].ganttProperties.slack = noSlackValue;\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                currentdata['taskid'] + 'child' + checkint);\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + currentdata['taskid'] + 'child' +\n                                    checkint)[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + currentdata['taskid'] + 'child' +\n                                    checkint)[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        if (updateAction_1['beforeDrop'][i]['data']['ganttProperties'].hasChildRecords) {\n                            rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('R' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                        }\n                        else {\n                            rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                        }\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction']);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (!this.getUndoCollection[i]['filteredColumns']) {\n                        break;\n                    }\n                    else {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        if (updateAction_1['beforeDrop'][i].data['ganttProperties'].hasChildRecords) {\n                            fromIndex = this.parent.ids.indexOf('R' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        }\n                        else {\n                            fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        }\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        if (updateAction['beforeDrop'][i]['data']['ganttProperties'].hasChildRecords) {\n                            rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('R' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                        }\n                        else {\n                            rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                        }\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        if (updateAction['beforeDrop'][i].data['ganttProperties'].hasChildRecords) {\n                            fromIndex = this.parent.ids.indexOf('R' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        }\n                        else {\n                            fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        }\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                if (this.parent.viewType === 'ResourceView') {\n                    for (var i = 0; i < updateAction['deleteRecords'].length; i++) {\n                        if (updateAction['deleteRecords'][i].parentItem) {\n                            if (!this.parent.getParentTask(updateAction['deleteRecords'][i].parentItem)) {\n                                var parentTask = this.parent.flatData[updateAction['deleteRecords'][i].parentItem.index];\n                                updateAction['deleteRecords'][i].parentItem.uniqueID = parentTask.uniqueID;\n                                updateAction['deleteRecords'][i].parentItem.taskId = parentTask.ganttProperties.rowUniqueID;\n                                updateAction['deleteRecords'][i].parentItem.expanded = parentTask.expanded;\n                            }\n                        }\n                    }\n                }\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length === 0) {\n                this.redoEnabled = false;\n            }\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem && previousRecord.parentItem.taskId === parentItem.ganttProperties.taskId) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData.ganttProperties.taskId !== rowData.ganttProperties.taskId)) {\n                                    if (currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId ===\n                                rowItems[i].ganttProperties.taskId) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId ===\n                                rowItems[i].ganttProperties.taskId) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData || (rowData && currentData.ganttProperties.taskId !== rowData.ganttProperties.taskId)) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                records[detail].push(record);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        data[taskfields.duration] = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n            _this.parent.chartRowsModule.updateSegment(_this.rowData.ganttProperties.segments, _this.rowData.ganttProperties.taskId);\n            if (_this.parent.projectEndDate >= _this.rowData.ganttProperties.endDate) {\n                _this.parent.nextTimeSpan();\n            }\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArgs.cancel === false) {\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, splitTaskDuration > 1 ?\n            this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n            this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n            this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.closeEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('data-rowindex'), 0);\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('data-rowindex'), 0);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.updatedRecords[parseInt(rowIndex.toString(), 10)];\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var taskSettings = this.parent.taskFields;\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].hasChildRecords) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, classList, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-ganttdrag')[0];\n        var errorelem = dragelem.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            var errorVal = dragelem.querySelector('.errorValue');\n            var content = dragelem.querySelector('.e-rowcell').innerHTML;\n            if (errorVal) {\n                content = errorVal.innerHTML;\n                errorVal.parentNode.removeChild(errorVal);\n            }\n            dragelem.querySelector('.e-rowcell').innerHTML = '';\n            var spanContent = document.createElement('span');\n            spanContent.className = 'errorValue';\n            spanContent.style.paddingLeft = '16px';\n            spanContent.innerHTML = content;\n            dragelem.querySelector('.e-rowcell').appendChild(ele);\n            dragelem.querySelector('.e-rowcell').appendChild(spanContent);\n        }\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        var ganttDragelem = document.querySelector('.e-ganttdrag');\n        if (ganttDragelem) {\n            ganttDragelem.remove();\n        }\n        var gridRow = closest(args.target, '.e-row');\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('data-rowindex'), 10) : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            if (!args.cancel) {\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.connectorLineEditModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            // eslint-disable-next-line\n            if (fromIndexes[0] !== toIndex && position === 'above' || 'below' || 'child') {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfFontFamily, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.borderColor = new PdfColor(206, 206, 206);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (column.isTreeColumn) {\n                    leftAdjustment = (row.level) * 10;\n                }\n                var cancelSpans = ((i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n                if (!cancelSpans) {\n                    for (var j = 1; j < cell.columnSpan; j++) {\n                        row.cells.getCell(i + j).isCellMergeContinue = true;\n                    }\n                }\n                var size = new SizeF(column.width, height);\n                if (cell.columnSpan > 1) {\n                    size = new SizeF(cell.width, height);\n                    i += cell.columnSpan;\n                }\n                if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                    cell.style.format = column.format;\n                }\n                cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                /* eslint-disable-next-line */\n                if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                    row.rowOverflowIndex = this.cellEndIndex;\n                }\n                location_1.x += column.width;\n                leftAdjustment = 0;\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"raiseBeginCellDraw\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            // eslint-disable-next-line\n            return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGrid.prototype, \"raiseEndCellDraw\", {\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            // eslint-disable-next-line\n            return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = this.rows.getRow(0).cells.getCell(0).style;\n            if (style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    PdfTreeGrid.prototype.onBeginCellDraw = function (args) {\n        if (this.raiseBeginCellDraw) {\n            this.beginCellDraw(this, args);\n        }\n    };\n    PdfTreeGrid.prototype.onEndCellDraw = function (args) {\n        if (this.raiseEndCellDraw) {\n            this.endCellDraw(this, args);\n        }\n    };\n    PdfTreeGrid.prototype.setSpan = function () {\n        var colSpan = 1;\n        var rowSpan = 1;\n        var currentCellIndex = 0;\n        var currentRowIndex = 0;\n        var maxSpan = 0;\n        var rowCount = this.headers.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.headers.getHeader(i);\n            maxSpan = 0;\n            var colCount = row.cells.count;\n            for (var j = 0; j < colCount; j++) {\n                var cell = row.cells.getCell(j);\n                maxSpan = Math.max(maxSpan, cell.rowSpan);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.rowSpan + i > this.headers.count) {\n                        throw new Error('Invalid span specified at Header ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //Set Column merges for first row\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).rowSpan = rowSpan;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        //Set Row Merges and column merges foreach subsequent rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        var totalColumnWidth = this.columns.columns[currentCellIndex].width;\n                        //Set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                            totalColumnWidth += this.columns.columns[currentCellIndex].width;\n                        }\n                        cell.width = totalColumnWidth;\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //Set row Merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n            row.maximumRowSpan = maxSpan;\n        }\n        colSpan = rowSpan = 1;\n        currentCellIndex = currentRowIndex = 0;\n        rowCount = this.rows.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.rows.getRow(i);\n            var colcount = row.cells.count;\n            for (var j = 0; j < colcount; j++) {\n                var cell = row.cells.getCell(j);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row {0} column {1} ' + j.toString());\n                    }\n                    if (cell.rowSpan + i > this.rows.count) {\n                        throw new Error('Invalid span specified at row {0} column {1} ' + j.toString());\n                    }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //set Column merges for first row.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        // Set row merges and column merges for each subsequentt rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.rows.getRow(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        //set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //set row merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders.left.width + this.style.borders.right.width;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i).width;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        if (cancelSubsequentSpans) {\n            // Cancel all subsequent cell spans, if no space exists.\n            var currentCellIndex = this.row.cells.indexOf(this);\n            for (var i = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n                this.row.cells.getCell(i).isCellMergeContinue = false;\n                this.row.cells.getCell(i).isRowMergeContinue = false;\n            }\n            this.columnSpan = 1;\n        }\n        // Skip cells which were already covered by span map.\n        if (this.isCellMergeContinue || this.isRowMergeContinue) {\n            if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n                if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n                    (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n                    return result;\n                }\n                else {\n                    return result;\n                }\n            }\n        }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.fontStyle.fontFamily, this.fontStyle.fontSize, this.fontStyle.fontStyle);\n            if (this.fontStyle.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = void 0;\n            if (this.fontStyle.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.fontStyle.fontBrush);\n            }\n            else {\n                customisedBrush = textBrush;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment) + this.image.width, this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.style.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.style.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = void 0;\n            if (this.style.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.style.fontBrush);\n            }\n            else {\n                customisedBrush = textBrush;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            if (this.style.borders.left.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            if (this.style.borders.right.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            if (this.style.borders.top.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            if (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) {\n                pen.lineCap = PdfLineCap.Square;\n            }\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = this.cells.getCell(0).height;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = this.gantt.rows.getRow(0).height;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection();\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.ganttStyle.connectorLineColor = predecessor.connectorLineColor;\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (this.colIndex !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            args.value = new PdfBitmap(args.image.base64);\n            args.value.height = args.image.height || args.value.height;\n            args.value.width = args.image.width || args.value.width;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : PdfFontFamily.TimesRoman;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = padding - style.fontSize;\n        cell.style.padding.bottom = padding - style.fontSize;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var bounds = new RectangleF(0, 0, pdfDoc.pageSettings.width, 35);\n            var pen = new PdfPen(this.ganttStyle.chartGridLineColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pdfDoc.pageSettings.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ? this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n            var graphics = page.graphics;\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            if (page['contentWidth'] && (this.parent.gridLines === \"Both\" || this.parent.gridLines === \"Horizontal\")) {\n                graphics.drawRectangle(pen, startPoint.x, startPoint.y, this.isAutoFit() && this.parent.timelineModule.bottomTier !== \"Day\" ? page['contentWidth'] + 0.5 : lineWidth, rowHeight);\n            }\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize\n            ? new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle)\n            : font;\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else {\n            taskLabelFont = font;\n        }\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontColor) {\n            taskLabelFontBrush = new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor);\n        }\n        else {\n            taskLabelFontBrush = fontBrush;\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        var pageIndex = -1;\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width / 2.0 : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result_1 = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_1.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_1.remainder)) {\n                                        this.remainString = result_1.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result_2 = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_2.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_2.remainder)) {\n                                        this.remainString = result_2.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isSpliterTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= renderWidth_1) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = renderWidth_1;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (taskbar.left + 0.5) + (taskbar.width) / 2, 0), new PointF(startPoint.x + (taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (taskbar.left + 0.5), startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (taskbar.left + 0.5) + (taskbar.width), 0), new PointF(startPoint.x + (taskbar.left + 0.5) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (taskbar.left + 0.5) + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (taskbar.left + 0.5), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5);\n                    taskGraphics.save();\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.width), startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.width) - 5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x, startPoint.y + adjustHeight_1), new PointF((taskbar.width), startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width), startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, taskbar.width, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, taskbar.width, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, taskbar.progressWidth, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    }\n                    else {\n                        taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    }\n                    taskbar.segmentCollection.map(function (data) {\n                        if (data.width !== 0) {\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                        taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    });\n                }\n                else {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (taskbar.left + 0.5), startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (!isNullOrUndefined(this.remainString)) {\n                                var result_3 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                taskGraphics.drawString(result_3.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left), (startPoint.y + adjustHeight_1), (updatedWidth), (this.height), progressFormat);\n                            }\n                        }\n                    }\n                    else {\n                        taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result = this.getWidth(this.remainString, taskbar.width - taskbar.left, 15);\n                            taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left), (startPoint.y + adjustHeight_1), result.actualSize.width, pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (taskbar.left + 0.5), startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                        }\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    if (!isNullOrUndefined(this.remainString)) {\n                                        var result_4 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                        taskGraphics.drawString(result_4.lines[0].text, font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + (this.left), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data) {\n                        if (_this.isAutoFit()) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                        }\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (taskbar.left) + 0.5 + (detail.totalWidth) / 2, 0), new PointF(startPoint.x + (taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (taskbar.left) + 0.5, startPoint.y + adjustHeight_1, (detail.totalWidth), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (taskbar.left) + 0.5 + (detail.totalWidth), 0), new PointF(startPoint.x + (taskbar.left) + (detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (taskbar.left) + 0.5 + (detail.totalWidth) / 2, startPoint.y + adjustHeight_1, (detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x, startPoint.y + adjustHeight_1), new PointF((detail.totalWidth), startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, detail.totalWidth, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, detail.totalWidth, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + taskbar.left + 0.5, startPoint.y + adjustHeight_1, detail.totalWidth, taskbar.height);\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    }\n                }\n                else {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (taskbar.left) + 0.5, startPoint.y + adjustHeight_1, (detail.totalWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (!isNullOrUndefined(this.remainString)) {\n                                var result_5 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                taskGraphics.drawString(result_5.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                }\n                if (this.isScheduledTask) {\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (taskbar.left) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = progressBoundsWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                        else {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                if (detail.startDate <= taskbar.baselineStartDate && taskbar.baselineEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.baselineStartDate && detail.endDate >= taskbar.baselineStartDate && (taskbar.baselineEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    renderWidth = (detail.totalWidth - (taskbar.baselineLeft - cumulativeWidth));\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    taskbar.baselineWidth = taskbar.baselineWidth - renderWidth;\n                    this.baselineLeft = 0;\n                    this.isCompletedBaseline = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.baselineEndDate <= detail.endDate && detail.startDate <= taskbar.baselineEndDate && !this.isCompletedBaseline) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.baselineStartDate < detail.startDate && taskbar.baselineEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = false;\n                    this.baselineWidth -= detail.totalWidth;\n                }\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (taskbar.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (taskbar.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                            }\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar);\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    /* eslint-disable-next-line */\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    /* eslint-disable-next-line */\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_6 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_6.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_7 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_7.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font = new PdfStandardFont(this.fontFamily, 9);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     *  @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (this.isAutoFit()) {\n                taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n            }\n            else {\n                taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfFontFamily, PdfBrushes, RectangleF } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        this.detailsTimeline = detail;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier && this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var rectPen;\n        var rectBrush = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = day / width;\n                    _this.holidayCompleted = true;\n                }\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var rectPen1 = new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        graphics.drawRectangle(rectPen1, rectBrush, x, y, width, pixelToPoint(height));\n        if (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) {\n            rectPen = new PdfPen(eventArgs.timelineCell.borderColor);\n        }\n        else {\n            rectPen = null;\n        }\n        graphics.drawRectangle(rectPen, rectBrush, x, y + pixelToPoint(height), width, page.getClientSize().height);\n        if (this.holidayCompleted) {\n            var state_1 = graphics.save();\n            var font1 = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var holidayBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n            var font1 = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n            var fontSize = font1.size;\n            graphics.drawRectangle(null, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, page.getClientSize().height);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + 4;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    PdfGanttPredecessor.prototype.findindex = function (num) {\n        var dataindex;\n        if (!this.parent.enableVirtualization) {\n            this.parent.currentViewData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n        else {\n            this.parent.flatData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.findindex(this.parentIndex)];\n        var childTask = pdfGantt.taskbarCollection[this.findindex(this.childIndex)];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n        var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n        var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n        var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n            ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                midPointManualparent : midPointforTaskbar;\n        midPoint = pixelToPoint(midPoint);\n        /* eslint-disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1;\n        var sspoint1;\n        var ffpoint3;\n        var ffpoint4;\n        var sspoint4;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        else {\n            ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), childY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), parentY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                point3 = new PointF(point2.x, childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                point3 = new PointF(point2.x, parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfDashStyle, PdfBrushes } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = new PdfPen(new PdfColor(0, 0, 0));\n        eventLine.dashStyle = PdfDashStyle.Dash;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var eventBrush = new PdfSolidBrush(new PdfColor(253, 191, 100));\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x +\n                        (left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n            });\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(206, 206, 206));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit() &&\n                        _this.parent.timelineModule.bottomTier !== 'Day') ? page['contentWidth'] + 0.5 : lineWidth, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = this.parent.updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","isLoad","currentDay","Date","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","getDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","treeGrid","loadChildOnDemand","hasChildMapping","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","getHours","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","getSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","getValidEndDate","getWorkingTime","day","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","seconds","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getMinutes","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","segment","bottomTier","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","map","chartRowsModule","updateSegment","taskId","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","set","uniqueID","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","level","rowUniqueID","sharedTaskUniqueIds","parentItem","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","taskSettings","progress","notes","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","allowUnscheduledTasks","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","predefinedProperties","cleanedObject","extraProperties","String","left","segmentIndex","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","taskType","isOnEdit","childCompletedWorks","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","updateDurationWithWork","updateUnitWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","ganttResources","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","isDecimalDuration","test","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","topTier","zoomOrTimeline","currentZoomingLevel","timelineSettings","countValue","isValid","modifiedsDate","isValid_1","k","dateDiff","perDayWidth","isInDst","totalWidth","sOffset","eOffset","customTimelineSettings","getDSTTransitions","year","findNthWeekday","month","n","dstStartDate","dstStartTime","dstEndDate","dstStart","dstEnd","hasDSTTransition","january","july","isFromTimelineVirtulization","isDurationDecimal","leftValueForStartDate","taskBarEditAction","ganttChartModule","scrollObject","enableTimelineVirtualization","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","transitions","hasDST","newTimelineStartDate","newDate","setStartDate","isBeforeOrAtDSTStart","timelineUnitSize","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","cStartDate","cEndDate","range","tEndDate","rangeObj_1","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","end","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","start","isInSplit","rangeObj","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","getParentTask","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isParent","deleteUpdate","isParentUnschecule","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","isChildBoth","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","this_4","isOnDelete","isDelete","propertyWithValue_1","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","timelineSingleHeaderOuterDiv","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","traceChildTaskBar","manualParentTaskBar","label","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","enableVirtualization","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","abs","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","isGanttElement","currentToolbarIndex","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getRangeHeight","topValue","rowIndex","enableMultiTaskbar","offsetTop","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","isCancel","collapsedGanttRow","arg","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","isAdaptive","click","body","unWireEvents","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","preventDefault","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","matches","validateNextElement","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","cls.chartRow","__assign","s","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","performedTimeSpanAction","isZoomedToFit","initProperties","timelineEndDate","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","processZooming","previousTimeline","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","foundLevel","zoomingLevels","find","tempLevel","enableItems","controlId","findIndex","newTimeline","timeline","changeTimelineSettings","skipProperty","property","tier","calculateWidthBetweenTwoDate","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","cls.timelineSingleHeaderOuterDiv","dateByLeftValue","milliSecondsPerPixel","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","locale","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","WidthForVirtualTable","timelineCell","getHeaterTemplateString","calculateQuarterEndDate","getIncrement","dubStartDate","dubStartHour","differenceIncrement","tierCollection","weekendEndDate","updateTimelineAfterZooming","resized","totWidth","contentWidth","widthDiff","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","checkDate","diffCount","isWeekendHeaderCell","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","incrementValue","dubNewDate","newDateOffset","dubNewDateOffset","timelineStartTime","totalHour","incrementHour","perMinuteWidth","bottomTierSettings","bottomTierCountIsOneAndUnitIsHour","cellWidth","isWeekendCell","textClassName","getTemplateID","weekendClass","th","weekendBackground","title","showTooltip","textContent","isReact","append","isWeekend","bottomTierCount","topTierCount","bottomTierCellWidth","topTierCellWidth","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","minEndDate","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","navigator","userAgent","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsedArgs","expandedArgs","updateKeyConfigSettings","recordOne","updatedArgs","sortSettings","deleteObject","getTaskByUniqueID","initiateCellEdit","currentEditRow","isCancelled","addDeleteRecord","selectedRowIndex","selectedIndexes","selectedRowIndexes","selectRows","selectRow","selectedRecords","getSelectedRecords","selectedTaskId","deletedRecord","indexvalue_1","currentSelection","addedRecord","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","composeResourceColumn","showInlineNotes","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","text","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_1","splitString_1","splitvalue","includes","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","taskBaselineTemplateNode","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","labelSettings","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","getSplitProgressResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","rec","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","filterData","segmentsArray","segmentObj","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","leftLabel","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","rightLabel","getManualTaskbar","innerDiv","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","getRowClassName","getExpandDisplayProp","parentTaskbarTemplate","taskbarTemplate","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskbarHeightValue","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","currentData","taskbarElements","getRowByID","taskbarElement_1","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","refreshRow","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","segmentedTasks","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentRecord","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","predecessorValue","offsetValue","predecessorText","parentRecords","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","pop","substring","lastIndex","lastIndexOf","lastPart","lengthToSlice","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","validateParentPredecessor","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","validatePredecessorDates","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","parentRec","isValidationEnabled","isValidatedParentTaskID","rootParent","getRootParent","ganttProp_1","childRec","updateOffsetOnTaskbarEdit","isFirstCall","JSON","parse","stringify","concat","validUpdate","validatedChildItems","previousData","previousRecords","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","parentIndex","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","getBoundingClientRect","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","getBorderStyles","cssType","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","isMilestoneParent","isVirtual","getPosition","rowPositionHeight","isMilestoneValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","x1","x2","y1","y2","x3","x4","y3","y4","point1","point2","topPosition","lineHeight","midPointParent","midPoint","isParentIndex","isChildIndex","lastRowIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","innerTd","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","view","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","event","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","getTooltipContent","tooltipSettings","taskbar","taskbarTemplateNode","tooltipTemplate","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","contentTemp","initializeCSPTemplate","startDateValue","endDateValue","progressValue","startDate_1","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","focussedElement","hidePopUp","currentSelectingRecord","searchElement","upDownKeyNavigate","expandCollapseKey","textValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","totalUndoAction","isOnAdded","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","hours","minutes","minute","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","splitterModule","keyConfig","home","saveRequest","cancelRequest","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","clear","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","tbody","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","properties","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","resetTemplates","requiredModules","member","sortColumn","isMultiSort","sortModule","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","FF","FS","SF","SS","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","get","parent_2","filterByColumn","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","pageOrientation","export","clearFiltering","removeFilteredColsByField","nonWorkingDays","isDisabled","previousTimeSpan","timeSpan","reorderColumns","fromFName","toFName","initiateEditAction","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","parentTask","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","splitString","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","offsetLeft","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","editing","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","connectorElement","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","ele","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","diffrenceWidth","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","childProgressResizer","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","manualParentRight","manualParentLeft","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalTaskWidth","totalProgressWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","sqrt","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","customComparator","typeOrder","typeA","typeB","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","hasEditedBatchCell","hasEditedOrAddedRow","batchSave","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","placeholder","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","tempValue","ganttId","taskField","picker","numericTextBox","validateDuration","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","write","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","HTMLElement","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","getDialogTabIndex","tabName","indexValue","itemName","preData","allProperty","toolbarCollection","columnCollection","additionalParams","Grid","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","Print","PdfExport","ExcelExport","GridToolbar","VirtualScroll","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","popupHeight","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","parentUniqueID","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","fromRecord","toRecord","preElement","newValues","name_1","resourceElement","idArray","notesElement","rte","getHtml","getText","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","lineArray","editedConnectorLineString","lineIndex","lineString","idFromPredecessor","preArray","preIdArray","strArray","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","matchedObject","removePredecessors","compareObjects","obj1","obj2","keys1","keys2","every","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","endDateOlny","startDateOlny","startDateOlnys","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_5","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttPropKey","totDuration","sdate","edate","seg","validateScheduleValues","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","editedEventArgs","resetValidateArgs","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","unModifiedData","eventArg","ganttProps","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","resourceParent","deleteRow","totalRecords","getCellSelectedRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","predecessorToString","tem","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","tempArray_1","addedRec","createNewRecord","tempRecord","taskSettingsFields","AddRecord","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","i_2","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","treeColumn","ui","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","flValInput","filteredValue","fltrObj","operator","dropInstance","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","parentNodeTop","parentNodeLeft","gridPos","gridPosTop","gridPosLeft","isNonBodyTag","HTMLDocument","liPos","scrollX","scrollY","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","ctrlKey","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","startIndex","endIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","Toolbar","predefinedItems","propertyChanged","headerModule","offsetParent","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","selectedRecordsCount","index_2","hideItem","index_3","items_1","NonWorkingDay","weekendWidthUpdated","nonworkingContainer","createNonworkingContainer","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","getWeekendElements","nonWorkingIndex","isFirstExecution","dubDate","sDateOffset","dubDateOffset","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","enddate","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","searchString","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","previousRecord","prevInd","parentDataIndex","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","clientX","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","columnMenuModule","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","touches","clientY","ganttDragelem","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","PdfBorders","defaultBorderPenLeft","PdfPen","dashStyle","PdfDashStyle","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","beginCellDraw","endCellDraw","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowCount","tempWidth","rowWidth","initialWidth","getHeader","drawGrid","newBound","setSpan","layouter","onBeginCellDraw","raiseBeginCellDraw","onEndCellDraw","raiseEndCellDraw","colSpan","rowSpan","currentRowIndex","maxSpan","isRowMergeContinue","isCellMergeStart","isRowMergeStart","totalColumnWidth","maximumRowSpan","colcount","PdfLayoutElement","PdfTreeGridCell","cellHeight","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","padding","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","lineWidth","processRecordCell","formatCellValue","pdfQueryCellInfo","getFontFamily","getFontStyle","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFont","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","PdfPageTemplateElement","footerBrush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","pageSize","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","taskGraphics","isNextPage","endPoint","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","progressFormat","updatedWidth","isLabelString","pageIndex","baselinePen","baselineBrush","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","result_1","getWidth","lines","remainder","remainString","progressBoundsWidth","result_2","result_3","result_4","result_5","isCompletedBaseline","renderWidth","isCompletedAutotask","currendate","PdfBrushes","Black","drawRightLabel","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","adjustHeight","point","labelBounds","labelFormat","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_6","result_7","PdfWordWrapType","Character","taskBrush","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","fitHolidayCompleted","lastWidth","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","triggerQueryTimelinecell","secondHeader","isTopTier","currentDate","timelineStyle","pdfQueryTimelineCellInfo","rectPen","rectBrush","timelinedate","holidayWidth","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","rectPen1","fontHieght","font1","holidayBrush","pLeft","pTop","state","setClip","PdfGanttPredecessor","pdfGantt","findindex","dataindex","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","eventMarker","cumulativeHeight","strSize","measureString","eventLine","Dash","enventFormat","eventBrush","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","exportType","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","PdfPageOrientation","Landscape","Portrait","getPageSize","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"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"}