/*!
*  filename: ej2-svg-base.min.js
*  version : 26.2.10
*  Copyright Syncfusion Inc. 2001 - 2023. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("SyncfusionBase")):"function"==typeof define&&define.amd?define(["SyncfusionBase"],e):"object"==typeof exports?exports.SyncfusionSvgBase=e(require("SyncfusionBase")):t.SyncfusionSvgBase=e(t.SyncfusionBase)}(self,(t=>(()=>{"use strict";var e={766:e=>{e.exports=t}},i={};function r(t){var o=i[t];if(void 0!==o)return o.exports;var n=i[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{AreaBounds:()=>A,CanvasRenderer:()=>i,CustomizeOption:()=>u,PathOption:()=>b,Rect:()=>c,Side:()=>y,Size:()=>p,SvgRenderer:()=>e,TextOption:()=>g,TextStyle:()=>P,ToolLocation:()=>O,Tooltip:()=>k,TooltipBorder:()=>T,TooltipLocation:()=>F,calculateShapes:()=>v,drawSymbol:()=>x,findDirection:()=>d,getElement:()=>f,getTooltipThemeColor:()=>n,measureText:()=>l,removeElement:()=>m,textElement:()=>w,withInAreaBounds:()=>h});var t=r(766),e=function(){function e(t){this.svgLink="http://www.w3.org/2000/svg",this.rootId=t}return e.prototype.getOptionValue=function(t,e){return t[e]},e.prototype.createSvg=function(e){return(0,t.isNullOrUndefined)(e.id)&&(e.id=this.rootId+"_svg"),this.svgObj=document.getElementById(e.id),(0,t.isNullOrUndefined)(document.getElementById(e.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(e,this.svgObj),this.setSVGSize(e.width,e.height),this.svgObj},e.prototype.setSVGSize=function(e,i){var r=document.getElementById(this.rootId),o=(0,t.isNullOrUndefined)(r)?null:r.getBoundingClientRect();(0,t.isNullOrUndefined)(this.width)||this.width<=0?this.svgObj.setAttribute("width",e?e.toString():o.width.toString()):this.svgObj.setAttribute("width",this.width.toString()),(0,t.isNullOrUndefined)(this.height)||this.height<=0?this.svgObj.setAttribute("height",i?i.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())},e.prototype.drawPath=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"path")),e=this.setElementAttributes(t,e)},e.prototype.drawLine=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"line")),e=this.setElementAttributes(t,e)},e.prototype.drawRectangle=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"rect")),e=this.setElementAttributes(t,e)},e.prototype.drawCircle=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"circle")),e=this.setElementAttributes(t,e)},e.prototype.drawPolyline=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"polyline")),e=this.setElementAttributes(t,e)},e.prototype.drawEllipse=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"ellipse")),e=this.setElementAttributes(t,e)},e.prototype.drawPolygon=function(t){var e=document.getElementById(t.id);return null===e&&(e=document.createElementNS(this.svgLink,"polygon")),e=this.setElementAttributes(t,e)},e.prototype.drawImage=function(e){var i=document.createElementNS(this.svgLink,"image");return i.setAttributeNS(null,"height",e.height.toString()),i.setAttributeNS(null,"width",e.width.toString()),i.setAttributeNS("http://www.w3.org/1999/xlink","href",e.href),i.setAttributeNS(null,"x",e.x.toString()),i.setAttributeNS(null,"y",e.y.toString()),i.setAttributeNS(null,"id",e.id),i.setAttributeNS(null,"visibility",e.visibility),(0,t.isNullOrUndefined)(this.getOptionValue(e,"clip-path"))||i.setAttributeNS(null,"clip-path",this.getOptionValue(e,"clip-path")),(0,t.isNullOrUndefined)(e.preserveAspectRatio)||i.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio),i},e.prototype.createText=function(e,i){var r=document.createElementNS(this.svgLink,"text");return r=this.setElementAttributes(e,r),(0,t.isNullOrUndefined)(i)||(r.textContent=i),r},e.prototype.createTSpan=function(e,i){var r=document.createElementNS(this.svgLink,"tspan");return r=this.setElementAttributes(e,r),(0,t.isNullOrUndefined)(i)||(r.textContent=i),r},e.prototype.createTitle=function(t){var e=document.createElementNS(this.svgLink,"title");return e.textContent=t,e},e.prototype.createDefs=function(){return document.createElementNS(this.svgLink,"defs")},e.prototype.createClipPath=function(t){var e=document.createElementNS(this.svgLink,"clipPath");return e=this.setElementAttributes(t,e)},e.prototype.createForeignObject=function(t){var e=document.createElementNS(this.svgLink,"foreignObject");return e=this.setElementAttributes(t,e)},e.prototype.createGroup=function(t){var e=document.createElementNS(this.svgLink,"g");return e=this.setElementAttributes(t,e)},e.prototype.createPattern=function(t,e){var i=document.createElementNS(this.svgLink,e);return i=this.setElementAttributes(t,i)},e.prototype.createRadialGradient=function(e,i,r){var o;if((0,t.isNullOrUndefined)(e[0].colorStop))o=e[0].color.toString();else{var n={id:this.rootId+"_"+i+"radialGradient",cx:r.cx+"%",cy:r.cy+"%",r:r.r+"%",fx:r.fx+"%",fy:r.fy+"%"};this.drawGradient("radialGradient",n,e),o="url(#"+this.rootId+"_"+i+"radialGradient)"}return o},e.prototype.createLinearGradient=function(e,i,r){var o;if((0,t.isNullOrUndefined)(e[0].colorStop))o=e[0].color.toString();else{var n={id:this.rootId+"_"+i+"linearGradient",x1:r.x1+"%",y1:r.y1+"%",x2:r.x2+"%",y2:r.y2+"%"};this.drawGradient("linearGradient",n,e),o="url(#"+this.rootId+"_"+i+"linearGradient)"}return o},e.prototype.drawGradient=function(e,i,r){var o=this.createDefs(),n=document.createElementNS(this.svgLink,e);n=this.setElementAttributes(i,n);for(var a=0;a<r.length;a++){var s=document.createElementNS(this.svgLink,"stop");s.setAttribute("offset",r[a].colorStop),s.setAttribute("stop-color",r[a].color),s.setAttribute("stop-opacity",r[a].opacity?r[a].opacity:"1"),(0,t.isNullOrUndefined)(r[a].style)||(s.style.cssText=r[a].style),n.appendChild(s)}return o.appendChild(n),o},e.prototype.drawClipPath=function(t){var e=this.createDefs(),i=this.createClipPath({id:t.id});t.id=t.id+"_Rect";var r=this.drawRectangle(t);return i.appendChild(r),e.appendChild(i),e},e.prototype.drawCircularClipPath=function(t){var e=this.createDefs(),i=this.createClipPath({id:t.id});t.id=t.id+"_Circle";var r=this.drawCircle(t);return i.appendChild(r),e.appendChild(i),e},e.prototype.setElementAttributes=function(t,e){for(var i=Object.keys(t),r=0;r<i.length;r++)"style"===i[r]?e.style.cssText=t[i[r]]:e.setAttribute(i[r],t[i[r]]);return e},e.prototype.createCanvas=function(){return null},e}(),i=function(){function e(t){this.rootId=t}return e.prototype.getOptionValue=function(t,e){return t[e]},e.prototype.createCanvas=function(t){var e=document.createElement("canvas");return e.setAttribute("id",this.rootId+"_canvas"),this.ctx=e.getContext("2d"),this.canvasObj=e,this.setCanvasSize(t.width,t.height),this.canvasObj},e.prototype.setCanvasSize=function(e,i){var r=document.getElementById(this.rootId),o=(0,t.isNullOrUndefined)(r)?null:r.getBoundingClientRect();(0,t.isNullOrUndefined)(this.width)?this.canvasObj.setAttribute("width",e?e.toString():o.width.toString()):this.canvasObj.setAttribute("width",this.width.toString()),(0,t.isNullOrUndefined)(this.height)?this.canvasObj.setAttribute("height",i?i.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())},e.prototype.setAttributes=function(e){this.ctx.lineWidth=this.getOptionValue(e,"stroke-width");var i=this.getOptionValue(e,"stroke-dasharray");if(!(0,t.isNullOrUndefined)(i)){var r=i.split(",");this.ctx.setLineDash([parseInt(r[0],10),parseInt(r[1],10)])}this.ctx.strokeStyle=this.getOptionValue(e,"stroke")},e.prototype.drawLine=function(t){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=this.getOptionValue(t,"stroke-width"),this.ctx.strokeStyle=t.stroke,this.ctx.moveTo(t.x1,t.y1),this.ctx.lineTo(t.x2,t.y2),this.ctx.stroke(),this.ctx.restore()},e.prototype.drawRectangle=function(t,e){var i=this.ctx,r=t.rx;return this.ctx.save(),this.ctx.beginPath(),e&&this.ctx.translate(e[0],e[1]),this.ctx.globalAlpha=this.getOptionValue(t,"opacity"),this.setAttributes(t),this.ctx.rect(t.x,t.y,t.width,t.height),null!==r&&r>=0?this.drawCornerRadius(t):("none"===t.fill&&(t.fill="transparent"),this.ctx.fillStyle=t.fill,this.ctx.fillRect(t.x,t.y,t.width,t.height),this.ctx.stroke()),this.ctx.restore(),this.ctx=i,this.canvasObj},e.prototype.drawCornerRadius=function(t){var e=t.rx,i=t.x,r=t.y,o=t.width,n=t.height;"none"===t.fill&&(t.fill="transparent"),this.ctx.fillStyle=t.fill,o<2*e&&(e=o/2),n<2*e&&(e=n/2),this.ctx.beginPath(),this.ctx.moveTo(i+o-e,r),this.ctx.arcTo(i+o,r,i+o,r+n,e),this.ctx.arcTo(i+o,r+n,i,r+n,e),this.ctx.arcTo(i,r+n,i,r,e),this.ctx.arcTo(i,r,i+o,r,e),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()},e.prototype.drawPath=function(t,e){var i=t.d.split(" "),r=this.getOptionValue(t,"stroke-width"),o=this.ctx,n=!0;this.ctx.save(),this.ctx.beginPath(),e&&this.ctx.translate(e[0],e[1]),this.ctx.globalAlpha=t.opacity?t.opacity:this.getOptionValue(t,"fill-opacity"),this.setAttributes(t);for(var a=0;a<i.length;a+=3){var s=parseFloat(i[a+1]),l=parseFloat(i[a+2]);switch(i[a]){case"M":t.innerR||t.cx||this.ctx.moveTo(s,l);break;case"L":t.innerR||this.ctx.lineTo(s,l);break;case"Q":var h=parseFloat(i[a+3]),d=parseFloat(i[a+4]);this.ctx.quadraticCurveTo(s,l,h,d),a+=2;break;case"C":var p=parseFloat(i[a+3]),c=parseFloat(i[a+4]),y=parseFloat(i[a+5]),u=parseFloat(i[a+6]);this.ctx.bezierCurveTo(s,l,p,c,y,u),a+=4;break;case"A":t.innerR?n&&(this.ctx.arc(t.x,t.y,t.radius,t.start,t.end,t.counterClockWise),this.ctx.arc(t.x,t.y,t.innerR,t.end,t.start,!t.counterClockWise),n=!1):t.cx?this.ctx.arc(t.cx,t.cy,t.radius,0,2*Math.PI,t.counterClockWise):(this.ctx.moveTo(t.x,t.y),this.ctx.arc(t.x,t.y,t.radius,t.start,t.end,t.counterClockWise),this.ctx.lineTo(t.x,t.y)),a+=5;break;case"z":case"Z":this.ctx.closePath(),a-=2}}return"none"!==t.fill&&void 0!==t.fill&&(this.ctx.fillStyle=t.fill,this.ctx.fill()),r>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=o,this.canvasObj},e.prototype.createText=function(e,i,r,o,n,a){var s=this.getOptionValue(e,"font-weight");(0,t.isNullOrUndefined)(s)||"regular"!==s.toLowerCase()||(s="normal");var l=this.getOptionValue(e,"font-size"),h=this.getOptionValue(e,"font-family"),d=this.getOptionValue(e,"font-style").toLowerCase()+" "+s+" "+l+" "+h,p=this.getOptionValue(e,"text-anchor"),c=void 0!==e.opacity?e.opacity:1;if("middle"===p&&(p="center"),this.ctx.save(),this.ctx.fillStyle=e.fill,this.ctx.font=d,this.ctx.textAlign=p,this.ctx.globalAlpha=c,e.baseline&&(this.ctx.textBaseline=e.baseline),!a){this.ctx.translate(e.x+0+(r||0),e.y+(o||0)),this.ctx.rotate(e.labelRotation*Math.PI/180)}return this.ctx.fillText(i,a?e.x:0,a?n:0),this.ctx.restore(),this.canvasObj},e.prototype.drawCircle=function(t,e){var i=this.ctx;return this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.cx,t.cy,t.r,0,2*Math.PI),this.ctx.fillStyle=t.fill,this.ctx.globalAlpha=t.opacity,this.ctx.fill(),e&&this.ctx.translate(e[0],e[1]),this.setAttributes(t),this.ctx.stroke(),this.ctx.restore(),this.ctx=i,this.canvasObj},e.prototype.drawPolyline=function(t){this.ctx.save(),this.ctx.beginPath();for(var e=t.points.split(" "),i=0;i<e.length-1;i++){var r=e[i].split(","),o=parseFloat(r[0]),n=parseFloat(r[1]);0===i?this.ctx.moveTo(o,n):this.ctx.lineTo(o,n)}this.ctx.lineWidth=this.getOptionValue(t,"stroke-width"),this.ctx.strokeStyle=t.stroke,this.ctx.stroke(),this.ctx.restore()},e.prototype.drawEllipse=function(t,e){var i=this.ctx,r=Math.max(t.rx,t.ry),o=t.rx/r,n=t.ry/r;this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(t.cx,t.cy),e&&this.ctx.translate(e[0],e[1]),this.ctx.save(),this.ctx.scale(o,n),this.ctx.arc(0,0,r,0,2*Math.PI,!1),this.ctx.fillStyle=t.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=this.getOptionValue(t,"stroke-width"),this.ctx.strokeStyle=t.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i},e.prototype.drawImage=function(e){this.ctx.save();var i=new Image;(0,t.isNullOrUndefined)(e.href)||(i.src=e.href,this.ctx.drawImage(i,e.x,e.y,e.width,e.height)),this.ctx.restore()},e.prototype.createLinearGradient=function(e){var i;return(0,t.isNullOrUndefined)(e[0].colorStop)||(i=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(e,i)},e.prototype.createRadialGradient=function(e){var i;return(0,t.isNullOrUndefined)(e[0].colorStop)||(i=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(e,i)},e.prototype.setGradientValues=function(e,i){var r;if((0,t.isNullOrUndefined)(e[0].colorStop))r=e[0].color.toString();else{for(var o=0;o<=e.length-1;o++){var n=e[o].color,a=e[o].colorStop.slice(0,-1),s=parseInt(a,10)/100;i.addColorStop(s,n)}r=i.toString()}return r},e.prototype.setElementAttributes=function(t,e){for(var i=Object.keys(t),r=Object.keys(t).map((function(e){return t[e]})),o=0;o<i.length;o++)e.setAttribute(i[o],r[o]);return null},e.prototype.updateCanvasAttributes=function(e){this.setElementAttributes(e,this.canvasObj);var i=this.ctx;if(!(0,t.isNullOrUndefined)(this.dataUrl)){var r=new Image;r.onload=function(){i.drawImage(r,0,0)},r.src=this.dataUrl}},e.prototype.clearRect=function(t){this.ctx.restore(),this.ctx.clearRect(t.x,t.y,t.width,t.height)},e.prototype.createGroup=function(){return null},e.prototype.drawClipPath=function(){return null},e.prototype.drawCircularClipPath=function(){return null},e.prototype.canvasClip=function(t){this.ctx.save(),this.ctx.fillStyle="transparent",this.ctx.rect(t.x,t.y,t.width,t.height),this.ctx.fill(),this.ctx.clip()},e.prototype.canvasRestore=function(){this.ctx.restore()},e.prototype.drawPolygon=function(){return null},e.prototype.createDefs=function(){return null},e.prototype.createClipPath=function(){return null},e.prototype.createSvg=function(){return null},e}();function n(t){var e;switch(t){case"Highcontrast":case"HighContrast":e={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",textStyle:{fontFamily:"Segoe UI",color:"#000000",fontWeight:null}};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":e={tooltipFill:"MaterialDark"===t?"#F4F4F4":"FabricDark"===t?"#A19F9D":"#F0F0F0",tooltipBoldLabel:"MaterialDark"===t?"rgba(18, 18, 18, 1)":"FabricDark"===t?"#DADADA":"#1A1A1A",tooltipLightLabel:"MaterialDark"===t?"rgba(18, 18, 18, 1)":"FabricDark"===t?"#DADADA":"#1A1A1A",tooltipHeaderLine:"#9A9A9A",textStyle:"MaterialDark"===t?{fontFamily:"Roboto",color:"rgba(18, 18, 18, 1)",fontWeight:null}:"FabricDark"===t?{fontFamily:"Segoe UI",color:"#DADADA",fontWeight:null}:{fontFamily:"Helvetica",color:"#1A1A1A",fontWeight:null}};break;case"Bootstrap4":e={tooltipFill:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"rgba(255, 255, 255, 0.2)",textStyle:{fontFamily:"Helvetica",color:"#F9FAFB",fontWeight:null}};break;case"Tailwind":e={tooltipFill:"#111827",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",textStyle:{fontFamily:"Inter",color:"#F9FAFB",fontWeight:null}};break;case"TailwindDark":e={tooltipFill:"#E9ECEF",tooltipBoldLabel:"#1F2937",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",textStyle:{fontFamily:"Inter",color:"#1F2937",fontWeight:null}};break;case"Bootstrap5":e={tooltipFill:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#9CA3AF",textStyle:{fontFamily:"Helvetica",color:"#F9FAFB",fontWeight:null}};break;case"Bootstrap5Dark":e={tooltipFill:"#E9ECEF",tooltipBoldLabel:"#212529",tooltipLightLabel:"#212529",tooltipHeaderLine:"#ADB5BD",textStyle:{fontFamily:"Helvetica",color:"#212529",fontWeight:null}};break;case"Fluent":e={tooltipFill:"#FFFFFF",tooltipBoldLabel:"#323130",tooltipLightLabel:"#323130",tooltipHeaderLine:"#D2D0CE",textStyle:{fontFamily:"Segoe UI",color:"#323130",fontWeight:null}};break;case"FluentDark":e={tooltipFill:"#323130",tooltipBoldLabel:"#F3F2F2",tooltipLightLabel:"#F3F2F1",tooltipHeaderLine:"#3B3A39",textStyle:{fontFamily:"Segoe UI",color:"#F3F2F1",fontWeight:null}};break;case"Fluent2":e={tooltipFill:"#FFFFFF",tooltipBoldLabel:"#242424",tooltipLightLabel:"#242424",tooltipHeaderLine:"#D2D0CE",textStyle:{fontFamily:"Segoe UI",color:"#242424",fontWeight:null}};break;case"Fluent2Dark":e={tooltipFill:"#292929",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#3B3A39",textStyle:{fontFamily:"Segoe UI",color:"#FFFFFF",fontWeight:null}};break;case"Material3":e={tooltipFill:"#313033",tooltipBoldLabel:"#F4EFF4",tooltipLightLabel:"#F4EFF4",tooltipHeaderLine:"#F4EFF4",textStyle:{fontFamily:"Roboto",color:"#F4EFF4",fontWeight:null}};break;case"Material3Dark":e={tooltipFill:"#E6E1E5",tooltipBoldLabel:"#313033",tooltipLightLabel:"#313033",tooltipHeaderLine:"#313033",textStyle:{fontFamily:"Roboto",color:"#313033",fontWeight:null}};break;default:e={tooltipFill:"Material"===t?"#000816":"Fabric"===t?"#FFFFFF":"#212529",tooltipBoldLabel:"Material"===t?"rgba(249, 250, 251, 1)":"Fabric"===t?"#333333":"#F9FAFB",tooltipLightLabel:"Material"===t?"rgba(249, 250, 251, 1)":"Fabric"===t?"#333333":"#F9FAFB",tooltipHeaderLine:"Fabric"===t?"#D2D0CE":"#ffffff",textStyle:"Material"===t?{fontFamily:"Roboto",color:"rgba(249, 250, 251, 1)",fontWeight:null}:"Fabric"===t?{fontFamily:"Segoe UI",color:"#333333",fontWeight:null}:{fontFamily:"Helvetica",color:"#F9FAFB",fontWeight:null}}}return e}var a,s=(a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},a(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function l(e,i,r){var o=e||"",n=document.getElementById("chartmeasuretext");if(null===n&&(n=(0,t.createElement)("text",{id:"chartmeasuretext"}),document.body.appendChild(n)),"string"==typeof e&&(e.indexOf("<")>-1||e.indexOf(">")>-1)){for(var a=e.split(" "),s=0;s<a.length;s++)-1===a[s].indexOf("<br/>")&&(a[s]=a[s].replace(/[<>]/g,"&"));e=a.join(" ")}n.innerHTML=o.indexOf("<br>")>-1||o.indexOf("<br/>")>-1?o:e,n.style.position="fixed",n.style.fontSize=i.size||r.size,n.style.fontStyle=i.fontStyle||r.fontStyle,n.style.fontFamily=i.fontFamily||r.fontFamily,n.style.visibility="hidden",n.style.top="-100",n.style.left="0",n.style.whiteSpace="nowrap",n.style.lineHeight="normal";var l=n.clientWidth,h=n.clientHeight,d=n.style.fontWeight;return n.style.fontWeight=i.fontWeight||r.fontWeight,new p("bold"===n.style.fontWeight&&"normal"===d?Math.max(l,n.clientWidth):n.clientWidth,"bold"===n.style.fontWeight&&"normal"===d?Math.max(h,n.clientHeight):n.clientHeight)}function h(t,e,i,r,o){return void 0===r&&(r=0),void 0===o&&(o=0),t>=i.x-r&&t<=i.x+i.width+r&&e>=i.y-o&&e<=i.y+i.height+o}function d(t,e,i,r,o,n,a,s,l,h,d){void 0===d&&(d="");var p="",c=i.x,y=i.y,u=i.x+i.width,g=i.y+i.height;return n?(p=(p=p.concat("M "+c+" "+(y+e)+" Q "+c+" "+y+" "+(c+t)+" "+y+"  L "+(u-t)+" "+y+" Q "+u+" "+y+" "+u+" "+(y+e))).concat(" L "+u+" "+(g-e)+" Q "+u+" "+g+" "+(u-t)+" "+g),0!==o&&(p="RangeNavigator"===d?r.x-o>u/2?(p=p.concat(" L "+(r.x+o)+" "+g)).concat(" L "+(l+o)+" "+(g+o)+" L "+r.x+" "+g):(p=p.concat(" L "+r.x+" "+g)).concat(" L "+(l-o)+" "+(g+o)+" L "+(r.x-o)+" "+g):(p=p.concat(" L "+(r.x+o)+" "+g)).concat(" L "+l+" "+(g+o)+" L "+(r.x-o)+" "+g)),p=r.x-o>c||0===o?p.concat(" L "+(c+t)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-e)+" z"):p.concat(" L "+c+" "+(g+e)+" z")):a?p=(p=(p=(p=(p=p.concat("M "+c+" "+(y+e)+" Q "+c+" "+y+" "+(c+t)+" "+y+" L "+(r.x-o)+" "+y)).concat(" L "+l+" "+r.y)).concat(" L "+(r.x+o)+" "+y)).concat(" L "+(u-t)+" "+y+" Q "+u+" "+y+" "+u+" "+(y+e))).concat(" L "+u+" "+(g-e)+" Q "+u+" "+g+" "+(u-t)+" "+g+" L "+(c+t)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-e)+" z"):s?(p=(p=p.concat("M "+c+" "+(y+e)+" Q "+c+" "+y+" "+(c+t)+" "+y)).concat(" L "+(u-t)+" "+y+" Q "+u+" "+y+" "+u+" "+("RangeNavigator"===d?0:y+e)+" L "+u+" "+("RangeNavigator"===d?0:r.y-o)),p="RangeNavigator"===d?p.concat(" L "+(u+o)+" 0"):p.concat(" L "+(u+o)+" "+h),p=(p=(p="RangeNavigator"===d?p.concat(" L "+u+" "+(r.y-e)):p.concat(" L "+u+" "+(r.y+o))).concat(" L "+u+" "+(g-e)+" Q "+u+" "+g+" "+(u-t)+" "+g)).concat(" L "+(c+t)+" "+g+" Q "+c+" "+g+" "+c+" "+(g-e)+" z")):(p=p.concat("M "+(c+t)+" "+y+" Q "+c+" "+y+" "+c+" "+("RangeNavigator"===d?0:y+e)+" L "+c+" "+("RangeNavigator"===d?0:r.y-o)),p="RangeNavigator"===d?p.concat(" L "+(c-o)+" 0"):p.concat(" L "+(c-o)+" "+h),p=(p=(p="RangeNavigator"===d?p.concat(" L "+c+" "+(r.y-e)):p.concat(" L "+c+" "+(r.y+o))).concat(" L "+c+" "+(g-e)+" Q "+c+" "+g+" "+(c+t)+" "+g)).concat(" L "+(u-t)+" "+g+" Q "+u+" "+g+" "+u+" "+(g-e)+" L "+u+" "+(y+e)+" Q "+u+" "+y+" "+(u-t)+" "+y+" z")),p}var p=function(t,e){this.width=t,this.height=e},c=function(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r},y=function(t,e){this.isRight=e,this.isBottom=t},u=function(t){this.id=t},g=function(t){function e(e,i,r,o,n,a,s,l){void 0===a&&(a="");var h=t.call(this,e)||this;return h.transform="",h.baseLine="auto",h.labelRotation=0,h.x=i,h.y=r,h.anchor=o,h.text=n,h.transform=a,h.baseLine=s,h.labelRotation=l,h}return s(e,t),e}(u);function f(t){return document.getElementById(t)}function m(e){var i=f(e);i&&(0,t.remove)(i)}function x(t,i,r,o,n,a,s){var l=new e(""),h=v(t,r,i,n,o),d=l["draw"+h.functionName](h.renderOption);return d.setAttribute("role",a),d.setAttribute("aria-label",s),d}function v(e,i,r,o,n){var a,s="Path",l=i.width,h=i.height,d=e.x,p=e.y,c=e.x+-l/2,y=e.y+-h/2;switch(r){case"Circle":case"Bubble":s="Ellipse",(0,t.merge)(o,{rx:l/2,ry:h/2,cx:d,cy:p});break;case"Plus":a="M "+c+" "+p+" L "+(d+l/2)+" "+p+" M "+d+" "+(p+h/2)+" L "+d+" "+(p+-h/2),(0,t.merge)(o,{d:a,stroke:o.fill});break;case"Cross":a="M "+c+" "+(p+-h/2)+" L "+(d+l/2)+" "+(p+h/2)+" M "+c+" "+(p+h/2)+" L "+(d+l/2)+" "+(p+-h/2),(0,t.merge)(o,{d:a,stroke:o.fill});break;case"HorizontalLine":a="M "+c+" "+p+" L "+(d+l/2)+" "+p,(0,t.merge)(o,{d:a,stroke:o.fill});break;case"VerticalLine":a="M "+d+" "+(p+h/2)+" L "+d+" "+(p+-h/2),(0,t.merge)(o,{d:a,stroke:o.fill});break;case"Diamond":a="M "+c+" "+p+" L "+d+" "+(p+-h/2)+" L "+(d+l/2)+" "+p+" L "+d+" "+(p+h/2)+" L "+c+" "+p+" z",(0,t.merge)(o,{d:a});break;case"Rectangle":a="M "+c+" "+(p+-h/2)+" L "+(d+l/2)+" "+(p+-h/2)+" L "+(d+l/2)+" "+(p+h/2)+" L "+c+" "+(p+h/2)+" L "+c+" "+(p+-h/2)+" z",(0,t.merge)(o,{d:a});break;case"Triangle":a="M "+c+" "+(p+h/2)+" L "+d+" "+(p+-h/2)+" L "+(d+l/2)+" "+(p+h/2)+" L "+c+" "+(p+h/2)+" z",(0,t.merge)(o,{d:a});break;case"InvertedTriangle":a="M "+(d+l/2)+" "+(p-h/2)+" L "+d+" "+(p+h/2)+" L "+(d-l/2)+" "+(p-h/2)+" L "+(d+l/2)+" "+(p-h/2)+" z",(0,t.merge)(o,{d:a});break;case"Pentagon":for(var u=void 0,g=void 0,f=0;f<=5;f++)u=l/2*Math.cos(Math.PI/180*(72*f)),g=h/2*Math.sin(Math.PI/180*(72*f)),a=0===f?"M "+(d+u)+" "+(p+g)+" ":a.concat("L "+(d+u)+" "+(p+g)+" ");a=a.concat("Z"),(0,t.merge)(o,{d:a});break;case"Image":s="Image",(0,t.merge)(o,{href:n,height:h,width:l,x:c,y});break;case"Star":var m=Math.min(l,h)/2,x=m/2,v=Math.PI/5,b="";for(f=0;f<10;f++){var w=f%2==0?m:x;b+=(0===f?"M":"L")+(d+w*Math.cos(f*v-Math.PI/2))+","+(p+w*Math.sin(f*v-Math.PI/2))}b+="Z",(0,t.merge)(o,{d:b})}return{renderOption:o,functionName:s}}var b=function(t){function e(e,i,r,o,n,a,s){var l=t.call(this,e)||this;return l.opacity=n,l.fill=i,l.stroke=o,l["stroke-width"]=r,l["stroke-dasharray"]=a,l.d=s,l}return s(e,t),e}(u);function w(t,i,r,o,n){var a,s=new e("");a={id:t.id,x:t.x,y:t.y,fill:r,"font-size":i.size||n.size,"font-style":i.fontStyle||n.fontStyle,"font-family":i.fontFamily||n.fontFamily,"font-weight":i.fontWeight||n.fontWeight,"text-anchor":t.anchor,transform:t.transform,opacity:i.opacity,"dominant-baseline":t.baseLine};var l="string"==typeof t.text?t.text:t.text[0],h=s.createText(a,l);return o&&o.appendChild(h),h}var F=function(t,e){this.x=t,this.y=e},S=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),L=function(t,e,i,r){var o,n=arguments.length,a=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(n<3?o(a):n>3?o(e,i,a):o(e,i))||a);return n>3&&a&&Object.defineProperty(e,i,a),a},P=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return S(i,e),L([(0,t.Property)(null)],i.prototype,"size",void 0),L([(0,t.Property)("")],i.prototype,"color",void 0),L([(0,t.Property)("Segoe UI")],i.prototype,"fontFamily",void 0),L([(0,t.Property)("Normal")],i.prototype,"fontWeight",void 0),L([(0,t.Property)("Normal")],i.prototype,"fontStyle",void 0),L([(0,t.Property)(1)],i.prototype,"opacity",void 0),i}(t.ChildProperty),T=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return S(i,e),L([(0,t.Property)("")],i.prototype,"color",void 0),L([(0,t.Property)(1)],i.prototype,"width",void 0),L([(0,t.Property)("")],i.prototype,"dashArray",void 0),i}(t.ChildProperty),A=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return S(i,e),L([(0,t.Property)(0)],i.prototype,"x",void 0),L([(0,t.Property)(0)],i.prototype,"y",void 0),L([(0,t.Property)(0)],i.prototype,"width",void 0),L([(0,t.Property)(0)],i.prototype,"height",void 0),i}(t.ChildProperty),O=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return S(i,e),L([(0,t.Property)(0)],i.prototype,"x",void 0),L([(0,t.Property)(0)],i.prototype,"y",void 0),i}(t.ChildProperty),k=function(i){function r(t,e){return i.call(this,t,e)||this}return S(r,i),r.prototype.preRender=function(){this.allowServerDataBinding=!1,this.initPrivateVariable(),this.isCanvas||this.removeSVG(),this.createTooltipElement()},r.prototype.initPrivateVariable=function(){this.renderer=new e(this.element.id),this.themeStyle=n(this.theme),this.formattedText=[],this.padding=5,this.highlightPadding=3,this.areaMargin=10,this.isFirst=!0,this.markerPoint=[]},r.prototype.removeSVG=function(){var e=document.getElementById(this.element.id+"_svg"),i=document.getElementById(this.element.id+"parent_template");this.blazorTemplate&&(0,t.resetBlazorTemplate)(this.element.id+"parent_template_blazorTemplate"),e&&e.parentNode&&(0,t.remove)(e),i&&i.parentNode&&(0,t.remove)(i)},r.prototype.render=function(){if(this.fadeOuted=!1,this.template)this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location);else{this.renderText(this.isFirst);var e={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",e);var i=this.renderTooltipElement(this.areaBounds,this.location);this.drawMarker(i.isBottom,i.isRight,this.markerSize)}this.trigger("loaded",{tooltip:this});var r=document.getElementById("chartmeasuretext");r&&(0,t.remove)(r),this.allowServerDataBinding=!0},r.prototype.createTooltipElement=function(){if(this.textElements=[],!this.template||this.shared){this.enableRTL&&this.element.setAttribute("dir","ltr");var t=this.renderer.createSvg({id:this.element.id+"_svg"});this.element.appendChild(t);var e=document.getElementById(this.element.id+"_group");e||(e=this.renderer.createGroup({id:this.element.id+"_group"})).setAttribute("transform","translate(0,0)"),t.appendChild(e);var i=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":"Fabric"!==this.theme&&"Fluent"!==this.theme&&"Fluent2"!==this.theme||this.border.width?this.border.width:1,fill:this.fill||this.themeStyle.tooltipFill,opacity:("TailwindDark"===this.theme||"Tailwind"===this.theme||"Bootstrap5"===this.theme||"Bootstrap5Dark"===this.theme||this.theme.indexOf("Fluent2")>-1)&&.75===this.opacity?1:this.opacity,stroke:this.border.color||("Fabric"===this.theme||"Fluent"===this.theme||"Fluent2"===this.theme?"#D2D0CE":this.border.color)});e.appendChild(i)}},r.prototype.drawMarker=function(t,e,i){if(this.shapes.length<=0)return null;var r,o=0,n=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),a=f(this.element.id+"_group");if(!a)return null;for(var s=(this.enableRTL?this.elementSize.width-i/2:2*this.marginX+i/2)+(e?this.arrowPadding:0),l=0,h=this.shapes;l<h.length;l++){var d=h[l];if("None"!==d){if(r=new b(this.element.id+"_Trackball_"+o,this.palette[o],1,"#cccccc",1,null),this.markerPoint[o]){var c=0;this.header.indexOf("<br")>-1&&(c=this.header.split(/<br.*?>/g).length+o);var y=this.formattedText&&this.formattedText.length>=2?this.getTooltipTextContent(this.formattedText[1])+", "+this.getTooltipTextContent(this.formattedText[0]):"";n.appendChild(x(new F(s,this.markerPoint[o]-this.padding+(t?this.arrowPadding:c)),d,new p(i,i),"",r,"img",y))}o++}}a.appendChild(n)},r.prototype.renderTooltipElement=function(e,i){var r,o=f(this.element.id),n=new F(0,0),a=new F(0,0),s=f(this.element.id+"_svg"),h=f(this.element.id+"_group"),p=f(this.element.id+"_path"),u=!1,g=!1,m=!1,x=0,v=0;if(!(0,t.isNullOrUndefined)(h)){if(""!==this.header&&(this.elementSize.height+=this.marginY),this.isFixed){var b=this.elementSize.width+2*this.marginX,w=this.elementSize.height+2*this.marginY;r=new c(i.x,i.y,b,w)}else this.content.length>1?(r=this.sharedTooltipLocation(e,this.location.x,this.location.y),u=!0):(r=this.tooltipLocation(e,i,n,a),this.inverted?(x=(g=r.x<i.x+this.clipBounds.x)?0:this.arrowPadding,this.allowHighlight&&(r.x+=g?this.highlightPadding:-2*this.highlightPadding)):(m=!(u=r.y<i.y+this.clipBounds.y),v=u?0:this.arrowPadding));if(""!==this.header){var S=2,L=0,P=this.isWrap?this.wrappedText:this.header;if(this.isWrap&&"string"==typeof P&&(P.indexOf("<")>-1||P.indexOf(">")>-1))S=P.split("<br>").length;this.header.indexOf("<br")>-1&&(L=5*(this.header.split(/<br.*?>/g).length-1));var T=(0,t.extend)({},this.textStyle,null,!0).properties,A=l(this.isWrap?this.wrappedText:this.header,T,this.themeStyle.textStyle).height+this.marginY*S+(m?this.arrowPadding:0)+(this.isWrap?5:L),O="M "+(3*this.marginX+(g||u||m?0:this.arrowPadding))+" "+A+"L "+(r.width+(g||u||m?0:this.arrowPadding)-2*this.marginX)+" "+A,k=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:"Material3"===this.theme?.2:.8,stroke:this.themeStyle.tooltipHeaderLine,d:O});h.appendChild(k)}var C=this.border.width/2,B=new c(C+x,C+v,r.width-C,r.height-C);if(h.setAttribute("opacity","1"),!this.enableAnimation||this.isFirst||this.crosshair?this.updateDiv(o,r.x,r.y):this.animateTooltipDiv(o,r),s.setAttribute("height",(r.height+this.border.width+(this.inverted?0:this.arrowPadding)+5).toString()),s.setAttribute("width",(r.width+this.border.width+(this.inverted?this.arrowPadding:0)+5).toString()),s.setAttribute("opacity","1"),(0,t.isNullOrUndefined)(this.tooltipPlacement)||(u=this.tooltipPlacement.indexOf("Top")>-1,m=this.tooltipPlacement.indexOf("Bottom")>-1,g=this.tooltipPlacement.indexOf("Left")>-1),p.setAttribute("d",d(this.rx,this.ry,B,n,this.arrowPadding,u,m,g,a.x,a.y,this.controlName)),this.enableShadow&&"Bootstrap4"!==this.theme||this.theme.indexOf("Fluent2")>-1){var E=this.element.id+"_shadow";"Tailwind"===this.theme||"TailwindDark"===this.theme||"Bootstrap5"===this.theme||"Bootstrap5Dark"===this.theme?p.setAttribute("box-shadow","0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)"):p.setAttribute("filter",t.Browser.isIE?"":"url(#"+E+")");var N='<filter id="'+E+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';this.theme.indexOf("Fluent2")>-1?N+='<feOffset dx="-1" dy="3.6" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.2"/>':N+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',N+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';var z=this.renderer.createDefs();z.setAttribute("id",this.element.id+"SVG_tooltip_definition"),h.appendChild(z),z.innerHTML=N}var M="Fabric"!==this.theme&&"Fluent"!==this.theme&&"Fluent2"!==this.theme||this.border.color?this.border.color:"#D2D0CE";p.setAttribute("stroke",M),(0,t.isNullOrUndefined)(this.border.dashArray)||p.setAttribute("stroke-dasharray",this.border.dashArray),this.changeText(new F(x,v),m,!g&&!u&&!m),this.revert&&(this.inverted=!this.inverted,this.revert=!1)}return new y(m,!g&&!u&&!m)},r.prototype.changeText=function(t,e,i){var r=document.getElementById(this.element.id+"_text");e&&r.setAttribute("transform","translate(0,"+this.arrowPadding+")"),i&&r.setAttribute("transform","translate("+this.arrowPadding+" 0)")},r.prototype.findFormattedText=function(){this.formattedText=[],""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()&&(this.formattedText=this.formattedText.concat(this.header)),this.formattedText=this.formattedText.concat(this.content)},r.prototype.renderText=function(e){var i,r,o,n,a,s=0,h=0,d=0,c="properties",y=(0,t.extend)({},this.textStyle,null,!0)[c],u=f(this.element.id+"_group"),x="";this.findFormattedText(),this.isWrap=!1;var v="rtl"===document.body.getAttribute("dir")&&!this.enableRTL?"end":"start";this.leftSpace=this.areaBounds.x+this.location.x,this.rightSpace=this.areaBounds.x+this.areaBounds.width-this.leftSpace;var b=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),F=this.header.indexOf("<b>")>-1&&this.header.indexOf("</b>")>-1,S=l(this.formattedText[0],y,this.themeStyle.textStyle).width+2*this.marginX+this.arrowPadding,L=this.location.x-S<this.location.x,P=this.areaBounds.x+this.areaBounds.width<this.location.x+S,T=""!==b?this.marginY:0,A=!0,O=!0;this.markerPoint=[];var k,C=this.shapes.length>0?10:0,B=this.shapes.length>0?5:0,E="12px",N="400",z=this.themeStyle.tooltipLightLabel,M=22/parseFloat(E)*parseFloat(y.size),R=[],_=0;e&&!this.isCanvas||(m(this.element.id+"_text"),m(this.element.id+"_header_path"),m(this.element.id+"_trackball_group"),m(this.element.id+"SVG_tooltip_definition")),"Chart"===this.controlName&&parseFloat(E)<parseFloat(y.size)&&(_=parseFloat(y.size)-parseFloat(E));for(var D=new g(this.element.id+"_text",2*this.marginX,_+2*this.marginY+2*this.padding+(2===this.marginY?"RangeNavigator"===this.controlName?5:3:0),v,""),I=w(D,y,y.color||this.themeStyle.tooltipBoldLabel,u,this.themeStyle.textStyle),W=1===this.formattedText.length&&this.formattedText[0].indexOf(" : <b>")>-1,j=""!==this.header,H=j&&F?16:13,U=0,V=this.formattedText.length;U<V;U++)if(o=this.formattedText[U].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"</b>").split(/<br.*?>/g),this.isTextWrap&&this.header!==this.formattedText[U]&&-1===this.formattedText[U].indexOf("<br")&&(k=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/H:this.rightSpace/H),o=this.formattedText[U].match(new RegExp(".{1,"+k+"}","g"))),0===U&&!W&&this.isTextWrap&&(this.leftSpace<S||L)&&(this.rightSpace<S||P)&&(k=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/H:this.rightSpace/H),o=(""!==b?b:this.formattedText[U]).match(new RegExp(".{1,"+k+"}","g")),this.wrappedText=F?"<b>"+o.join("<br>")+"</b>":o.join("<br>"),this.isWrap=o.length>1),""!==o[0]){0===U&&""!==b||this.markerPoint.push((""!==b?this.marginY:0)+D.y+s-(0!==_?_/this.markerSize*(parseFloat(y.size)/this.markerSize):0));for(var G=0,Q=o.length;G<Q;G++){i=o[G].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"</b><br>").replace(/:/g,this.enableRTL?"<br>‎: <br>":"<br>‎:<br>").split("<br>"),this.enableRTL&&i.length>0&&o[G].match(/:/g)&&(i[0]=i[0].trim(),i.reverse()),d=0,O=!0,s+=M;for(var X=0,Y=i.length;X<Y;X++)if(n=i[X],this.enableRTL&&""!==n&&this.isRTLText(n)&&(n=n.concat("‎")),/\S/.test(n)||""===n||(n=" "),!O&&" "===n||""!==n.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()){d+=" "!==n?4:0,O&&!A?(this.header.indexOf("<br")>-1&&0!==U&&(T+=this.header.split(/<br.*?>/g).length),a={x:2*this.marginX+(C+B),dy:M+(O?T:0),fill:""},T=null):a=A&&O?{x:""===b?2*this.marginX+(C+B):2*this.marginX+(this.isWrap?C+B:0)}:{},O=!1,r=this.renderer.createTSpan(a,""),I.appendChild(r),n.indexOf("<b>")>-1||F&&0===X&&0===U&&(j||this.isWrap)?(N="600",z=this.themeStyle.tooltipBoldLabel,x="font-weight:"+N,y.fontWeight=N,r.setAttribute("fill",this.textStyle.color||z)):(x="600"===N?"font-weight:"+N:"",y.fontWeight=N,r.setAttribute("fill",this.textStyle.color||z)),(n.indexOf("</b>")>-1||F&&X===Y-1&&0===U&&(j||this.isWrap))&&(N="Normal",z=this.themeStyle.tooltipLightLabel),""!==x&&(r.style.fontWeight=x.split("font-weight:")[1],r.style.color=r.getAttribute("fill")),r.style.fontFamily="inherit",r.style.fontStyle="inherit",r.style.fontSize=this.header===this.formattedText[U]?y.size:this.textStyle.size,r.style.fontWeight=this.header===this.formattedText[U]&&-1===(this.header.indexOf("<b>")||this.header.indexOf("</b>"))?this.textStyle.fontWeight||"600":n.indexOf("<b>")>-1||n.indexOf("</b>")>-1?"bold":this.textStyle.fontWeight||y.fontWeight;var q=(0,t.extend)({},this.textStyle,null,!0)[c];q.fontWeight=r.style.fontWeight,A=!1,r.textContent=n=this.getTooltipTextContent(n),d+=l(n,q,this.themeStyle.textStyle).width}d-=4,h=Math.max(h,d),R.push(d)}}this.elementSize=new p(h+(h>0?2*this.marginX:0),s),this.elementSize.width+=C+B;var Z=I.childNodes[0];if(""!==b&&Z&&!this.isWrap){y.fontWeight="600";var J=(this.elementSize.width+2*this.padding)/2-l(b,y,this.themeStyle.textStyle).width/2;Z.setAttribute("x",J.toString())}this.renderContentRTL(I,j,C+B,R)},r.prototype.renderContentRTL=function(e,i,r,o){if(this.enableRTL)for(var n=void 0,a=i?1:0,s=0;s<e.childNodes.length;s++)n=e.childNodes[s],i&&!(s>0)||(0,t.isNullOrUndefined)(n.getAttribute("x"))||(n.setAttribute("x",(this.elementSize.width-(r+o[a])).toString()),a++)},r.prototype.getTooltipTextContent=function(e){var i=e.match(/<[a-zA-Z\/](.|\n)*?>/g);if((0,t.isNullOrUndefined)(i))return e;for(var r=this.isRTLText(e),o=0;o<i.length;o++)this.isValidHTMLElement(i[o].replace("<","").replace("/","").replace(">","").trim())&&(e=e.replace(i[o],r?"‎":""));return e},r.prototype.isValidHTMLElement=function(t){return"[object HTMLUnknownElement]"!==document.createElement(t).toString()},r.prototype.isRTLText=function(t){return/[\u0590-\u07FF\u200F\u202B\u202E\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(t)},r.prototype.createTemplate=function(e,i){var r={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",r);var o=document.getElementById(this.element.id);this.isCanvas&&this.removeSVG();var n=o.firstElementChild;if(n&&(0,t.remove)(n),r.cancel)(0,t.remove)(f(this.element.id+"_tooltip"));else{var a=(0,t.createElement)("div",{id:this.element.id+"parent_template"}),s=void 0;if("Chart"===this.controlName&&this.shared)for(var l=0;l<this.data.length;l++){var h=this.templateFn(this.data[l],this.controlInstance,a.id,a.id+"_blazorTemplate","");0===l?s=h:h.length>1?s[l].outerHTML=h[l].outerHTML||h[l].textContent:s[s.length-1].outerHTML+=h[0].outerHTML}else s=this.templateFn(this.data,this.controlInstance,a.id,a.id+"_blazorTemplate","");for(;s&&s.length>0;)(0,t.isBlazor)()||1===s.length?(a.appendChild(s[0]),s=null):a.appendChild(s[0]);o.appendChild(a);var d=this.isCanvas?a:this.element,c=d.getBoundingClientRect();this.padding=0,this.elementSize=new p(c.width,c.height);var y=this.shared?this.sharedTooltipLocation(e,this.location.x,this.location.y):this.tooltipLocation(e,i,new F(0,0),new F(0,0));if(!this.enableAnimation||this.isFirst||this.crosshair?this.updateDiv(d,y.x,y.y):this.animateTooltipDiv(this.element,y),this.blazorTemplate){var u=function(){var t=f(g.element.id).getBoundingClientRect();g.elementSize=new p(t.width,t.height);var r=g.tooltipLocation(e,i,new F(0,0),new F(0,0));g.updateDiv(f(g.element.id),r.x,r.y)},g=this;u.bind(g,e,i),(0,t.updateBlazorTemplate)(this.element.id+"parent_template_blazorTemplate",this.blazorTemplate.name,this.blazorTemplate.parent,void 0,u)}}},r.prototype.sharedTooltipLocation=function(t,e,i){var r=this.elementSize.width+2*this.marginX,o=this.elementSize.height+2*this.marginY,n=new c(e+2*this.padding,i-o-this.padding,r,o);return n.y<t.y&&(n.y+=n.height+2*this.padding),n.y+n.height>t.y+t.height&&(n.y=Math.max(t.y+t.height-(n.height+2*this.padding),t.y)),n.x+n.width>t.x+t.width&&(n.x=t.x+this.location.x-(n.width+4*this.padding)),n.x<t.x&&(n.x=t.x),n},r.prototype.getCurrentPosition=function(t,e,i,r){var o=this.tooltipPlacement,n=this.clipBounds.x,a=this.clipBounds.y,s=this.offset,l=this.elementSize.width+2*this.marginX,h=this.elementSize.height+2*this.marginY,d=new F(e.x,e.y);return"Top"===o||"Bottom"===o?(d=new F(d.x+n-this.elementSize.width/2-this.padding,d.y+a-this.elementSize.height-2*this.padding-this.arrowPadding-s),i.x=r.x=l/2,"Bottom"===o&&(d.y=e.y+a+s),t.x+t.width<d.x+l?(d.x=t.width>l?t.x+t.width-l+6:t.x,i.x=r.x=t.width>l?t.x+e.x-d.x:e.x):t.x>d.x&&(d.x=t.x,i.x=r.x=e.x)):(d=new F(d.x+n+s,d.y+a-this.elementSize.height/2-this.padding),i.y=r.y=h/2,"Left"===o&&(d.x=e.x+n-s-(l+this.arrowPadding)),t.y+t.height<d.y+h?(d.y=t.height>h?t.y+t.height-h+6:t.y,i.y=r.y=t.height>h?t.y+e.y-d.y:e.y):t.y>d.y&&(d.y=t.y,i.y=r.y=e.y)),new c(d.x,d.y,l,h)},r.prototype.tooltipLocation=function(e,i,r,o){if(!(0,t.isNullOrUndefined)(this.tooltipPlacement))return this.getCurrentPosition(e,i,r,o);var n=new F(i.x,i.y),a=this.elementSize.width+2*this.marginX,s=this.elementSize.height+2*this.marginY,l=this.offset,d=this.clipBounds.x,p=this.clipBounds.y,y=e.x,u=e.y;return this.outOfBounds=!1,this.inverted?(n=new F(n.x+d+l,n.y+p-this.elementSize.height/2-this.padding),r.y=o.y=s/2,(n.x+a+this.arrowPadding>y+e.width||this.isNegative)&&(n.x=(i.x>e.width+e.x?e.width:i.x)+d-l-(a+this.arrowPadding)),n.x<y&&(n.x=(i.x<0?0:i.x)+d+l),n.x+a+this.arrowPadding>y+e.width&&(n.x=(i.x>e.width+e.x?e.width:i.x)+d-l-(a+this.arrowPadding)),n.y<=u&&(r.y-=u-n.y,o.y-=u-n.y,n.y=u),n.y+s>=u+e.height&&(r.y+=n.y+s-(u+e.height),o.y+=n.y+s-(u+e.height),n.y-=n.y+s-(u+e.height)),r.y+this.arrowPadding>s-this.ry&&(r.y=s-this.ry-this.arrowPadding,o.y=s),r.y-this.arrowPadding<this.ry&&(r.y=o.y=this.ry+this.arrowPadding),"Chart"===this.controlName&&((n.y+r.y<this.areaMargin+this.arrowPadding||e.y+e.height-(n.y+r.y)<this.areaMargin+this.arrowPadding)&&(this.outOfBounds=!0),h(n.x,n.y,e)&&!this.outOfBounds||(this.inverted=!this.inverted,n=new F(i.x+d-this.padding-this.elementSize.width/2,i.y+p-this.elementSize.height-2*this.padding-l-this.arrowPadding),this.revert=!0,o.x=r.x=a/2,o.y=r.y=0,(n.y<u||this.isNegative)&&(n.y=(i.y<0?0:i.y)+l+p),n.y+this.arrowPadding+s>u+e.height&&(n.y=Math.min(i.y,u+e.height)+p-this.elementSize.height-2*this.padding-l-this.arrowPadding),o.x=a/2,n.x<y&&(o.x-=y-n.x,r.x-=y-n.x,n.x=y),n.x+a>e.width+y&&(r.x+=n.x+a-(e.width+y),o.x+=n.x+a-(e.width+y),n.x-=n.x+a-(e.width+y)),this.arrowPadding+r.x>a-this.rx&&(o.x=a-this.rx-this.arrowPadding,r.x=a-this.rx-this.arrowPadding),r.x-this.arrowPadding<this.rx&&(r.x=o.x=this.rx+this.arrowPadding)))):(n=new F(n.x+d-this.elementSize.width/2-this.padding,n.y+p-this.elementSize.height-2*(this.allowHighlight?this.highlightPadding:this.padding)-this.arrowPadding-l),r.x=o.x=a/2,(n.y<u||this.isNegative)&&"Progressbar"!==this.controlName&&(n.y=(i.y<0?0:i.y)+p+l),n.y+s+this.arrowPadding>u+e.height&&(n.y=Math.min(i.y,u+e.height)+p-this.elementSize.height-2*this.padding-this.arrowPadding-l),(n.x+a>y+e.width&&n.y<u||this.isNegative)&&"Progressbar"!==this.controlName&&(n.y=(i.y<0?0:i.y)+p+l),o.x=a/2,n.x<y&&"Progressbar"!==this.controlName&&(r.x-=y-n.x,o.x-=y-n.x,n.x=y),n.x+a>y+e.width&&"Progressbar"!==this.controlName&&(r.x+=n.x+a-(y+e.width),o.x+=n.x+a-(y+e.width),n.x-=n.x+a-(y+e.width)),n.x<y&&"Progressbar"!==this.controlName&&(r.x-=y-n.x,o.x-=y-n.x,n.x=y),r.x+this.arrowPadding>a-this.rx&&(r.x=a-this.rx-this.arrowPadding,o.x=a-this.rx-this.arrowPadding),r.x-this.arrowPadding<this.rx&&(r.x=o.x=this.rx+this.arrowPadding),"Chart"===this.controlName&&((e.x+e.width-(n.x+r.x)<this.areaMargin+this.arrowPadding||n.x+r.x<this.areaMargin+this.arrowPadding)&&(this.outOfBounds=!0),this.template&&n.y<0&&(n.y=i.y+p+l),h(n.x,n.y,e)&&!this.outOfBounds||(this.inverted=!this.inverted,this.revert=!0,n=new F(i.x+l+d,i.y+p-this.elementSize.height/2-this.padding),o.x=r.x=0,o.y=r.y=s/2,(n.x+this.arrowPadding+a>y+e.width||this.isNegative)&&(n.x=(i.x>y+e.width?e.width:i.x)+d-l-(this.arrowPadding+a)),n.x<y&&(n.x=(i.x<0?0:i.x)+l+d),n.y<=u&&(o.y-=u-n.y,r.y-=u-n.y,n.y=u),n.y+s>=e.height+u&&(r.y+=n.y+s-(e.height+u),o.y+=n.y+s-(e.height+u),n.y-=n.y+s-(e.height+u)),this.arrowPadding+r.y>s-this.ry&&(r.y=s-this.arrowPadding-this.ry,o.y=s),r.y-this.arrowPadding<this.ry&&(r.y=this.arrowPadding+this.ry,o.y=0)))),new c(n.x,n.y,a,s)},r.prototype.animateTooltipDiv=function(e,i){var r,o=this,n=parseFloat(e.style.left),a=parseFloat(e.style.top);new t.Animation({}).animate(e,{duration:0===this.duration&&"Enable"===t.animationMode?300:this.duration,progress:function(s){r=s.timeStamp/s.duration,e.style.animation=null,"Chart"===o.controlName&&o.shared&&!o.enableRTL?(e.style.transition=(0,t.isBlazor)()?"transform 0.3s":"transform 0.1s",e.style.transform="translate("+(n+r*(i.x-n))+"px,"+(a+r*(i.y-a))+"px)",e.style.left="",e.style.top=""):(e.style.left=n+r*(i.x-n)+"px",e.style.top=a+r*(i.y-a)+"px",e.style.transform="RangeNavigator"===o.controlName?e.style.transform:"")},end:function(t){o.updateDiv(e,i.x,i.y),o.trigger("animationComplete",{tooltip:o})}})},r.prototype.updateDiv=function(t,e,i){"Chart"!==this.controlName||!this.shared||this.crosshair||this.enableRTL?(t.style.left=e+"px",t.style.top=i+"px",t.style.transform="RangeNavigator"===this.controlName?t.style.transform:""):(t.style.transform="translate("+e+"px,"+i+"px)",t.style.left="",t.style.top="")},r.prototype.updateTemplateFn=function(){if(this.template)try{"function"!=typeof this.template&&document.querySelectorAll(this.template).length?this.templateFn=(0,t.compile)(document.querySelector(this.template).innerHTML.trim()):this.templateFn=(0,t.compile)(this.template)}catch(e){this.templateFn=(0,t.compile)(this.template)}},r.prototype.fadeOut=function(){var e=this,i=this.isCanvas&&!this.template?f(this.element.id+"_svg"):f(this.element.id),r=f(this.element.id);if(i){var o=i.firstChild;if(o.nodeType!==Node.ELEMENT_NODE&&(o=i.firstElementChild),this.isCanvas&&!this.template&&(o=document.getElementById(this.element.id+"_group")?document.getElementById(this.element.id+"_group"):o),!o)return null;var n=parseFloat(o.getAttribute("opacity"));n=(0,t.isNullOrUndefined)(n)?1:n,new t.Animation({}).animate(o,{duration:200,progress:function(t){e.progressAnimation(o,n,t.timeStamp/t.duration)},end:function(){e.fadeOuted=!0,e.endAnimation(o),r.style.transition=""}})}},r.prototype.progressAnimation=function(t,e,i){t.style.animation="",t.setAttribute("opacity",(e-i).toString())},r.prototype.endAnimation=function(t){t.setAttribute("opacity","0"),this.template&&(t.style.display="none"),this.trigger("animationComplete",{tooltip:this})},r.prototype.getPersistData=function(){return this.addOnPersist([])},r.prototype.getModuleName=function(){return"tooltip"},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.element.classList.remove("e-tooltip")},r.prototype.onPropertyChanged=function(e,i){this.blazorTemplate&&(0,t.resetBlazorTemplate)(this.element.id+"parent_template_blazorTemplate"),this.isFirst=!1,this.render()},L([(0,t.Property)(!1)],r.prototype,"enable",void 0),L([(0,t.Property)(!1)],r.prototype,"shared",void 0),L([(0,t.Property)(!1)],r.prototype,"crosshair",void 0),L([(0,t.Property)(!1)],r.prototype,"enableShadow",void 0),L([(0,t.Property)(null)],r.prototype,"fill",void 0),L([(0,t.Property)("")],r.prototype,"header",void 0),L([(0,t.Property)(.75)],r.prototype,"opacity",void 0),L([(0,t.Complex)({size:"12px",fontWeight:null,color:null,fontStyle:"Normal",fontFamily:null},P)],r.prototype,"textStyle",void 0),L([(0,t.Property)(null)],r.prototype,"template",void 0),L([(0,t.Property)(!0)],r.prototype,"enableAnimation",void 0),L([(0,t.Property)(300)],r.prototype,"duration",void 0),L([(0,t.Property)(!1)],r.prototype,"inverted",void 0),L([(0,t.Property)(!1)],r.prototype,"isNegative",void 0),L([(0,t.Complex)({color:null,width:null},T)],r.prototype,"border",void 0),L([(0,t.Property)([])],r.prototype,"content",void 0),L([(0,t.Property)(10)],r.prototype,"markerSize",void 0),L([(0,t.Complex)({x:0,y:0},O)],r.prototype,"clipBounds",void 0),L([(0,t.Property)([])],r.prototype,"palette",void 0),L([(0,t.Property)([])],r.prototype,"shapes",void 0),L([(0,t.Complex)({x:0,y:0},O)],r.prototype,"location",void 0),L([(0,t.Property)(0)],r.prototype,"offset",void 0),L([(0,t.Property)(4)],r.prototype,"rx",void 0),L([(0,t.Property)(4)],r.prototype,"ry",void 0),L([(0,t.Property)(5)],r.prototype,"marginX",void 0),L([(0,t.Property)(5)],r.prototype,"marginY",void 0),L([(0,t.Property)(7)],r.prototype,"arrowPadding",void 0),L([(0,t.Property)(null)],r.prototype,"data",void 0),L([(0,t.Property)("Material")],r.prototype,"theme",void 0),L([(0,t.Complex)({x:0,y:0,width:0,height:0},A)],r.prototype,"areaBounds",void 0),L([(0,t.Property)(null)],r.prototype,"availableSize",void 0),L([(0,t.Property)()],r.prototype,"blazorTemplate",void 0),L([(0,t.Property)(!1)],r.prototype,"isCanvas",void 0),L([(0,t.Property)(!1)],r.prototype,"isTextWrap",void 0),L([(0,t.Property)(!1)],r.prototype,"isFixed",void 0),L([(0,t.Property)(null)],r.prototype,"tooltipPlacement",void 0),L([(0,t.Property)(null)],r.prototype,"controlInstance",void 0),L([(0,t.Property)("")],r.prototype,"controlName",void 0),L([(0,t.Event)()],r.prototype,"tooltipRender",void 0),L([(0,t.Event)()],r.prototype,"loaded",void 0),L([(0,t.Event)()],r.prototype,"animationComplete",void 0),L([(0,t.Property)(!1)],r.prototype,"enableRTL",void 0),L([(0,t.Property)(!1)],r.prototype,"allowHighlight",void 0),r=L([t.NotifyPropertyChanges],r)}(t.Component)})(),o})()));